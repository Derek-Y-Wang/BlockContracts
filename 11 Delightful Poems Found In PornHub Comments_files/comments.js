(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"1Ygy":function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return i}));var r=t("ERkP"),a=t.n(r),o=a.a.createContext({}),i=a.a.createContext({locale:"en",dict:{}})},"1nEv":function(e,n,t){(function(n){var t=1/0,r="[object Symbol]",a=/&(?:amp|lt|gt|quot|#39|#96);/g,o=RegExp(a.source),i="object"==typeof n&&n&&n.Object===Object&&n,c="object"==typeof self&&self&&self.Object===Object&&self,s=i||c||Function("return this")();var u,l=(u={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},function(e){return null==u?void 0:u[e]}),m=Object.prototype.toString,d=s.Symbol,f=d?d.prototype:void 0,p=f?f.toString:void 0;function _(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&m.call(e)==r}(e))return p?p.call(e):"";var n=e+"";return"0"==n&&1/e==-t?"-0":n}e.exports=function(e){var n;return(e=null==(n=e)?"":_(n))&&o.test(e)?e.replace(a,l):e}}).call(this,t("lpmq"))},"5mMc":function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return u}));var r=t("YNKt"),a=t("ERkP"),o=t.n(a),i=t("/Y2o");Object(i.a)(".button__2B7OH {\n  cursor: pointer;\n  padding: 0;\n  background-color: transparent;\n  background-image: none;\n  border: 1px solid transparent;\n  white-space: nowrap;\n  appearance: none;\n  user-select: none;\n  outline: 0;\n  font-family: inherit;\n  padding: .5rem .875rem;\n  font-size: 1rem;\n  line-height: 1.5rem;\n  border-radius: 3px;\n  text-decoration: none;\n  cursor: pointer;\n  display: inline-block;\n  border: 1px solid transparent;\n  text-align: center;\n  background-color: #0f65ef;\n  color: #fff;\n  border-color: #0f65ef;\n  border: 1px solid transparent;\n  transition: background-color .1s ease 0s; }\n  .button__2B7OH:active {\n    outline: 0; }\n  .button__2B7OH:not(.buttonDisabled__13ykz):not(:disabled):hover {\n    background-color: #093c8f;\n    transition: background-color .15s ease 0s; }\n  .button__2B7OH:not(.buttonDisabled__13ykz):not(:disabled):active {\n    background-color: #041e47; }\n  .button__2B7OH.buttonSecondary__1C-lz {\n    border: 1px solid #0f65ef;\n    color: #0f65ef;\n    background: none; }\n    .button__2B7OH.buttonSecondary__1C-lz:hover {\n      transition: background-color .15s ease 0s; }\n  .button__2B7OH.buttonSecondary__1C-lz:not(.buttonDisabled__13ykz):not(:disabled):hover {\n    background-color: #0f65ef;\n    color: #fff; }\n  .button__2B7OH.buttonSecondary__1C-lz:not(.buttonDisabled__13ykz):not(:disabled):active {\n    background-color: #041e47;\n    border-color: #041e47;\n    color: #fff; }\n\n.buttonDisabled__13ykz,\n.button__2B7OH:disabled {\n  opacity: 0.3; }\n  .buttonDisabled__13ykz:hover,\n  .button__2B7OH:disabled:hover {\n    cursor: default;\n    transition: none; }\n\n.buttonReset__2igEU {\n  cursor: pointer;\n  padding: 0;\n  background-color: transparent;\n  background-image: none;\n  border: 1px solid transparent;\n  white-space: nowrap;\n  appearance: none;\n  user-select: none;\n  outline: 0; }\n  .buttonReset__2igEU:active {\n    outline: 0; }\n");var c={button:"button__2B7OH",buttonDisabled:"buttonDisabled__13ykz",buttonSecondary:"buttonSecondary__1C-lz",buttonReset:"buttonReset__2igEU"};function s(e){var n=e.className,t=e.children,a=Object(r.e)(e,["className","children"]),i=[n,c.button];return o.a.createElement("button",Object(r.c)({className:i.join(" ")},a),t)}function u(e){var n=e.className,t=void 0===n?"":n,a=Object(r.e)(e,["className"]);return o.a.createElement(s,Object(r.c)({className:"".concat(t," ").concat(c.buttonSecondary)},a))}function l(e){var n=e.className,t=void 0===n?"":n,a=e.children,i=Object(r.e)(e,["className","children"]);return o.a.createElement("button",Object(r.c)({className:"".concat(c.buttonReset," ").concat(t)},i),a)}},H5ws:function(e,n,t){"use strict";var r=t("VtSi"),a=t.n(r),o=t("YNKt"),i=t("ERkP"),c=t.n(i),s=t("GkCM"),u=t("kLRQ"),l=t("/Y2o");Object(l.a)('.commentForm__1qkWk {\n  line-height: 1.3; }\n  .commentForm__1qkWk [class^="loadingSpinner"] {\n    margin: 0 0 0 .5rem; }\n\n.actions__14Qsc {\n  font-size: 1rem;\n  line-height: 1.3;\n  margin-top: 0.5rem; }\n  .actions__14Qsc:before, .actions__14Qsc:after {\n    content: " ";\n    display: table; }\n  .actions__14Qsc:after {\n    clear: both; }\n\n.textarea__12Sqg {\n  border: none;\n  padding: 0;\n  font-size: 1rem;\n  line-height: 1.3;\n  resize: none;\n  outline: none;\n  width: 100%; }\n\n.submit__BLj6i {\n  color: #0f65ef;\n  font-size: 1rem;\n  float: right;\n  font-weight: 600; }\n  .submit__BLj6i path {\n    fill: #0f65ef; }\n  .submit__BLj6i:hover {\n    color: #093c8f; }\n    .submit__BLj6i:hover path {\n      transition: fill .15s ease 0s;\n      fill: #093c8f;\n      cursor: pointer; }\n\n.submitting___ii-8 {\n  align-items: center;\n  justify-content: center;\n  float: right;\n  display: flex; }\n\n.submittingText__1806o {\n  font-size: 1rem;\n  line-height: 1.3; }\n\n.submittingText__1806o,\n.textarea__12Sqg::placeholder {\n  color: #aaa; }\n\n.form__1PqBJ {\n  line-height: 0;\n  border-radius: 3px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 0.5rem 1rem;\n  position: relative; }\n\n.label__NZf4n {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px; }\n\n.image__3xbUF {\n  border-radius: 3px;\n  max-width: 100%;\n  height: auto; }\n\n.imageIcon__1kilx {\n  width: 1.125rem;\n  height: 1.125rem;\n  fill: #0f65ef; }\n\n.imageIconLeft__VsjoR {\n  float: left;\n  cursor: pointer; }\n\n.imageIconInline__727y2 {\n  position: absolute;\n  right: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.3;\n  cursor: pointer; }\n\n.imagePreview__3LvJX {\n  display: inline-block;\n  margin-top: 0.5rem;\n  margin-bottom: 0.5rem;\n  position: relative; }\n\n.closeIcon__1DNL1 {\n  width: 28px;\n  height: 28px;\n  fill: red; }\n\n.disabled__3KGq_ {\n  opacity: 0.3; }\n\n.deletePreview__momld {\n  transform: translate(50%, -50%);\n  position: absolute;\n  top: 0;\n  right: 0; }\n\n.error__BHYi2 {\n  margin-bottom: 0.5rem;\n  position: relative;\n  margin-top: 0.25rem;\n  padding: 1rem;\n  font-size: 1rem;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  background-color: #feebe9;\n  color: #e32; }\n\n.errorText__3dF6y {\n  color: #e32;\n  font-size: 0.875rem;\n  line-height: 1.3; }\n\n.errorIcon__2rJxP {\n  height: 1rem;\n  margin-right: 1rem;\n  flex-shrink: 0;\n  overflow: hidden;\n  fill: #e32; }\n');var m={commentForm:"commentForm__1qkWk",actions:"actions__14Qsc",textarea:"textarea__12Sqg",submit:"submit__BLj6i",submitting:"submitting___ii-8",submittingText:"submittingText__1806o",form:"form__1PqBJ",label:"label__NZf4n",image:"image__3xbUF",imageIcon:"imageIcon__1kilx",imageIconLeft:"imageIconLeft__VsjoR",imageIconInline:"imageIconInline__727y2",imagePreview:"imagePreview__3LvJX",closeIcon:"closeIcon__1DNL1",disabled:"disabled__3KGq_",deletePreview:"deletePreview__momld",error:"error__BHYi2",errorText:"errorText__3dF6y",errorIcon:"errorIcon__2rJxP"},d=t("fGyu"),f="Unable to read file",p="`file` is required",_="Wrong file type";function g(e){return new Promise((function(n,t){var r=new FileReader;r.onload=function(e){e&&e.target&&e.target.result?n(e.target.result):t(f)},r.onabort=r.onerror=function(){return t(f)},r.readAsDataURL(e)}))}function b(e){var n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(g(e));case 2:if((n=t.sent)&&-1!==n.indexOf("image")){t.next=5;break}throw f;case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),null,null,null,Promise)}function h(e){var n,t,r,o,i,c=arguments;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},t=n.fixOrientation,r=void 0===t||t,e){s.next=3;break}throw p;case 3:if(E(e)){s.next=5;break}throw _;case 5:return s.prev=5,s.next=8,a.a.awrap(b(e));case 8:o=s.sent,s.next=14;break;case 11:s.prev=11,s.t0=s.catch(5),o=v(e);case 14:if(r){s.next=16;break}return s.abrupt("return",o);case 16:return s.prev=16,s.next=19,a.a.awrap(O(e));case 19:return i=s.sent,s.next=22,a.a.awrap(x(o,i));case 22:return s.abrupt("return",s.sent);case 25:return s.prev=25,s.t1=s.catch(16),s.abrupt("return",o);case 28:case"end":return s.stop()}}),null,null,[[5,11],[16,25]],Promise)}function v(e){var n=window.URL||window.webkitURL;return e&&n&&n.createObjectURL?n.createObjectURL(e):null}function E(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=["image/jpg","image/jpeg","image/png","image/gif"].concat(Object(d.a)(n));return!(!e||!e.type)&&-1!==t.indexOf(e.type)}function O(e){var n,t,r,o,i,c,s,u;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,a.a.awrap(k(e));case 2:if(n=l.sent,65496===(t=new DataView(n)).getUint16(0,!1)){l.next=6;break}return l.abrupt("return",-2);case 6:r=t.byteLength,o=2;case 7:if(!(o<r)){l.next=35;break}if(!(t.getUint16(o+2,!1)<=8)){l.next=10;break}return l.abrupt("return",-1);case 10:if(i=t.getUint16(o,!1),o+=2,65505!==i){l.next=28;break}if(1165519206===t.getUint32(o+=2,!1)){l.next=15;break}return l.abrupt("return",-1);case 15:c=18761===t.getUint16(o+=6,!1),o+=t.getUint32(o+4,c),s=t.getUint16(o,c),o+=2,u=0;case 20:if(!(u<s)){l.next=26;break}if(274!==t.getUint16(o+12*u,c)){l.next=23;break}return l.abrupt("return",t.getUint16(o+12*u+8,c));case 23:u++,l.next=20;break;case 26:l.next=33;break;case 28:if(65280===(65280&i)){l.next=32;break}return l.abrupt("break",35);case 32:o+=t.getUint16(o,!1);case 33:l.next=7;break;case 35:return l.abrupt("return",-1);case 36:case"end":return l.stop()}}),null,null,null,Promise)}function x(e,n){var t,r,o,i,c;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(!n||n<2||n>8)){s.next=2;break}return s.abrupt("return",e);case 2:return s.next=4,a.a.awrap(y(e));case 4:t=s.sent,r=t.width,o=t.height,i=document.createElement("canvas"),c=i.getContext("2d"),4<n&&n<9?(i.width=o,i.height=r):(i.width=r,i.height=o),s.t0=n,s.next=2===s.t0?13:3===s.t0?15:4===s.t0?17:5===s.t0?19:6===s.t0?21:7===s.t0?23:8===s.t0?25:27;break;case 13:return c.transform(-1,0,0,1,r,0),s.abrupt("break",28);case 15:return c.transform(-1,0,0,-1,r,o),s.abrupt("break",28);case 17:return c.transform(1,0,0,-1,0,o),s.abrupt("break",28);case 19:return c.transform(0,1,1,0,0,0),s.abrupt("break",28);case 21:return c.transform(0,1,-1,0,o,0),s.abrupt("break",28);case 23:return c.transform(0,-1,-1,0,o,r),s.abrupt("break",28);case 25:return c.transform(0,-1,1,0,0,r),s.abrupt("break",28);case 27:return s.abrupt("break",28);case 28:return c.drawImage(t,0,0),s.abrupt("return",i.toDataURL());case 30:case"end":return s.stop()}}),null,null,null,Promise)}function y(e){return new Promise((function(n,t){var r=new Image;r.onload=function(){return n(r)},r.onabort=r.onerror=t,r.src=e}))}function k(e){return new Promise((function(n,t){var r=new FileReader;r.onload=function(e){return n(e.target.result)},r.onabort=r.onerror=t,r.readAsArrayBuffer(e)}))}var I=t("5mMc"),R={en:{OOPS_WRONG_FILE_TYPE_NEED_IMAGE:"Oops! We can\u2019t accept that file type. Try uploading it again as a jpg, gif, or png.",OOPS_IMAGE_TOO_BIG:"Oops! This image couldn't upload because it's too big. Make sure your image is under 10MB.",IMAGE_UPLOADING_FAILED:"Womp! This image couldn't upload :(",UNABLE_TO_SHOW_IMAGE_PREVIEW:"Unable to show image preview :(",UNABLE_TO_ADD_COMMENT:"This comment couldn't upload :(. Refresh the page and try again.",POST:"Post",POSTING:"Posting"}};function N(e){var n=e.position,t=void 0===n?"inline":n,r=e.image,a=e.onImageSelected,o={inline:m.imageIconInline,left:m.imageIconLeft},i=Math.random().toString(36).substr(2,9),u=r?m.disabled:"";return c.a.createElement("label",{className:"".concat(o[t]," ").concat(u),htmlFor:i},!r&&c.a.createElement("input",{id:i,type:"file",style:{display:"none"},accept:"image/*",onChange:a}),c.a.createElement(s.s,{className:m.imageIcon}))}function j(e){var n=e.image,t=e.onRemove,r=e.imageStyles,a=void 0===r?{}:r;return n?c.a.createElement("div",{className:m.imagePreview},c.a.createElement(I.a,{className:m.deletePreview,title:"Remove Image",onClick:t},c.a.createElement(s.h,{className:m.closeIcon,fill:"#07E",title:"Remove Image"})),c.a.createElement("img",{className:m.image,src:n,style:a,alt:"Selected by user"})):null}function w(e){var n=e.children;return n?c.a.createElement(C,{dependency:n},c.a.createElement("div",{className:m.error},c.a.createElement(s.g,{className:m.errorIcon}),c.a.createElement("div",{className:m.errorText},n))):null}function C(e){var n=e.children,t=e.dependency,r=Object(i.useRef)();return Object(i.useEffect)((function(){r.current&&r.current.focus()}),[t]),n?c.a.createElement("div",{role:"alert",ref:r,tabIndex:"-1"},n):null}n.a=function(e){var n=e.locale,t=void 0===n?"en":n,r=e.allowImages,s=void 0===r||r,l=e.maxLength,d=void 0===l?1e3:l,f=e.minRows,p=void 0===f?1:f,_=e.minRowsFocused,g=e.isExpandable,b=e.placeholder,v=void 0===b?"":b,O=e.className,x=void 0===O?"":O,y=e.text,k=void 0===y?"":y,M=e.imageStyles,S=e.isSubmitting,T=e.image,L=e.onChange,A=e.onSubmit,P=e.error,z=(P=void 0===P?{}:P).type,B=P.message;_=_||p;var D=Object(o.d)({},R.en,{},R[t]||{}),F=Object(i.useRef)(null),U={extension:D.OOPS_WRONG_FILE_TYPE_NEED_IMAGE,filesize:D.OOPS_IMAGE_TOO_BIG,upload:D.IMAGE_UPLOADING_FAILED,preview:D.UNABLE_TO_SHOW_IMAGE_PREVIEW,comment:D.UNABLE_TO_ADD_COMMENT},H=Object(i.useState)(null),W=Object(o.f)(H,2),G=W[0],Y=W[1],q=Object(i.useState)(!1),V=Object(o.f)(q,2),K=V[0],X=V[1],J=!g||k||K?"expanded":"compact",Z=!k.trim().length&&!T,Q="compact"!==J||G,$=s&&!Q,ee=[m.submit,Z?m.disabled:""].join(" "),ne=B||U[z],te=!!k;function re(e){var n=e.target.files[0];n&&(E(n)?!n.size||n.size>10485760?L({error:{type:"filesize"}}):L({image:n,error:{}}):L({error:{type:"extension"}}))}return Object(i.useEffect)((function(){function e(){return(e=Object(o.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(T);case 3:n=e.sent,Y(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),L({image:null,error:{type:"preview"}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}T?function(){e.apply(this,arguments)}():Y(null)}),[T,L]),Object(i.useEffect)((function(){!te&&g&&K&&(F.current.rows=_),te||!g||K||(F.current.rows=p),te||g||(F.current.rows=p)}),[te,g,K,p,_]),c.a.createElement("div",{className:"".concat(m.commentForm," ").concat(x)},c.a.createElement("form",{className:"".concat(m.form),onSubmit:function(e){e.preventDefault(),S||Z||"function"!==typeof A||A({text:k.trim(),image:T})}},c.a.createElement("label",{htmlFor:"comment-form-textarea",className:m.label},v),c.a.createElement("textarea",{id:"comment-form-textarea",maxLength:d,className:m.textarea,rows:p,ref:F,placeholder:v,onFocus:function(){X(!0)},onBlur:function(){X(!1)},onChange:function(e){if(e.target.value.match(/(\n\n\n+)/g)){var n=e.target.selectionStart;e.target.value=e.target.value.replace(/(\n\n\n+)/gi,"\n\n"),e.target.setSelectionRange&&e.target.setSelectionRange(n-1,n-1)}!function(){F.current.value.length<k.length&&(F.current.rows=_);var e=F.current,n=e.clientHeight,t=e.scrollHeight,r=n/F.current.rows,a=Math.ceil(t/r);F.current.rows=Math.max(a,_)}(),L({text:e.target.value})},value:k}),c.a.createElement(j,{image:G,onRemove:function(){L({image:null}),Y(null)},imageStyles:M}),$&&c.a.createElement(N,{image:G,onImageSelected:re}),Q&&c.a.createElement("div",{className:m.actions},s&&c.a.createElement(N,{image:G,position:"left",onImageSelected:re}),!S&&c.a.createElement(I.a,{type:"submit",className:ee,disabled:Z?"disabled":null},D.POST),S&&c.a.createElement(C,{dependency:S},c.a.createElement("div",{className:m.submitting},c.a.createElement("span",{className:m.submittingText},D.POSTING),c.a.createElement(u.a,{size:".75rem",color:"#aaaaaa",background:"#ffffff"}))))),c.a.createElement(w,null,ne))}},ObSw:function(e,n,t){"use strict";t.r(n),t.d(n,"Container",(function(){return De}));var r=t("YNKt"),a=t("ERkP"),o=t.n(a),i=t("kl+4"),c=t("0Jwk"),s=t("PMPH"),u="bf2-b_info";function l(){return function(e){if(!e)return null;var n=decodeURIComponent(e).split("&"),t=n.findIndex((function(e){return e.match("^image=")}));if(-1!==t&&n[t+1]&&n[t+1].match("^crop=")){var r=n.splice(t+1,1);n[t]+="&"+r}return n.reduce((function(e,n){var t=n.split("="),r=Object(c.a)(t),a=r[0],o=r.slice(1).join("=");return e[a]=decodeURIComponent(o),e}),{})}(s.a.get(u))||null}var m=t("1Ygy"),d=t("kLRQ"),f=t("5mMc"),p=t("/Y2o");Object(p.a)('.comments__1Fnu2 {\n  position: relative; }\n  .comments__1Fnu2 .loadMore__2Dxpp {\n    padding: .5rem 2rem;\n    width: 100%; }\n    @media (min-width: 40rem) {\n      .comments__1Fnu2 .loadMore__2Dxpp {\n        width: initial; } }\n  .comments__1Fnu2 .loadMoreWrapper__2s6xj {\n    text-align: center; }\n\n.commentsList__2jP46 {\n  margin-left: 0;\n  padding-left: 0;\n  list-style: none; }\n\n.comment__3CCjh {\n  margin-bottom: 2rem; }\n\n.userName__36yQT {\n  margin-right: 0.5rem;\n  font-weight: 600;\n  color: #222;\n  text-decoration: underline; }\n\n.userNameLink__2sGRK:hover {\n  color: #0f65ef;\n  cursor: pointer; }\n\n.userNameBadgeTimestamp__3TLB6 {\n  display: flex;\n  flex-direction: column; }\n  @media (min-width: 52rem) {\n    .userNameBadgeTimestamp__3TLB6 {\n      flex-direction: row; } }\n\n.userNameAndActions__2b8It {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 0.5rem; }\n\n.userImgWrapper__1h3ow {\n  min-width: max-content;\n  margin-right: 1rem;\n  max-width: 100%; }\n\n.userImg__3FF2q {\n  width: 34px;\n  height: 34px;\n  border-radius: 50%; }\n\n.userInfoContainer__1uxVF {\n  width: 100%;\n  flex-direction: column;\n  font-size: .875rem; }\n\n.timestamp__3LEfd {\n  color: #aaa;\n  display: inline-block; }\n\n.circleCheck__2pRsR {\n  margin-right: .25rem;\n  fill: #e32;\n  position: relative;\n  top: -1px; }\n\n.staffBadgeWrapper__Z1WHI {\n  font-weight: 600;\n  margin-right: .5rem;\n  align-items: center;\n  display: flex; }\n\n.commentForm__3gh22 {\n  margin-left: 3rem;\n  margin-bottom: 1rem; }\n\n.commentBullet__172bk {\n  width: 3px;\n  height: 3px;\n  background-color: #d8d8d8;\n  margin-top: -2px;\n  display: inline-block;\n  margin-right: .5rem;\n  border-radius: 50%;\n  vertical-align: middle; }\n\n.commentBullet__172bk::before {\n  content: " "; }\n\n.commentLike__3HJgL {\n  color: #0f65ef;\n  font-size: .875rem;\n  margin-right: .5rem; }\n  .commentLike__3HJgL path {\n    fill: #0f65ef; }\n  .commentLike__3HJgL:hover {\n    color: #093c8f; }\n    .commentLike__3HJgL:hover path {\n      transition: fill .15s ease 0s;\n      fill: #093c8f;\n      cursor: pointer; }\n\n.readMore__3Q0tU {\n  color: #0f65ef;\n  font-size: inherit;\n  line-height: inherit; }\n  .readMore__3Q0tU path {\n    fill: #0f65ef; }\n  .readMore__3Q0tU:hover {\n    color: #093c8f; }\n    .readMore__3Q0tU:hover path {\n      transition: fill .15s ease 0s;\n      fill: #093c8f;\n      cursor: pointer; }\n\n.commentReply__bgorE {\n  margin-bottom: 1rem; }\n  .commentReply__bgorE .commentImage__2POKW {\n    max-height: 350px; }\n  .commentReply__bgorE .repliesAndLikes___8uXM {\n    margin-left: 2.5rem; }\n\n.commentText__3iWLj {\n  font-size: 1rem;\n  line-height: 1.3;\n  margin-bottom: 0;\n  white-space: pre-line;\n  word-break: break-word; }\n\n.commentImageLink__uMVKq {\n  display: block;\n  margin-top: 1rem; }\n\n.commentImage__2POKW {\n  max-width: 100%;\n  height: auto;\n  max-height: 400px; }\n\n.actions__2a-6L {\n  position: relative; }\n\n.actionItem__HCxAC {\n  font-size: .875rem;\n  line-height: 1.5; }\n\n.commentMenu__mqN2q {\n  position: absolute;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  background-color: #fff;\n  border-radius: 3px;\n  padding: .5rem;\n  margin-right: .5rem;\n  margin-left: 0;\n  z-index: 100;\n  list-style: none;\n  word-break: keep-all;\n  white-space: nowrap;\n  right: 100%;\n  top: 0;\n  min-width: 7rem;\n  box-shadow: 0 2px 3px rgba(173, 168, 168, 0.3); }\n\n.reportedCheckmark__M5BlL {\n  vertical-align: middle;\n  width: 1.125rem;\n  height: 1.125rem;\n  margin-top: -3px; }\n\n.comment__3CCjh .comments__1Fnu2 {\n  margin-left: 3rem; }\n  .comment__3CCjh .comments__1Fnu2 .userImg__3FF2q {\n    width: 25px;\n    height: 25px; }\n  .comment__3CCjh .comments__1Fnu2 [class^="loadingSpinner"] {\n    margin: .5rem auto; }\n  .comment__3CCjh .comments__1Fnu2 .loadMoreReplies__2LCqh {\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n    font-size: 1rem;\n    line-height: 1.5;\n    color: #0f65ef; }\n    .comment__3CCjh .comments__1Fnu2 .loadMoreReplies__2LCqh path {\n      fill: #0f65ef; }\n    .comment__3CCjh .comments__1Fnu2 .loadMoreReplies__2LCqh:hover {\n      color: #093c8f; }\n      .comment__3CCjh .comments__1Fnu2 .loadMoreReplies__2LCqh:hover path {\n        transition: fill .15s ease 0s;\n        fill: #093c8f;\n        cursor: pointer; }\n  .comment__3CCjh .comments__1Fnu2 .commentsList__2jP46 {\n    padding-left: 1rem;\n    border-left: 1px solid rgba(0, 0, 0, 0.2);\n    list-style: none; }\n\n.likesCount__20vtX {\n  color: #0f65ef;\n  font-size: .875rem;\n  margin-right: .5rem; }\n  .likesCount__20vtX path {\n    fill: #0f65ef; }\n  .likesCount__20vtX:hover {\n    color: #093c8f; }\n    .likesCount__20vtX:hover path {\n      transition: fill .15s ease 0s;\n      fill: #093c8f;\n      cursor: pointer; }\n\n.repliesButton__27prJ {\n  color: #0f65ef;\n  font-size: .875rem; }\n  .repliesButton__27prJ path {\n    fill: #0f65ef; }\n  .repliesButton__27prJ:hover {\n    color: #093c8f; }\n    .repliesButton__27prJ:hover path {\n      transition: fill .15s ease 0s;\n      fill: #093c8f;\n      cursor: pointer; }\n\n.repliesAndLikes___8uXM {\n  margin: .25rem 0 .5rem 3rem; }\n\n.heartIcon__1CBrL {\n  width: 0.75rem;\n  height: 0.75rem;\n  vertical-align: middle;\n  fill: #0f65ef;\n  margin-top: -2px; }\n\n.flexRow__7iZ8h {\n  display: flex;\n  flex-direction: row; }\n');var _,g,b={comments:"comments__1Fnu2",loadMore:"loadMore__2Dxpp",loadMoreWrapper:"loadMoreWrapper__2s6xj",commentsList:"commentsList__2jP46",comment:"comment__3CCjh",userName:"userName__36yQT",userNameLink:"userNameLink__2sGRK",userNameBadgeTimestamp:"userNameBadgeTimestamp__3TLB6",userNameAndActions:"userNameAndActions__2b8It",userImgWrapper:"userImgWrapper__1h3ow",userImg:"userImg__3FF2q",userInfoContainer:"userInfoContainer__1uxVF",timestamp:"timestamp__3LEfd",circleCheck:"circleCheck__2pRsR",staffBadgeWrapper:"staffBadgeWrapper__Z1WHI",commentForm:"commentForm__3gh22",commentBullet:"commentBullet__172bk",commentLike:"commentLike__3HJgL",readMore:"readMore__3Q0tU",commentReply:"commentReply__bgorE",commentImage:"commentImage__2POKW",repliesAndLikes:"repliesAndLikes___8uXM",commentText:"commentText__3iWLj",commentImageLink:"commentImageLink__uMVKq",actions:"actions__2a-6L",actionItem:"actionItem__HCxAC",commentMenu:"commentMenu__mqN2q",reportedCheckmark:"reportedCheckmark__M5BlL",loadMoreReplies:"loadMoreReplies__2LCqh",likesCount:"likesCount__20vtX",repliesButton:"repliesButton__27prJ",heartIcon:"heartIcon__1CBrL",flexRow:"flexRow__7iZ8h"},h=t("W+OE"),v=t("GkCM"),E="flag",O="love",x=(_={},Object(r.b)(_,E,"isFlagged"),Object(r.b)(_,O,"isLoved"),_),y=(g={},Object(r.b)(g,E,"isPendingFlag"),Object(r.b)(g,O,"isPendingLove"),g),k={image:"https://img.buzzfeed.com/buzzfeed-static/static/images/public/defaults/user.jpg",displayName:"[deleted]"},I={LIKES:"hearts",DATE:"date"},R=t("H5ws"),N=O,j=!i.b&&l();var w=function(e){var n=e.loveCount,t=void 0===n?0:n,i=e.isLoved,c=void 0!==i&&i,s=e.children,u=void 0===s?[]:s,l=e.id,d=e.parentId,p=e.user,_=void 0===p?k:p,g=e.nextPageURL,E=e.isPendingLove,O=e.isLoading,x=e.form,y=e.track,I=!d&&u&&u.length,w=Object(a.useState)(!!I),C=Object(r.f)(w,2),M=C[0],S=C[1],T=Object(a.useContext)(m.b).locale,L=Object(a.useContext)(m.a),A=L.toggleReaction,P=L.addComment,z=L.changeForm,D=_.displayName,F=void 0===D?k.displayName:D,U=u.length>10||g?"10+":u.length,H=Object(h.a)("SHOW_REPLIES_X",{number:U}),W=Object(h.a)("REPLY"),G=Object(h.a)("HIDE_REPLIES"),Y=Object(h.a)("REPLY_TO_NAME",{name:F}),q=M?G:U?H:W,V=!d&&(U||!M&&j),K=c?v.k:v.l,X=Object(a.useCallback)((function(e){return z({parentId:l,data:e})}),[l,z]);return o.a.createElement("div",null,o.a.createElement("div",{className:b.repliesAndLikes},o.a.createElement(f.a,{className:b.commentLike,onClick:function(){E||A({id:l,parentId:d,reaction:N,value:!c})}},o.a.createElement(K,{className:b.heartIcon})),!!t&&o.a.createElement("span",{className:b.likesCount},t),V&&o.a.createElement("span",{className:b.commentBullet}),V&&o.a.createElement(f.a,{className:b.repliesButton,title:q,onClick:function(){S((function(e){return!e}));var e="function"===typeof y.contentAction?y.contentAction:y;"function"===typeof e&&e({itemType:"comment",itemName:String(l),actionType:M?"hide":"show",actionValue:"replies"})}},q)),M&&o.a.createElement(o.a.Fragment,null,o.a.createElement(B,{comments:u,nextPageURL:g,parentId:l,firstPage:3,perPage:10,isLoading:O,track:y}),j&&o.a.createElement(R.a,Object(r.c)({className:b.commentForm,imageStyles:{maxHeight:"350px"},placeholder:Y,onSubmit:function(e){var n=e.text,t=e.image;P({text:n,image:t,parentId:l})},onChange:X,isExpandable:!0,locale:T},x))))},C=E;var M=function(e){var n=e.id,t=e.parentId,i=e.isFlagged,c=e.isPendingFlag,s=Object(a.useContext)(m.a).toggleReaction,u=Object(a.useState)(!1),l=Object(r.f)(u,2),d=l[0],p=l[1],_=Object(a.useRef)(),g=Object(h.a)("REPORT_COMMENT"),E=Object(h.a)("FLAG_AS_INAPPROPRIATE"),O=Object(h.a)("REPORTED");return Object(a.useEffect)((function(){function e(e){d&&!_.current.contains(e.target)&&p(!1)}return d&&document.addEventListener("click",e,!1),function(){return document.removeEventListener("click",e,!1)}}),[d]),n?o.a.createElement("div",{className:b.actions,ref:_},o.a.createElement(f.a,{role:"menu",onClick:function(){p((function(e){return!e}))}},o.a.createElement(v.p,{fill:"#D8D8D8"})),d&&o.a.createElement("ul",{className:b.commentMenu},o.a.createElement("li",null,i?o.a.createElement("span",{className:b.actionItem},o.a.createElement(v.e,{className:b.reportedCheckmark})," ",O):o.a.createElement(f.a,{className:b.actionItem,onClick:function(){c||(p(!1),s({id:n,parentId:t,reaction:C,value:!0}))},title:E},g)))):null};function S(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",t=function(e){var n,t={year:["year","years"],month:["month","months"],day:["day","days"],hour:["hour","hours"],minute:["minute","minutes"],second:["second","seconds"]},r=Date.now()/1e3,a=Math.floor(r-e);if((n=Math.floor(a/31536e3))>=1)return{type:"year",value:n,text:n+" "+(1===n?t.year[0]:t.year[1])+" ago"};if((n=Math.floor(a/2592e3))>=1)return{type:"month",value:n,text:n+" "+(1===n?t.month[0]:t.month[1])+" ago"};if((n=Math.floor(a/86400))>=1)return{type:"day",value:n,text:n+" "+(1===n?t.day[0]:t.day[1])+" ago"};if((n=Math.floor(a/3600))>=1)return{type:"hour",value:n,text:n+" "+(1===n?t.hour[0]:t.hour[1])+" ago"};if((n=Math.floor(a/60))>=1)return{type:"minute",value:n,text:n+" "+(1===n?t.minute[0]:t.minute[1])+" ago"};return{type:"second",value:a,text:a+" "+(1===a?t.minute[0]:t.minute[1])+" ago"}}(e),r=t.type,a=t.value,o=t.text;return Intl.RelativeTimeFormat?new Intl.RelativeTimeFormat(n,{localeMatcher:"best fit",numeric:"always",style:"long"}).format(-a,r):o}var T=!i.b&&l();function L(e){var n=e.user,t=void 0===n?k:n,i=e.createdAt,c=e.pictureUrl,s=e.blurb,u=e.userId,l=Object(r.e)(e,["user","createdAt","pictureUrl","blurb","userId"]),d=Object(a.useContext)(m.b).locale,f=Math.floor(Date.now()/1e4),p=Object(a.useMemo)((function(){return S(i,d)}),[i,d,f]),_=t.image,g=void 0===_?k.image:_,h=t.username,v=t.displayName,E=t.bylineDescriptionId,O=l.parentId?b.commentReply:"",x="js-contribution--".concat(l.id),y=2===+E,I=T&&"".concat(T.userid)!=="".concat(u);return o.a.createElement("li",{className:"".concat(b.comment," ").concat(O," ").concat(x)},o.a.createElement("div",{className:b.flexRow},o.a.createElement("span",{className:b.userImgWrapper},o.a.createElement("img",{src:g||k.image,alt:"",className:b.userImg})),o.a.createElement("div",{className:b.userInfoContainer},o.a.createElement("div",{className:b.userNameAndActions},o.a.createElement("div",{className:b.userNameBadgeTimestamp},o.a.createElement("div",{className:b.flexRow},o.a.createElement(z,{username:h,displayName:v}),y&&o.a.createElement(P,null)),p&&o.a.createElement("section",{className:b.timestamp},p)),I&&o.a.createElement(M,l)),o.a.createElement(A,null,s),c&&o.a.createElement("a",{href:c,className:b.commentImageLink,target:"_blank"},o.a.createElement("img",{className:b.commentImage,src:c,alt:""})))),o.a.createElement(w,Object(r.c)({user:t},l)))}function A(e){var n=e.children,t=e.truncateAt,i=void 0===t?280:t,c=e.maxLength,s=Object(a.useState)(!0),u=Object(r.f)(s,2),l=u[0],m=u[1],d=Object(h.a)("READ_MORE");if(!n)return null;var p=n.replace(/(\n\n\n+)/gi,"\n\n").trim(),_=(p.match(/\n/g)||[]).length,g=p.length<i&&_<=10;if(c=c||1.2*i,!p)return null;if(g||!l)return o.a.createElement("div",{className:b.commentText},p);var v=p.indexOf(" ",i),E=-1===v?c:Math.min(v,c),O=p.substr(0,E).trim();return(O.match(/\n/g)||[]).length>10&&(O=O.split("\n").slice(0,10).join("\n").trim()),o.a.createElement("div",{className:b.commentText},O,"... ",o.a.createElement(f.a,{className:b.readMore,onClick:function(){m(!1)}},d))}function P(){return o.a.createElement("span",{className:b.staffBadgeWrapper},o.a.createElement(v.f,{height:"14",width:"14",className:b.circleCheck}),"Staff")}function z(e){var n=e.username,t=e.displayName;return n?o.a.createElement("a",{className:"".concat(b.userName," ").concat(b.userNameLink),href:"/".concat(n)},t||n):o.a.createElement("span",{className:b.userName},t)}var B=function(e){var n=e.firstPage,t=void 0===n?3:n,i=e.perPage,c=void 0===i?20:i,s=e.isLoading,u=void 0!==s&&s,l=e.comments,p=void 0===l?[]:l,_=e.nextPageURL,g=e.parentId,v=e.orderBy,E=e.track,O=Object(a.useState)(t),x=Object(r.f)(O,2),y=x[0],k=x[1],I=Object(a.useContext)(m.a).load,R=Object(h.a)("LOAD_MORE"),N=Object(h.a)("SHOW_MORE"),j=_||p.length>y,w=Object(a.useCallback)((function(){var e=y+c;k(e),p.length<e&&_&&I({url:_,amount:e-p.length});("function"===typeof E.contentAction?E.contentAction:E)({type:"show",form:"more",action:"comments",actionType:"show",actionValue:"comments_more",itemType:"button",itemName:"load_more"})}),[y,c,p.length,_,g,I,E,v]),C=g?p.slice(0,y).reverse():p.slice(0,y),M=g?".75rem":"1.5rem",S=j&&!u;return o.a.createElement("div",{className:b.comments,style:!u||g||p.length?{}:{minHeight:"100px"}},g&&S&&o.a.createElement(f.a,{className:b.loadMoreReplies,onClick:w},N),g&&u&&o.a.createElement(d.a,{size:M,color:"#aaaaaa",background:"#ffffff"}),o.a.createElement("ul",{className:b.commentsList},C.map((function(e){return o.a.createElement(L,Object(r.c)({},e,{key:e.id,track:E}))}))),!g&&S&&o.a.createElement("div",{className:b.loadMoreWrapper},o.a.createElement(f.b,{className:b.loadMore,onClick:w},R)),!g&&u&&o.a.createElement(d.a,{size:M,color:"#aaaaaa",background:"#ffffff"}))};Object(p.a)('.orderBy__2N1OU {\n  margin-bottom: 1rem; }\n\n.radio__3EKMI {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n  height: 0px; }\n  .radio__3EKMI + label {\n    font-size: .875rem;\n    cursor: pointer;\n    line-height: 1.5rem;\n    display: inline-block; }\n    .radio__3EKMI + label:before {\n      box-sizing: border-box;\n      content: "";\n      display: inline-block;\n      width: .75rem;\n      height: .75rem;\n      margin-right: .375rem;\n      position: relative;\n      bottom: -1px;\n      background-color: #fff;\n      border: 1px solid #d7d7d7;\n      border-radius: 50%; }\n  .radio__3EKMI:disabled + label {\n    opacity: .3; }\n\n.radio__3EKMI:checked + label:before {\n  background-color: #fff;\n  border: 4px solid #0f65ef; }\n\n.hearts__1Hh4R {\n  margin-right: 1.5rem; }\n\n.orderByText__1PBY8 {\n  font-size: 16px;\n  font-weight: 600;\n  display: inline-block;\n  margin-right: .5rem; }\n');var D={orderBy:"orderBy__2N1OU",radio:"radio__3EKMI",hearts:"hearts__1Hh4R",orderByText:"orderByText__1PBY8"};function F(e){var n=e.className,t=e.children,r=e.id,i=e.value,c=e.name,s=e.checked,u=void 0!==s&&s,l=e.onChange,m=Object(a.useCallback)((function(){return l(i)}),[i,l]);return r=r||"".concat(c,"-").concat(i),o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"radio",className:D.radio,id:r,value:i,name:c,onKeyDown:function(e){32===e.keyCode&&m(i)},onChange:m,checked:u}),o.a.createElement("label",{htmlFor:r,className:n},t))}var U=function(e){var n=e.onChange,t=e.currentOrder,r=void 0===t?I.LIKES:t,a=Object(h.a)("ORDER_BY"),i=Object(h.a)("MOST_HEARTS"),c=Object(h.a)("MOST_RECENT");return o.a.createElement("div",{className:D.orderBy},o.a.createElement("span",{className:D.orderByText},a),o.a.createElement(F,{className:D.hearts,name:"orderBy",value:I.LIKES,checked:r===I.LIKES,onChange:n},i),o.a.createElement(F,{name:"orderBy",value:I.DATE,checked:r===I.DATE,onChange:n},c))},H="commentsAutoScroll";function W(){window.sessionStorage&&sessionStorage.setItem(H,location.pathname),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;location.href="/signin?redirect=".concat(encodeURIComponent(e))}()}var G=t("VtSi"),Y=t.n(G),q=O;function V(e,n){var t=n.id,a=n.parentId,o=n.data,i=void 0===o?{}:o;return Object(r.d)({},e,{comments:e.comments.map((function(e){return e.id!==t&&e.id!==a?e:e.id===a?Object(r.d)({},e,{children:e.children.map((function(e){return e.id!==t?e:Object(r.d)({},e,{},"function"===typeof i?i(e):i)}))}):Object(r.d)({},e,{},"function"===typeof i?i(e):i)}))})}function K(e,n){var t=n.parentId,a=n.data,o=void 0===a?{}:a;return t?V(e,{id:t,data:function(e){var n=e.form,t=void 0===n?{}:n,a="function"===typeof o?o(t):Object(r.d)({},t,{},o);return Object(r.d)({},e,{form:a})}}):Object(r.d)({},e,{form:"function"===typeof o?o(e.form):Object(r.d)({},e.form,{},o)})}var X=function(e,n){var t=n.type,a=n.payload,o=a.id,i=a.parentId;switch(t){case"comments-loading":return i?V(e,{id:i,data:{isLoading:!0}}):Object(r.d)({},e,{isLoading:!0});case"comments-loaded":return i?V(e,{id:i,data:function(e){var n=a.comments,t=a.nextPageURL;return Object(r.d)({},e,{nextPageURL:t,isLoading:!1,children:[].concat(Object(r.g)(e.children),Object(r.g)(n))})}}):Object(r.d)({},e,{comments:[].concat(Object(r.g)(e.comments),Object(r.g)(a.comments))},!e.count&&{count:a.count},{nextPageURL:a.nextPageURL,isLoading:!1});case"reaction-loading":return V(e,{id:o,parentId:i,data:Object(r.b)({},y[a.reaction],!0)});case"reaction-toggled":return V(e,{id:o,parentId:i,data:function(e){var n,t=a.reaction,o=a.value,i=e.loveCount,c=void 0===i?0:i;return t===q&&(c=o?c+1:Math.max(c-1,0)),Object(r.d)({},e,(n={loveCount:c},Object(r.b)(n,x[t],!e[x[t]]),Object(r.b)(n,y[t],!1),n))}});case"submit-loading":return K(e,{parentId:i,data:{isSubmitting:!0}});case"submit-complete":return function(e,n){if(!n.parentId)return Object(r.d)({},e,{count:e.count+1,form:{},comments:[n].concat(Object(r.g)(e.comments))});var t=V(e,{id:n.parentId,data:function(e){var t=e.children,a=void 0===t?[]:t,o=Object(r.e)(e,["children"]);return Object(r.d)({},o,{form:{},children:[n].concat(Object(r.g)(a))})}});return Object(r.d)({},t,{count:t.count+1})}(e,a.comment);case"submit-error":return K(e,{parentId:i,data:{isSubmitting:!1,error:{type:"comment"}}});case"reaction-success":case"reaction-error":return V(e,{id:o,parentId:i,data:Object(r.b)({},y[a.reaction],!1)});case"comments-load-error":return i?V(e,{id:i,data:{isLoading:!1}}):Object(r.d)({},e,{isLoading:!1});case"form-change":return K(e,{parentId:i,data:a.data});case"reset":return a;case"change-order":return Object(r.d)({},a,{count:e.count});default:throw new Error}},J=!i.b&&l(),Z={isLoading:!0,count:null,comments:[],form:{},orderBy:I.LIKES,nextPageURL:null};var Q=function(e,n,t){var o=Object(a.useReducer)(X,Z),i=Object(r.f)(o,2),c=i[0],s=i[1],u=Object(a.useCallback)(Object(r.a)(Y.a.mark((function r(){var a,o,i,c,u,l,m,d,f,p=arguments;return Y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=p.length>0&&void 0!==p[0]?p[0]:{},o=a.parentId,i=a.url,c=a.amount,u=a.orderBy,s({type:"comments-loading",payload:{parentId:o}}),r.prev=2,r.next=5,e.getComments({parentId:o,url:i,amount:c,orderBy:u});case 5:l=r.sent,m=l.results,d=l.next,f=l.count,s({type:"comments-loaded",payload:{comments:m,nextPageURL:d,parentId:o,count:f}}),"function"===typeof n&&n(f),r.next=18;break;case 13:r.prev=13,r.t0=r.catch(2),console.debug(r.t0),"function"===typeof t&&t(r.t0),s({type:"comments-load-error",payload:{parentId:o}});case 18:case"end":return r.stop()}}),r,null,[[2,13]])}))),[e,n,t]),l=Object(a.useCallback)(function(){var e=Object(r.a)(Y.a.mark((function e(n){var t,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.orderBy,a=n.amount,-1!==Object.keys(I).map((function(e){return I[e]})).indexOf(t)){e.next=3;break}throw Error('Wrong order param "'.concat(t,'"'));case 3:s({type:"change-order",payload:Object(r.d)({},Z,{orderBy:t})}),u({orderBy:t,amount:a});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[u]),m=Object(a.useCallback)(Object(r.a)(Y.a.mark((function n(){var t,r,a,o,i,c,u=arguments;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},r=t.parentId,a=t.id,o=t.reaction,i=t.value,a&&o){n.next=3;break}throw Error("Missing `id` or `reaction`");case 3:if(J){n.next=6;break}return W(),n.abrupt("return");case 6:return s({type:"reaction-toggled",payload:{parentId:r,id:a,reaction:o,value:i}}),c=i?"addReaction":"removeReaction",s({type:"reaction-loading",payload:{parentId:r,id:a,reaction:o}}),n.prev=9,n.next=12,e[c]({id:a,reaction:o});case 12:s({type:"reaction-success",payload:{parentId:r,id:a,reaction:o,value:i}}),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(9),console.debug(n.t0),s({type:"reaction-toggled",payload:{parentId:r,id:a,reaction:o,value:!i}});case 19:case"end":return n.stop()}}),n,null,[[9,15]])}))),[e]),d=Object(a.useCallback)(Object(r.a)(Y.a.mark((function n(){var t,r,a,o,i,c=arguments;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},r=t.parentId,a=t.text,o=t.image,a||o){n.next=3;break}throw Error("Missing `text` and `image`");case 3:if(J){n.next=6;break}return W(),n.abrupt("return");case 6:return s({type:"submit-loading",payload:{parentId:r}}),n.prev=7,n.next=10,e.addComment({parentId:r,blurb:a,image:o});case 10:i=n.sent,s({type:"submit-complete",payload:{comment:i}}),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(7),console.debug(n.t0),s({type:"submit-error",payload:{parentId:r}});case 18:case"end":return n.stop()}}),n,null,[[7,14]])}))),[e]),f=Object(a.useCallback)(Object(r.a)(Y.a.mark((function e(){var n,t,r,a=arguments;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.length>0&&void 0!==a[0]?a[0]:{},t=n.parentId,r=n.data,s({type:"form-change",payload:{parentId:t,data:r}});case 2:case"end":return e.stop()}}),e)}))),[]),p=Object(a.useCallback)(function(){var e=Object(r.a)(Y.a.mark((function e(n){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.amount,s({type:"reset",payload:Z}),u({amount:t,orderBy:Z.orderBy});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[u]);return[c,{load:u,changeOrder:l,toggleReaction:m,addComment:d,changeForm:f,reset:p}]},$={en:{ADD_COMMENT:"Add a comment, as long as it's not about earning easy money from home, c'mon...",FIRST_COMMENT:"Be the first to comment!",FLAG_AS_INAPPROPRIATE:"flag as inappropriate",HIDE_REPLIES:"Hide replies",LOAD_MORE:"Load more comments",MOST_HEARTS:"Most Hearts",MOST_RECENT:"Most Recent",ONE_COMMENT:"1 comment",ORDER_BY:"Order by:",READ_MORE:"Read more",REPLY:"Reply",REPLY_TO_NAME:"Reply to {name}...",REPORT_COMMENT:"Report comment",REPORTED:"Reported",SHOW_MORE:"Show more",SHOW_REPLIES_X:"Show replies ({number})",SIGN_IN_TO_COMMENT:"Sign in to comment",X_COMMENTS:"{number} comments"},de:{ADD_COMMENT:"Kommentar hinzuf\xfcgen",FIRST_COMMENT:"Hinterlasse den ersten Kommentar!",FLAG_AS_INAPPROPRIATE:"Inhalt melden",HIDE_REPLIES:"Antworten verstecken",LOAD_MORE:"Weitere laden",MOST_HEARTS:"",MOST_RECENT:"",ONE_COMMENT:"1 Kommentar",ORDER_BY:"",READ_MORE:"Mehr",REPLY:"antworten",REPLY_TO_NAME:"{name} antworten",REPORT_COMMENT:"Kommentar melden",REPORTED:"Gemeldet",SHOW_MORE:"Mehr anzeigen",SHOW_REPLIES_X:"Antworten anzeigen ({number})",SIGN_IN_TO_COMMENT:"Zum Kommentieren anmelden",X_COMMENTS:"{number} Kommentare"},es:{ADD_COMMENT:"Agrega un comentario",FIRST_COMMENT:"S\xe9 la primera persona en comentar",FLAG_AS_INAPPROPRIATE:"Reportar como inapropiado",HIDE_REPLIES:"Esconder las respuestas",LOAD_MORE:"Carga m\xe1s",MOST_HEARTS:"",MOST_RECENT:"",ONE_COMMENT:"1 comentario",ORDER_BY:"",READ_MORE:"Leer m\xe1s",REPLY:"Responder",REPLY_TO_NAME:"Responder a {name}...",REPORT_COMMENT:"Reportar comentario",REPORTED:"Reportado",SHOW_MORE:"Mostrar m\xe1s",SHOW_REPLIES_X:"Mostras respuestas ({number})",SIGN_IN_TO_COMMENT:"Reg\xedstrate para comentar",X_COMMENTS:"{number} comentarios"},ja:{ADD_COMMENT:"\u30b3\u30e1\u30f3\u30c8\u3092\u66f8\u304f",FIRST_COMMENT:"\u6700\u521d\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u66f8\u304f",FLAG_AS_INAPPROPRIATE:"\u4e0d\u9069\u5207\u306a\u8868\u73fe\u304c\u3042\u308b",HIDE_REPLIES:"\u8fd4\u4fe1\u3092\u96a0\u3059",LOAD_MORE:"\u3082\u3063\u3068\u8aad\u3080",MOST_HEARTS:"",MOST_RECENT:"",ONE_COMMENT:"\u30b3\u30e1\u30f3\u30c81\u4ef6",ORDER_BY:"",READ_MORE:"\u3082\u3063\u3068\u8aad\u3080",REPLY:"\u8fd4\u4fe1",REPLY_TO_NAME:"{name}\u306b\u8fd4\u4fe1\u3059\u308b",REPORT_COMMENT:"\u30b3\u30e1\u30f3\u30c8\u3092\u5831\u544a\u3059\u308b",REPORTED:"\u5831\u544a\u3057\u307e\u3057\u305f",SHOW_MORE:"\u3082\u3063\u3068\u307f\u308b",SHOW_REPLIES_X:"\u8fd4\u4fe1\u3092\u307f\u308b ({number})",SIGN_IN_TO_COMMENT:"\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u3066\u30b3\u30e1\u30f3\u30c8\u3092\u66f8\u304f",X_COMMENTS:"\u30b3\u30e1\u30f3\u30c8{number}\u4ef6"},pt:{ADD_COMMENT:"Adicione um coment\xe1rio",FIRST_COMMENT:"Seja o primeiro a comentar!",FLAG_AS_INAPPROPRIATE:"Reportar como inapropriado",HIDE_REPLIES:"Ocultar as respostas",LOAD_MORE:"Veja mais",MOST_HEARTS:"",MOST_RECENT:"",ONE_COMMENT:"1 coment\xe1rio",ORDER_BY:"",READ_MORE:"Consulte mais",REPLY:"Responder",REPLY_TO_NAME:"Responder {name}...",REPORT_COMMENT:"Reportar coment\xe1rio",REPORTED:"Reportado",SHOW_MORE:"Mostrar mais",SHOW_REPLIES_X:"Mostrar respostas ({number})",SIGN_IN_TO_COMMENT:"Fa\xe7a login para comentar",X_COMMENTS:"{number} coment\xe1rios"}};Object(p.a)('.addComment__3SRgX {\n  margin-bottom: 1.5rem; }\n\n.author__2qQdU {\n  display: inline-block; }\n\n.authorLink__Zjnlw {\n  margin-right: .5rem; }\n\n.authorName__1du2z {\n  color: #222;\n  font-size: .875rem;\n  line-height: 1.3;\n  vertical-align: middle;\n  font-weight: 700;\n  text-decoration: underline; }\n  .authorName__1du2z:hover {\n    color: #0f65ef;\n    cursor: pointer; }\n\n.authorImage__3wNSA {\n  width: 1.5rem;\n  height: 1.5rem;\n  margin-right: .5rem;\n  border-radius: 50%;\n  fill: #aaa;\n  vertical-align: middle; }\n\n.spacer__Gbobe {\n  margin-left: 1rem;\n  margin-right: 1rem;\n  display: none;\n  font-size: 1.625rem; }\n  @media (min-width: 40rem) {\n    .spacer__Gbobe {\n      display: inline-block; } }\n\n.signInButton__1bSVt {\n  color: #0f65ef;\n  font: inherit;\n  font-size: 1.125rem; }\n  .signInButton__1bSVt path {\n    fill: #0f65ef; }\n  .signInButton__1bSVt:hover {\n    color: #093c8f; }\n    .signInButton__1bSVt:hover path {\n      transition: fill .15s ease 0s;\n      fill: #093c8f;\n      cursor: pointer; }\n  @media (min-width: 40rem) {\n    .signInButton__1bSVt {\n      font-size: 2rem; } }\n\n.text__33Koz::placeholder {\n  color: #aaa; }\n\n.header__Tj34R:before {\n  content: "";\n  background: linear-gradient(to right, #e40c78, #6645dd);\n  border-radius: 4px;\n  display: block;\n  height: 8px;\n  margin-bottom: 0.5rem;\n  width: 72px; }\n\n.totalLast__2Szmw {\n  font-weight: 700;\n  vertical-align: middle;\n  font-size: .875rem; }\n\n.headerNotSigned__2NOVk {\n  font-weight: 700;\n  font-size: 1rem; }\n  @media (min-width: 40rem) {\n    .headerNotSigned__2NOVk .commentCount__2iANm {\n      display: inline-block; } }\n\n.headerSignedIn__1tpOQ {\n  font-weight: 700;\n  margin-bottom: .5rem; }\n  .headerSignedIn__1tpOQ .commentCount__2iANm {\n    margin-bottom: 1.5rem; }\n\n.noCommentsText__183aT {\n  font-weight: 400;\n  font-size: 1.125rem; }\n\n.commentCount__2iANm {\n  font-size: 1.625rem; }\n  @media (min-width: 40rem) {\n    .commentCount__2iANm {\n      font-size: 2rem; } }\n');var ee={addComment:"addComment__3SRgX",author:"author__2qQdU",authorLink:"authorLink__Zjnlw",authorName:"authorName__1du2z",authorImage:"authorImage__3wNSA",spacer:"spacer__Gbobe",signInButton:"signInButton__1bSVt",text:"text__33Koz",header:"header__Tj34R",totalLast:"totalLast__2Szmw",headerNotSigned:"headerNotSigned__2NOVk",commentCount:"commentCount__2iANm",headerSignedIn:"headerSignedIn__1tpOQ",noCommentsText:"noCommentsText__183aT"};function ne(e){var n=e.totalCount,t=e.track,r=Object(h.a)("ONE_COMMENT"),i=Object(h.a)("X_COMMENTS",{number:n}),c={signInToComment:Object(h.a)("SIGN_IN_TO_COMMENT"),comments:1===n?r:i},s=Object(a.useCallback)((function(){t&&"function"===typeof t.internalLink&&t.internalLink({url:"/signin",type:"login"}),W()}),[t]);return o.a.createElement("div",{className:"".concat(ee.header," ").concat(ee.headerNotSigned)},o.a.createElement("p",{className:ee.commentCount},c.comments),o.a.createElement("span",{className:ee.spacer,"aria-hidden":"true"},"\xb7"),o.a.createElement(f.a,{className:ee.signInButton,onClick:s},c.signInToComment))}function te(e){var n=e.user,t=e.totalCount,r=Object(h.a)("ONE_COMMENT"),a=Object(h.a)("X_COMMENTS",{number:t}),i=1===t?r:a,c=Object(h.a)("FIRST_COMMENT");return t?o.a.createElement("div",{className:"".concat(ee.header," ").concat(ee.headerSignedIn)},o.a.createElement("div",{className:ee.commentCount},o.a.createElement("p",null,i)),o.a.createElement(re,n)):o.a.createElement("div",{className:"".concat(ee.header," ").concat(ee.headerSignedIn)},o.a.createElement("div",{className:ee.commentCount},o.a.createElement("p",null,i),o.a.createElement("p",{className:ee.noCommentsText},c)),o.a.createElement(re,n))}function re(e){var n=e.username,t=e.image,r=e.displayName;return o.a.createElement("a",{className:ee.author,href:"/".concat(n)},t?o.a.createElement("img",{src:t,className:ee.authorImage,alt:""}):o.a.createElement(v.r,{className:ee.authorImage}),o.a.createElement("span",{className:ee.authorName},r))}var ae=function(e){var n=e.totalCount,t=e.form,i=e.user,c=e.track,s=Object(a.useContext)(m.a),u=s.addComment,l=s.changeForm,d=Object(h.a)("ADD_COMMENT"),f=Object(a.useCallback)((function(e){return l({data:e})}),[l]);return i?o.a.createElement("div",{className:ee.addComment},o.a.createElement(te,{user:i,totalCount:n}),o.a.createElement(R.a,Object(r.c)({placeholder:d,onSubmit:u,onChange:f,imageStyles:{maxHeight:"400px"},minRows:4},t))):o.a.createElement("div",{className:ee.addComment},o.a.createElement(ne,{totalCount:n,track:c}))},oe=t("1nEv"),ie=t.n(oe),ce=t("VJXt"),se=t.n(ce),ue=t("CZvW"),le=function(){var e,n,t,r,a,o,i=arguments;return Y.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:{},n=e.file,t=e.endpoint,r=void 0===t?"/buzzfeed/_edit_super_image/tmp_wide":t,n&&n.type){c.next=3;break}throw Error("Parameter 'file' is required");case 3:return c.next=5,Y.a.awrap(fetch(r,{method:"POST",body:n,headers:{"Content-Type":n.type}}));case 5:if((a=c.sent).ok){c.next=8;break}throw Error({type:"error",status:a.status,statusText:a.statusText});case 8:return c.next=10,Y.a.awrap(a.json());case 10:if((o=c.sent)&&o.uploaded&&"false"!==o.uploaded){c.next=13;break}throw Error("Server error");case 13:return c.abrupt("return",o);case 14:case"end":return c.stop()}}),null,null,null,Promise)};function me(e){return e+"|expiration"}var de=function(){try{return localStorage.setItem("ls_test",!0),localStorage.removeItem("ls_test"),!0}catch(e){return!1}}(),fe={set:function(e){de&&"undefined"!==typeof e&&(localStorage.setItem(e.key,e.value),e.expires&&localStorage.setItem(me(e.key),Date.now()+e.expires))},get:function(e){return de?function(e){var n=localStorage.getItem(me(e));return n&&n<=Date.now()}(e)?(this.remove(e),null):localStorage.getItem(e):null},sessionSet:function(e){de&&"undefined"!==typeof e&&sessionStorage.setItem(e.key,e.value)},sessionGet:function(e){return de?sessionStorage.getItem(e):null},remove:function(e){de&&(localStorage.removeItem(me(e)),localStorage.removeItem(e))},clear:function(){de&&localStorage.clear()}},pe="commentsMeta",_e={react:function(e){var n=e.userId,t=e.reaction,r=e.commentId;if(n&&r&&t){var a=this.getReactions({userId:n,commentId:r});-1===a.indexOf(t)&&(a.push(t),this.setReactions({userId:n,commentId:r,reactions:a}))}},unReact:function(e){var n=e.userId,t=e.reaction,r=e.commentId;if(n&&r&&t){var a=this.getReactions({userId:n,commentId:r});-1!==a.indexOf(t)&&(a=a.filter((function(e){return e!==t})),this.setReactions({userId:n,commentId:r,reactions:a}))}},isReacted:function(e){var n=e.userId,t=e.reaction,r=e.commentId;return!!(n&&r&&t)&&-1!==this.getReactions({userId:n,commentId:r}).indexOf(t)},getReactions:function(e){var n=e.userId,t=e.commentId;if(!n||!t)return null;var r=[];try{r=this.data[n][t].reactions}catch(a){}return r},setReactions:function(e){var n=e.userId,t=e.commentId,r=e.reactions,a=void 0===r?[]:r;if(n&&t){var o=this.data;o[n]=o[n]||{},o[n][t]=o[n][t]||{},o[n][t].reactions=a,this.data=o}},get data(){var e;try{e=JSON.parse(fe.get(pe))}catch(n){}return e||{}},set data(e){fe.set({key:pe,value:JSON.stringify(e)})}},ge="/comments-api/v1/comments",be="/comments-api/v1/reactions",he=E,ve=O,Ee="unlove",Oe=x[ve],xe=x[he],ye="https://img.buzzfeed.com/buzzfeed-static",ke=!i.b&&l();function Ie(e,n){return Re.apply(this,arguments)}function Re(){return(Re=Object(r.a)(Y.a.mark((function e(n,t){var r,a,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t?Object(ue.a)(t):"",e.next=3,fetch("".concat(n).concat(r),{method:"GET"});case 3:if((a=e.sent).ok){e.next=6;break}throw Error("".concat(a.status," ").concat(a.statusText));case 6:return e.next=8,a.json();case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e,n){return je.apply(this,arguments)}function je(){return(je=Object(r.a)(Y.a.mark((function e(n,t){var r,a,o,i,c,u;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.data,a=void 0===r?{}:r,o=t.responseType,i=void 0===o?"json":o,e.next=3,fetch(n,{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json","X-XSRF":s.a.get("_xsrf","")}});case 3:if((c=e.sent).ok){e.next=6;break}throw Error("".concat(c.status," ").concat(c.statusText));case 6:return e.next=8,c[i]();case 8:return u=e.sent,e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(r.a)(Y.a.mark((function e(n){var t,r,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.buzzId){e.next=3;break}throw Error("Parameter 'buzzId' is required");case 3:return e.next=5,Ie(be,{content_type:"buzz",content_id:t});case 5:return r=e.sent,a=r.results,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){return e&&Array.isArray(e.children)&&(e.children=Me(e.children,n)),n.reduce((function(e,n){return n(e)}),e)}))}function Se(e){var n={};return Object.keys(e).forEach((function(t){var a=e[t],o=se()(t);return a?Array.isArray(a)?n[o]=a.map(Se):"object"===Object(r.h)(a)?n[o]=Se(a):n[se()(t)]=a:n[o]=a})),n}function Te(e){return e.blurb?Object(r.d)({},e,{blurb:ie()(e.blurb)}):e}function Le(e){return e&&e.results?(e.results=function e(n){if(!n)return n;return n.filter((function(e){var n=e.state,t=e.userId;return"visible"===n||!(!ke||"".concat(ke.userid)!=="".concat(t))})).map((function(n){return n.children?Object(r.d)({},n,{children:e(n.children)}):n}))}(e.results),e.results=function e(n){if(!n)return n;return n.filter((function(e){var n=e.userId,t=e.blurb;return!(!ke||"".concat(ke.userid)!=="".concat(n))||!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof e)throw Error("`text` must be string");if(!e.length)return!1;var n=e.toLowerCase();if(-1!==n.indexOf("true love")&&-1!==n.indexOf("paste this"))return!0;if(!["copy","paste","ignor","other"].filter((function(e){return-1===n.indexOf(e)})).length)return!0;var t=["your crush","bad luck","press f6","press f7","rapes you","rape you","you get raped","kills you","kill you","you get killed","nigger","niggers","niger","nigers","retard","retarded"].join("|"),r=new RegExp("\\b(?:".concat(t,")\\b"),"mi").test(e),a=e.length>100,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return 0;var n=e.replace(/[\u2019'" 0-9,.!?-]/g,""),t=n.length;if(!t)return 0;var r=n.replace(/[A-Z]/g,""),a=t-r.length;return Math.round(a/t*100)}(e)>90;if(r)return!0;if(!a)return!1;if(o)return!0;return!1}(t)})).map((function(n){return n.children?Object(r.d)({},n,{children:e(n.children)}):n}))}(e.results),e):e}var Ae=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.imageRoot,a=void 0===t?ye:t,o=n.buzzId,i=n.track,c=void 0===i?function(){}:i;if(!o)throw Error("buzzId is required");function s(e){return e&&e.pictureUrl&&0!==e.pictureUrl.indexOf("http")?Object(r.d)({},e,{pictureUrl:a+e.pictureUrl}):e}function u(e){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(Y.a.mark((function e(n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.results&&n.results.length){e.next=2;break}return e.abrupt("return",n);case 2:return n.results=Me(n.results,[Te,s]),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(Y.a.mark((function n(){var t;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=2;break}return n.abrupt("return",e);case 2:return n.next=4,we({buzzId:o});case 4:return t=n.sent,e={},t.forEach((function(n){var t=n.comment_id;if(n.reaction!==he){var a=_e.isReacted({userId:ke.userid,commentId:t,reaction:Ee});e[t]=Object(r.d)({},e[t],Object(r.b)({},Oe,!a))}else e[t]=Object(r.d)({},e[t],Object(r.b)({},xe,!0))})),n.abrupt("return",e);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return(p=Object(r.a)(Y.a.mark((function e(n){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.results&&n.results.length&&ke){e.next=2;break}return e.abrupt("return",n);case 2:return e.prev=2,e.next=5,m();case 5:t=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",n);case 11:return e.abrupt("return",Object(r.d)({},n,{results:Me(n.results,[function(e){var n=t[e.id]||{};return Object(r.d)({},e,{},n,{loveCount:n[Oe]&&!e.loveCount?1:e.loveCount})}])}));case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function _(){return g.apply(this,arguments)}function g(){return(g=Object(r.a)(Y.a.mark((function e(){var n,t,a,i,c,s,u,l,m,d,f,p,g,b,h,v,E=arguments;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=E.length>0&&void 0!==E[0]?E[0]:{},t=n.pageSize,a=void 0===t?20:t,i=n.childSize,c=void 0===i?10:i,s=n.amount,u=n.startId,l=n.parentId,m=n.orderBy,d=n.url,a=Math.min(a,20),d||(f=l?Object(r.d)({parent_id:l,page_size:a},u&&{start_id:u}):Object(r.d)({content_type:"buzz",content_id:o,page_size:a,child_size:c},u&&{start_id:u},{},m&&{sort:m})),e.next=5,Ie(d||ge,f).then(Se).then(Le);case 5:if(p=e.sent,s&&p.next&&!(p.results.length>=s)){e.next=8;break}return e.abrupt("return",p);case 8:return e.next=10,_({amount:s-p.results.length,url:p.next});case 10:return g=e.sent,b=g.results,h=g.next,v=g.count,e.abrupt("return",{next:h,count:v,results:[].concat(Object(r.g)(p.results),Object(r.g)(b))});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(r.a)(Y.a.mark((function e(n){var t,r,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.id,r=n.reaction,t){e.next=3;break}throw Error("Missing comment `id`");case 3:return e.next=5,Ne("".concat(ge,"/").concat(t,"/reactions"),{data:{reaction:r,buzz_id:o},responseType:"text"});case 5:return a=e.sent,E({parent_id:t,form:r,action:"create"}),r===ve&&_e.unReact({userId:ke.userid,commentId:t,reaction:Ee}),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(r.a)(Y.a.mark((function e(n){var t,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.id,(r=n.reaction)===ve){e.next=3;break}throw Error('Removing "'.concat(r,'" is not supported'));case 3:return _e.react({userId:ke.userid,commentId:t,reaction:Ee}),E({parent_id:t,form:ve,action:"delete"}),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(r.a)(Y.a.mark((function e(n){var t,i,c,u,l,m,d,f;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.blurb,i=void 0===t?"":t,c=n.image,u=n.parentId,i||c){e.next=3;break}throw Error("Either `blurb` or `image` is required");case 3:if(!c){e.next=8;break}return e.next=6,le({file:c});case 6:m=e.sent,l=m.image;case 8:return d=Object(r.d)({content_type:"buzz",content_id:+o,blurb:i},l&&{picture_url:l},{},u&&{parent_id:u}),e.next=11,Ne(ge,{data:d}).then(Se).then((function(e){return Me([e],[Te,s])[0]}));case 11:return f=e.sent,E(Object(r.d)({},d,{form:l?"image":"text",comment_id:f.id})),e.abrupt("return",Object(r.d)({userId:+ke.userid,user:{id:+ke.userid,displayName:ke.display_name,username:ke.username,image:ke.image?a+ke.image:""}},f));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){var n=-1!==["create","edit","delete"].indexOf(e.action)?e.action:"create",t=-1!==[ve,he].indexOf(e.form)?"reaction":"contribution",r=e.blurb?"".concat(e.blurb).substr(0,1e3):null,a={comment_id:e.comment_id||null,parent_id:e.parent_id||null,type:t,form:e.form,text:r,image_url:e.picture_url||null,action:n};("function"===typeof c.contentAction?c.contentAction:c)(a)}return{addComment:function(e){return v.apply(this,arguments)},addReaction:function(e){return b.apply(this,arguments)},getComments:function(e){return _(e).then(f).then(u)},removeReaction:function(e){return h.apply(this,arguments)}}},Pe="https://img.buzzfeed.com/buzzfeed-static",ze=function(){},Be=!i.b&&l();function De(e){var n=e.onLoadError,t=e.onLoaded,i=e.api,c=e.locale,s=void 0===c?"en":c,u=e.imageRoot,l=void 0===u?Pe:u,d=e.dictionary,f=e.perPage,p=void 0===f?20:f,_=e.firstPage,g=void 0===_?5:_,b=e.className,h=void 0===b?"":b,v=e.commentsWrapperId,E=void 0===v?"commentsWrapper":v,O=e.track,x=Be?Object(r.d)({},Be,{image:Be.image?l+Be.image:Be.image,displayName:Be.display_name}):null,y=Object(a.useRef)(),k=Q(i,t,n),I=Object(r.f)(k,2),R=I[0],N=R.comments,j=R.count,w=R.isLoading,C=R.nextPageURL,M=R.form,S=R.orderBy,T=I[1],L=T.reset,A=T.changeOrder,P=null!==j,z=Object(a.useCallback)((function(e){return!w&&A({orderBy:e,amount:p})}),[A,w,p]);return Object(a.useEffect)((function(){return function(e){if(e&&window.sessionStorage){var n=sessionStorage.getItem(H);sessionStorage.removeItem(H),n&&n===location.pathname&&e.scrollIntoView&&e.scrollIntoView({behavior:"smooth",block:"start"})}}(y.current)}),[y]),Object(a.useEffect)((function(){L({amount:p})}),[L,p]),o.a.createElement(m.a.Provider,{value:T},o.a.createElement(m.b.Provider,{value:{locale:s,dict:d||$}},o.a.createElement("div",{id:E,className:"".concat(h),ref:y,style:{marginBottom:"3rem"}},P&&o.a.createElement(ae,{totalCount:j,form:M,user:x,track:O}),!!N.length&&o.a.createElement(U,{currentOrder:S,onChange:z}),o.a.createElement(B,{firstPage:g,perPage:p,comments:N,isLoading:w,nextPageURL:C,track:O,orderBy:S}))))}n.default=function(e){var n=e.track,t=void 0===n?ze:n,i=e.buzzId,c=e.imageRoot,s=void 0===c?Pe:c,u=Object(r.e)(e,["track","buzzId","imageRoot"]),l=Object(a.useMemo)((function(){return new Ae({buzzId:i,imageRoot:s,track:t})}),[i,s,t]);return o.a.createElement(De,Object(r.c)({api:l,track:t,imageRoot:s},u))}},VJXt:function(e,n,t){(function(n){var t=1/0,r="[object Symbol]",a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",c="[\\ud800-\\udfff]",s="["+i+"]",u="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",l="\\d+",m="[\\u2700-\\u27bf]",d="[a-z\\xdf-\\xf6\\xf8-\\xff]",f="[^\\ud800-\\udfff"+i+l+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",p="\\ud83c[\\udffb-\\udfff]",_="[^\\ud800-\\udfff]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",b="[\\ud800-\\udbff][\\udc00-\\udfff]",h="[A-Z\\xc0-\\xd6\\xd8-\\xde]",v="(?:"+d+"|"+f+")",E="(?:"+h+"|"+f+")",O="(?:"+u+"|"+p+")"+"?",x="[\\ufe0e\\ufe0f]?"+O+("(?:\\u200d(?:"+[_,g,b].join("|")+")[\\ufe0e\\ufe0f]?"+O+")*"),y="(?:"+[m,g,b].join("|")+")"+x,k="(?:"+[_+u+"?",u,g,b,c].join("|")+")",I=RegExp("['\u2019]","g"),R=RegExp(u,"g"),N=RegExp(p+"(?="+p+")|"+k+x,"g"),j=RegExp([h+"?"+d+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[s,h,"$"].join("|")+")",E+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[s,h+v,"$"].join("|")+")",h+"?"+v+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",h+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",l,y].join("|"),"g"),w=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),C=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,M="object"==typeof n&&n&&n.Object===Object&&n,S="object"==typeof self&&self&&self.Object===Object&&self,T=M||S||Function("return this")();var L,A=(L={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"ss"},function(e){return null==L?void 0:L[e]});function P(e){return w.test(e)}function z(e){return P(e)?function(e){return e.match(N)||[]}(e):function(e){return e.split("")}(e)}var B=Object.prototype.toString,D=T.Symbol,F=D?D.prototype:void 0,U=F?F.toString:void 0;function H(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&B.call(e)==r}(e))return U?U.call(e):"";var n=e+"";return"0"==n&&1/e==-t?"-0":n}function W(e,n,t){var r=e.length;return t=void 0===t?r:t,!n&&t>=r?e:function(e,n,t){var r=-1,a=e.length;n<0&&(n=-n>a?0:a+n),(t=t>a?a:t)<0&&(t+=a),a=n>t?0:t-n>>>0,n>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+n];return o}(e,n,t)}function G(e){return null==e?"":H(e)}var Y,q=(Y=function(e,n,t){return n=n.toLowerCase(),e+(t?K(G(n).toLowerCase()):n)},function(e){return function(e,n,t,r){var a=-1,o=e?e.length:0;for(r&&o&&(t=e[++a]);++a<o;)t=n(t,e[a],a,e);return t}(function(e,n,t){return e=G(e),void 0===(n=t?void 0:n)?function(e){return C.test(e)}(e)?function(e){return e.match(j)||[]}(e):function(e){return e.match(a)||[]}(e):e.match(n)||[]}(function(e){return(e=G(e))&&e.replace(o,A).replace(R,"")}(e).replace(I,"")),Y,"")});var V,K=(V="toUpperCase",function(e){var n=P(e=G(e))?z(e):void 0,t=n?n[0]:e.charAt(0),r=n?W(n,1).join(""):e.slice(1);return t[V]()+r});e.exports=q}).call(this,t("lpmq"))},"W+OE":function(e,n,t){"use strict";t.d(n,"b",(function(){return i}));var r=t("ERkP"),a=t("1Ygy"),o="en";function i(e){var n=e.text,t=e.data,r=e.locale,a=void 0===r?"en":r,i=e.dict,c=void 0===i?{}:i,s=(c[a]||c[o])[n]||c[o][n]||n;return t?function(e,n){return e.replace(/{([^{}]*)}/g,(function(e,t){var r=n[t];return"string"===typeof r||"number"===typeof r?r:e}))}(s,t):s}n.a=function(e,n){var t=Object(r.useContext)(a.b);return i({text:e,data:n,locale:t.locale,dict:t.dict})}},kLRQ:function(e,n,t){"use strict";var r=t("ERkP"),a=t.n(r),o=t("/Y2o");Object(o.a)(".loadingSpinner__1-rMx {\n  font-size: 10px;\n  margin: 50px auto;\n  text-indent: -9999em;\n  width: 3em;\n  height: 3em;\n  border-radius: 50%;\n  background: currentColor;\n  background: -moz-linear-gradient(left, currentColor 10%, rgba(255, 255, 255, 0) 42%);\n  background: -webkit-linear-gradient(left, currentColor 10%, rgba(255, 255, 255, 0) 42%);\n  background: -o-linear-gradient(left, currentColor 10%, rgba(255, 255, 255, 0) 42%);\n  background: -ms-linear-gradient(left, currentColor 10%, rgba(255, 255, 255, 0) 42%);\n  background: linear-gradient(to right, currentColor 10%, rgba(255, 255, 255, 0) 42%);\n  position: relative;\n  -webkit-animation: load3__2V_Ek 1.4s infinite linear;\n  animation: load3__2V_Ek 1.4s infinite linear;\n  -webkit-transform: translateZ(0);\n  -ms-transform: translateZ(0);\n  transform: translateZ(0); }\n\n.loadingSpinner__1-rMx:before {\n  width: 50%;\n  height: 50%;\n  background: currentColor;\n  border-radius: 100% 0 0 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  content: ''; }\n\n.loadingSpinner__1-rMx:after {\n  background-color: var(--background);\n  width: 75%;\n  height: 75%;\n  border-radius: 50%;\n  content: '';\n  margin: auto;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0; }\n\n@-webkit-keyframes load3__2V_Ek {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n@keyframes load3__2V_Ek {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n");var i={loadingSpinner:"loadingSpinner__1-rMx",load3:"load3__2V_Ek"};function c(e){var n=e.size,t=e.color,r={"--background":e.background,color:t,width:n,height:n};return a.a.createElement("div",{className:i.loadingSpinner,style:r})}c.defaultProps={size:"3rem",color:"#ee3322",background:"#ffffff"};n.a=c}}]);
//# sourceMappingURL=comments.eb1f4c15fe00dbab53ac.js.map