(window.subbuzzJsonp=window.subbuzzJsonp||[]).push([[5],{0:function(e,t,n){"use strict";n.d(t,"b",function(){return a});var r=n(8),o=n(31),i=n.n(o);function a(e,t,n){var o=e.getBoundingClientRect(),i=r.a.getViewportHeight();t=t||0,n=n||0;var a=0-t,s=i+t,u={top:o.top-n,bottom:o.bottom-n};return{isHidden:function(){return!e.offsetParent},isWithinViewport:function(){return u.top>=0&&u.bottom<=i},isWithinLookahead:function(){return u.top>=a&&u.bottom<=s},isPartiallyInViewport:function(){return u.top>=0&&u.top<=i||u.bottom>0&&u.bottom<i},isPartiallyInLookahead:function(){return u.top>0?u.top<t+i:u.bottom>0||Math.abs(u.bottom)<t},isNearBottom:function(){return parseInt(o.bottom,10)<=t}}}!function(){if(!(document.createElementNS("http://www.w3.org/2000/svg","g").classList instanceof DOMTokenList))try{Object.defineProperty(SVGElement.prototype,"classList",Object.getOwnPropertyDescriptor(HTMLElement.prototype,"classList")||Object.getOwnPropertyDescriptor(Element.prototype,"classList"))}catch(e){}}(),function(){try{var e=document.createElement("div");if(e.classList.add("foo","bar"),e.classList.contains("bar"))return;var t=DOMTokenList.prototype.add,n=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var e=this,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];r.forEach(function(n){return t.call(e,n)})},DOMTokenList.prototype.remove=function(){for(var e=this,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];r.forEach(function(t){return n.call(e,t)})}}catch(e){}}(),NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),t.a={stringToHTML:function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes},arrayFromNodeList:function(e){return[].slice.call(e)},withNodeList:function(e,t){return"string"==typeof e&&(e=this.stringToHTML(e)),e instanceof HTMLElement&&(e=[e]),(e instanceof NodeList||Array.isArray(e))&&Array.prototype.slice.call(e).forEach(function(e){return t(e)}),this},append:function(e,t){void 0===t&&(t=e,e=document.body);return this.withNodeList(t,function(t){return e.appendChild(t)})},prepend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;void 0===t&&(t=e,e=document.body);var r=e.children[n];return this.withNodeList(t,function(t){return e.insertBefore(t,r)})},remove:function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){t instanceof Element&&t.parentNode&&e.push(t.parentNode.removeChild(t))}),e},find:function(e,t){return Array.prototype.slice.call(e.querySelectorAll(t))},findOne:function(e,t){return e.querySelector(t)},closest:function(e,t){return i()(e,t,!0)},addClass:function(e,t){Array.isArray(e)||(e=[e]);var n=t.split(" ");e.forEach(function(e){return n.forEach(function(t){return e.classList.add(t)})})},removeClass:function(e,t){Array.isArray(e)||(e=[e]);var n=t.split(" ");e.forEach(function(e){return n.forEach(function(t){return e.classList.remove(t)})})},hasClass:function(e,t){return Array.isArray(e)||(e=[e]),e.some(function(e){return e.classList.contains(t)})},toggleClass:function(e,t){Array.isArray(e)||(e=[e]),"string"==typeof e&&(e=this.find(e)),t.split(" ").forEach(function(t){return e.forEach(function(e){return e.classList.toggle(t)})})},matches:function(){var e=Element.prototype,t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(e){return[].indexOf.call(document.querySelectorAll(e),this)>-1};return function(e,n){return t.call(e,n)}}(),getViewPosition:a,on:function(e,t,n,r){"function"==typeof n&&void 0===r&&(r=n,n=null),t.split(" ").forEach(function(t){return e.addEventListener(t,r)})},one:function(e,t,n,r){var o=this;"function"==typeof n&&(r=n,n=null);var i=function n(i){r.call(this,i),o.off(e,t,n)};return o.on(e,t,i),i},off:function(e,t,n){t.split(" ").forEach(function(t){return e.removeEventListener(t,n)})},trigger:function(e,t){document.createEvent&&t.split(" ").forEach(function(t){var n=document.createEvent("Event");n.initEvent&&(n.initEvent(t,!1,!0),e.dispatchEvent(n))})},hide:function(e,t){var n=t?this.find(e,t):e;return this.addClass(n,"js-hidden"),this},show:function(e,t){var n=this,r=t?this.find(e,t):e;return this.hasClass(r,"js-hidden")?this.removeClass(r,"js-hidden"):(Array.isArray(r)||(r=[r]),r.forEach(function(e){return n.setStyle(e,{display:"block"})})),this},getData:function(e,t){return"string"==typeof e&&(e=this.stringToHTML(e)[0]),e.getAttribute("data-".concat(t))},setData:function(e,t,n){return"string"==typeof e&&(e=this.stringToHTML(e)[0]),e.setAttribute("data-".concat(t),n),!0},getStyle:function(e,t){return e.style[t]},setStyle:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);return this},getAttr:function(e,t){return e.getAttribute(t)},setAttr:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n]);return this},removeAttr:function(e,t){return e.removeAttribute(t),this},hasAttr:function(e,t){return e.hasAttribute(t)},getText:function(e,t){var n=t?this.findOne(e,t):e;return n?n.textContent:""},setText:function(e,t,n){var r=n?this.findOne(e,n):e;return r&&(r.textContent=t),this},setHTML:function(e,t,n){var r=n?this.findOne(e,n):e;return r&&(r.innerHTML=t),this},parent:function(e,t){return i()(e,t)},getModuleConfig:function(e,t){var n=e.querySelector("script");return t?n:n?JSON.parse(n.text):null},createElement:function(e,t){var n=document.createElement(e);return this.setAttr(n,t),n},scrollIntoView:function(e,t){var n=this;t?setTimeout(function(){n.scrollIntoView(e)},t):e.scrollIntoView?e.scrollIntoView():window.scrollTo(0,e.offsetTop)},offset:function(e,t){var n=t?this.findOne(e,t):e;return n?{top:n.offsetTop,left:n.offsetLeft}:{}},size:function(e){return{width:e.offsetWidth,height:e.offsetHeight}},detectTransitionEnd:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).properties,n=["transitionend","webkitTransitionEnd","mozTransitionEnd","oTransitionEnd"],r={},o=[];function i(e){"any"in r?r.any(e):e.propertyName in r&&r[e.propertyName](e)}(void 0===t?["any"]:t).forEach(function(e){var t,n=new Promise(function(e){return t=e});o.push(n),r[e]=t}),n.forEach(function(t){return e.addEventListener(t,i)});var a=Promise.all(o);return a.unsubscribe=function(){n.forEach(function(t){return e.removeEventListener(t,i)})},a.then(a.unsubscribe),a}}},1:function(e,t,n){"use strict";n.d(t,"e",function(){return b}),n.d(t,"b",function(){return v}),n.d(t,"d",function(){return g}),n.d(t,"g",function(){return w}),n.d(t,"f",function(){return k}),n.d(t,"a",function(){return _});var r=n(79),o=n.n(r),i=n(36),a=n.n(i),s=n(28),u=n.n(s),c=n(14);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m={};function b(e,t){return e+"-"+t.id}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.bfa&&window.bfa instanceof Function&&window.bfaBinder&&window.bfa(e,t)}function g(){if(screen.orientation&&screen.orientation.type)return screen.orientation.type.replace("-primary","");if(window.orientation)return 90===Math.abs(window.orientation)?"landscape":"portrait";if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return"portrait";if(window.matchMedia("(orientation: landscape)").matches)return"landscape"}return"landscape"}m.getKeys=function(e){var t;if(Object.keys)return Object.keys(e);for(var n in t=[],e)e.hasOwnProperty(n)&&t.push(n);return t},m.getUniqueEventName=b,m.capitalize=function(e){return"string"!=typeof e?e:e.replace(/\w+/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},m.hasQueryString=function(e){return e.indexOf("?")>-1},m.removeHash=function(e){return(e+="").indexOf("#")>-1?e.substr(0,e.indexOf("#")):e},m.removeQueryString=function(e){return(e+="").indexOf("?")>-1?-1===e.indexOf("#")?e.substr(0,e.indexOf("?")):e.substr(0,e.indexOf("?"))+e.substr("#",e.length):e},m.getQueryString=function(e){var t="";return(e=m.removeHash(e)).indexOf("?")>-1&&(t=e.substr(e.indexOf("?"),e.length)),t},m.getHash=function(e){return(e+="").indexOf("#")>-1?e.substr(e.indexOf("#"),e.length):""},m.queryStringToObject=function(e){if(""===e||void 0===e||null===e)return{};var t,n=e.split("&"),r={};return m.each(n,function(e,n){""===(t=n.split("="))[1]&&(t[1]=null),r[t[0]]=t[1]}),r},m.objectToQueryString=function(e){var t=[];return m.each(e,function(e,n){t.push(e+"="+n)}),"?"+t.join("&")},m.getBaseUrl=function(e){return e=m.removeHash(e),e=m.removeQueryString(e)},m.addParams=function(e,t){var n,r,o=m.getQueryString(e),i=m.getHash(e);return e=m.removeHash(e),e=m.removeQueryString(e),o=m.queryStringToObject(o.substr(1,o.length)),m.each(t,function(e,t){n=t[0],r=t[1],o[n]=r}),e+m.objectToQueryString(o)+i},m.removeParams=function(e,t){var n=m.getBaseUrl(e),r=m.getQueryString(e),o=m.getHash(e),i=m.queryStringToObject(r.substr(1,r.length));return m.each(t,function(e,t){delete i[t]}),n+m.objectToQueryString(i)+o},m.prepareUrl=function(e,t){var n=[];return m.each(t,function(e,t){void 0!==t&&n.push([e,encodeURIComponent(t)])}),m.addParams(e,n)},m.redirect=function(e){"string"==typeof e&&e&&(window.location.href=e)},m.openPopup=function(e,t){if("string"==typeof e&&e){var n="_blank",r="";if(t&&t.height&&t.width){var o=window.screen.height/2-t.height/2,i=window.screen.width/2-t.width/2;r="scrollbars=yes, toolbar=0, status=0, width="+t.width+", height="+t.height+", top="+o+", left="+i,n=t.name?t.name:n}window.open(e,n,r)}},m.urlToId=function(e){var t=e;try{t=new URL(e).pathname}catch(e){}return"/"===t.charAt(0)&&(t=t.slice(1,t.length)),t.replace(/\//g,"_")},m.each=function(e,t){if(Array.isArray(e))e.forEach(function(e,n){return t(n,e)});else for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},m.extend=o.a,m.getQueryParams=function(){var e=window.location.search.substring(1),t={};return e&&e.split("&").forEach(function(e){var n=e.split("="),r=decodeURIComponent(n[0]),o=decodeURIComponent(n.slice(1).join("="));t[r]=o}),t},m.addQueryParam=function(e,t,n){return(e=e||window.location.href)+(e.split("?")[1]?"&":"?")+t+"="+n},m.largeNumberNotation=function(e){return e<1e3?e:e<1e4?e.toString().charAt(0)+","+e.toString().substring(1):e>=1e6?(e/1e6).toFixed(e%1e6!=0)+"M":(e/1e3).toFixed(e%1e3!=0)+"K"},m.numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},m.min=function(){return Math.min.apply(Math,Array.prototype.filter.call(arguments,function(e){return!isNaN(+e)}))},m.toQueryString=function(e){var t=[];return this.each(e,function(e,n){null!==n&&""!==n&&void 0!==n&&t.push(e+"="+n)}),t.join("&")},m.getMessageHandler=function(e){return function(t,n){var r=e[t];"function"==typeof r&&r.call(this,n)}},m.getEventHandler=function(e){return function(t,n,r){var o=e[r];"function"==typeof o&&o.call(this,t,n)}},m.padLeft=function(e,t,n){for(var r=n-e.toString().length,o="",i=0;i<r;i++)o+=t;return o+e},m.freeFormFormat=function(e){return e.replace(/["'"“’ ]/g,"").toLowerCase()},m.secondsToTimeStamp=function(e){var t=new Date(1e3*e).toISOString().substr(11,8);return e<3600&&(t=t.substr(3,5)),t.replace(/^0+(\d:)/,"$1")},m.timeSince=function(e){var t,n=["year","years"],r=["month","months"],o=["day","days"],i=["hour","hours"],a=["minute","minutes"],s=["just now"],u=Math.floor(((new Date).getTime()-new Date(e).getTime())/1e3);return(t=Math.floor(u/31536e3))>=1?{type:"year",value:t,text:t+" "+(1===t?n[0]:n[1])+" ago"}:(t=Math.floor(u/2592e3))>=1?{type:"month",value:t,text:t+" "+(1===t?r[0]:r[1])+" ago"}:(t=Math.floor(u/86400))>=1?{type:"day",value:t,text:t+" "+(1===t?o[0]:o[1])+" ago"}:(t=Math.floor(u/3600))>=1?{type:"hour",value:t,text:t+" "+(1===t?i[0]:i[1])+" ago"}:(t=Math.floor(u/60))>1?{type:"minute",value:t,text:t+" "+(1===t?a[0]:a[1])+" ago"}:{type:"now",value:"",text:s[0]}},m.bulkDelete=function(e,t){m.each(e,function(e,n){delete t[n]})},m.bfaTrack=v,m.getScreenOrientation=g,m.isIOSIPad=!!navigator.userAgent.toLowerCase().match(/ipad/),m.isIOSMobile=!!navigator.userAgent.toLowerCase().match(/iphone|ipod/);var y=m.isIOSIPad||m.isIOSMobile;m.isIOS=y;var w=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString();function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(){return e++}}m.isSafari=w,m.createScript=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.head,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise(function(r,o){var i=document.createElement("script");i.onload=function(){return r(i)},i.onerror=function(e){Object(c.a)("script","error",{url:u()(e,"currentTarget.src","").split("?")[0]}),o("Script failed to load")},i.src=e,i.async=n,t.appendChild(i)})},m.createStyleSheet=function(e){return new Promise(function(t,n){var r=document.createElement("link");r.rel="stylesheet",r.href=e,r.onload=function(){return t(r)},r.onerror=function(){return n("".concat(e," failed to load"))},document.head.appendChild(r)})},m.stripHTML=function(e){var t=Array.isArray(e)?[]:{},n=document.createElement("div");switch(h(e)){case"string":return n.innerHTML=e,n.textContent||"";case"object":return m.each(e,function(e,n){return t[e]=m.stripHTML(n)}),t}return e},m.truncate=function(e,t){if(!e||!e.textContent||!e.textContent.length)return 0;var n=e.textContent,r=e.textContent.substring(0,t),o=e.innerHTML?e.innerHTML.substring(0,t):null;if(!e.innerHTML||r===o)return e.textContent=n===r?r:r.replace(/\s*$/,"")+"...",r.length;var i=0;return m.each(e.childNodes,function(n,r){i>=t?e.removeChild(r):i+=m.truncate(r,t-i)}),e.textContent.length},m.decorateWithMixins=function(e){if(!a()(e))throw new TypeError("".concat(e," is not a function"));for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(e,t){if(void 0===e)throw new TypeError("Mixin at position ".concat(t," is undefined"))});var o=[e];return n.forEach(function(e){var t=o[0],n=function(e){function n(){return l(this,n),f(this,d(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,t),n}();a()(e)&&(e=e(t.prototype)),Object.assign(n.prototype,e),o.unshift(n)}),o[0]},m.idGenerator=k;var _=function e(){var t,n,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).unsubscribe,o=void 0===r?function(){}:r;l(this,e);var i=new Promise(function(e,r){t=e,n=r});return i.resolve=t,i.reject=n,i.unsubscribe=o,i};m.Deferred=_,m.moduleIsInContext=function(){return!0},t.c=m},10:function(e,t,n){"use strict";function r(e,t){var n=e.match(t);return n&&n.length?n[0]:null}function o(){return"prod"===window.BZFD.Config.env?"buzzfeed.com":window.location.hostname}t.a={getBuzzfeedSubdomainOrWildcard:function(e){var t=r(e,"(dev|stage|www).(buzzfeed|buzzfeednews).(com|io)$");return t||r(e,".?[a-z]+.[a-z]+$")},get:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="".concat(e,"="),r=document.cookie.split(";"),o=0;o<r.length;o++){for(var i=r[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(n))return i.substring(n.length,i.length)}return t},set:function(e){var t=e.name,n=e.value,r=e.days,i=e.domain;i=i||o();var a="";if(r){var s=new Date;s.setTime(s.getTime()+24*r*60*60*1e3),a="; expires=".concat(s.toGMTString())}return document.cookie="".concat(t,"=").concat(n).concat(a,"; path=/; domain=").concat(i)},remove:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o();return this.set({name:e,value:"",days:-1,domain:t})}}},100:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={}),a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["node_modules/@buzzfeed/buzzblocks/components/gif-play-button/gif-play-button.html"]={root:function(e,t,n,r,o){var i="";try{i+='<button type="button" class="gif-play-button">\n    <svg aria-labelledby="gif-play-button-',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"gif_button_id"),e.opts.autoescape),i+='" viewBox="0 0 48 48" class="gif-play-button__icon" fill="none" role="img">\n        <title id="gif-play-button-',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"gif_button_id"),e.opts.autoescape),i+='">',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"gif_button_tap_to_play_text"),e.opts.autoescape),i+="</title>\n        ",i+=r.suppressValue(r.contextOrFrameLookup(t,n,"gif_button_tap_to_play_text"),e.opts.autoescape),o(null,i+='\n        <circle class="gif-play-button__bg" cx="24" cy="24" r="20" fill="rgba(0, 0, 0, .25)" />\n        <circle class="gif-play-button__circle" cx="24" cy="24" r="18" stroke="rgba(255, 255, 255, 1)"\n                stroke-width="4" />\n        <path class="gif-play-button__cta" d="M17.416 30.192c2.016 0 3.584-.816 4.72-2.08v-4.24h-5.152v2.416h2.4v.832c-.384.32-1.184.64-1.968.64-1.744 0-2.976-1.344-2.976-3.088 0-1.76 1.232-3.088 2.976-3.088 1.04 0 1.856.656 2.256 1.36l2.304-1.2c-.736-1.328-2.176-2.592-4.56-2.592-3.184 0-5.776 2.128-5.776 5.52 0 3.392 2.592 5.52 5.776 5.52zM26.504 30V19.328h-2.752V30h2.752zm4.672 0v-4.208h4.96v-2.4h-4.96v-1.664h5.072v-2.4h-7.824V30h2.752z"/>\n        <path class="gif-play-button__pause-cta" d="M23.25,30V19.33H20.5V30ZM28,19.33H25.17V30h2.76Zm-.07,2.4,0,1.66"/>\n    </svg>\n</button>\n')}catch(e){o(r.handleError(e,null,null))}}},e.exports=a(o,r,o.nunjucksPrecompiled["node_modules/@buzzfeed/buzzblocks/components/gif-play-button/gif-play-button.html"],i)},11:function(e,t,n){"use strict";var r=n(80),o=n.n(r),i=n(81),a=n.n(i),s=n(31),u=n.n(s);var c={get isBPage(){try{return"buzz"in BZFD.Context}catch(e){return!1}},get hasQuizBadge(){try{return BZFD.Context.buzz.badges.filter(function(e){return"quiz"===e.badge_type}).length>0}catch(e){return!1}},get hasQuiz(){try{return BZFD.Context.page.hasQuiz||this.hasQuizBadge}catch(e){return!1}},get hasList(){try{return BZFD.Context.buzz.format.type.match(/list/)}catch(e){return!1}},get isFeedPage(){return!!window.FEEDPAGER||!!BZFD.Context.feedpager},get isFeedpager(){return c.isFeedPage},get isFeed(){return!!BZFD.Context.isFeed},get isHomePage(){return!!BZFD.Context.homepage||"home"===c.pageName},get isBuzzblocks(){try{return"buzzblocks"===BZFD.Config.service}catch(e){return!1}},get isDev(){try{return"dev"===BZFD.Config.env}catch(e){return!1}},get isStage(){try{return"stage"===BZFD.Config.env}catch(e){return!1}},get isProd(){try{return"prod"===BZFD.Config.env}catch(e){return!1}},get isPharmaceutical(){return"emdserono"===c.author},get author(){try{return c.isBPage?BZFD.Context.buzz.username:BZFD.Context.page.username}catch(e){return null}},get pageName(){try{return BZFD.Context.page.name}catch(e){return null}},get pageCategory(){try{return BZFD.Context.page.category}catch(e){return null}},get pageVertical(){try{return BZFD.Context.page.vertical}catch(e){return null}},get pageClassification(){try{return BZFD.Context.page.classification||{}}catch(e){return{}}},get localization(){try{return o()(BZFD.Context.page.localization,["country","language","locale"])}catch(e){return{}}},get allPageClassifications(){try{return BZFD.Context.page.allClassifications||{}}catch(e){return{}}},get allPageSections(){try{return BZFD.Context.page.allClassifications.sections||[]}catch(e){}try{return BZFD.Context.page.sections||[]}catch(e){return[]}},get allPageEditions(){try{return BZFD.Context.page.allClassifications.editions||[]}catch(e){return[]}},get pageFilter(){try{return BZFD.Context.page.filter}catch(e){return null}},get pageFilters(){try{return BZFD.Context.page.filters||{}}catch(e){return{}}},get pageMainFilter(){try{var e,t=BZFD.Context.page.filters;for(var n in t)if(t[n].is_main){e=n;break}return e||null}catch(e){return null}},get isWidePost(){try{return"buzz"in BZFD.Context&&"wide"===BZFD.Context.page.width}catch(e){return!1}},get facebookApiAppId(){try{return BZFD.Config.facebookApi.appId}catch(e){return null}},get facebookApiVersion(){try{return BZFD.Config.facebookApi.version}catch(e){return"v2.9"}},get isNewsPost(){try{return"news"===BZFD.Context.page.vertical}catch(e){return!1}},get buzzType(){var e="article";return c.hasQuiz?e="quiz":c.hasList&&(e="list"),e},get buzzTags(){try{return BZFD.Context.buzz.tags}catch(e){return[]}},get buzzFlags(){try{return BZFD.Context.buzz.flags}catch(e){return{}}},get locale(){try{return BZFD.Context.page.localization.locale}catch(e){return"en_US"}},get hasTranslations(){try{return!!BZFD.Context.page.localization.translations}catch(e){return!1}},get webRoot(){try{return BZFD.Config.webRoot}catch(e){return""}},get prebidUnits(){try{BZFD.Config.ads.prebidUnits.length}catch(e){a()(window,"BZFD.Config.ads.prebidUnits",[])}return BZFD.Config.ads.prebidUnits},get programmaticSizes(){try{return BZFD.Config.ads.programmaticSizes}catch(e){throw new Error("`BZFD.Config.ads` is not defined, which may cause ads to work incorrectly; use `bf_ads.get_ads_config` to make the config")}},get contextDestination(){var e,t;try{e=BZFD.Context.buzz.destination}catch(t){e=null}try{t=BZFD.Context.page.destination}catch(e){t=null}return e||t||"buzzfeed"},get isShopping(){try{return"Shopping"===c.pageCategory||-1!==c.allPageSections.indexOf("Shopping")}catch(e){return!1}},get isCommerce(){try{return!(!this.isShopping&&!c.buzzTags.some(function(e){return"intlcomtent"===e||"comtent"===e}))}catch(e){return!1}},get isCommunity(){return"Community"===c.pageCategory},get isAsIs(){try{return c.isBPage&&/^(As\/?Is)/im.test(c.pageClassification.section)||"asis"===c.pageName}catch(e){return!1}},get isBFO(){try{return"buzzfeed"===c.contextDestination}catch(e){return!1}},get isBFN(){try{return"buzzfeed_news"===c.contextDestination}catch(e){return!1}},get buzzId(){try{return BZFD.Context.buzz.id}catch(e){return""}},isAdPost:function(e){try{return!!function(e){var t=null;try{var n=u()(e,".js-buzz",!0);n&&(t=JSON.parse(n.querySelector("script").textContent).context)}catch(e){}return t}(e).buzz.flags.ad}catch(e){}try{return!!BZFD.Context.buzz.flags.ad}catch(e){return!1}}};t.a=c},12:function(e,t,n){(function(t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";var r,o=n(1),i=n(2),a=n(15),s=n(3),u=n(3);e.exports={},e.exports.Environment=i.Environment,e.exports.Template=i.Template,e.exports.Loader=a,e.exports.FileSystemLoader=s.FileSystemLoader,e.exports.PrecompiledLoader=s.PrecompiledLoader,e.exports.WebLoader=s.WebLoader,e.exports.compiler=n(3),e.exports.parser=n(3),e.exports.lexer=n(3),e.exports.runtime=n(8),e.exports.lib=o,e.exports.nodes=n(3),e.exports.installJinjaCompat=n(16),e.exports.configure=function(e,t){var n;return t=t||{},o.isObject(e)&&(t=e,e=null),s.FileSystemLoader?n=new s.FileSystemLoader(e,{watch:t.watch,noCache:t.noCache}):s.WebLoader&&(n=new s.WebLoader(e,{useCache:t.web&&t.web.useCache,async:t.web&&t.web.async})),r=new i.Environment(n,t),t&&t.express&&r.express(t.express),r},e.exports.compile=function(t,n,o,i){return r||e.exports.configure(),new e.exports.Template(t,n,o,i)},e.exports.render=function(t,n,o){return r||e.exports.configure(),r.render(t,n,o)},e.exports.renderString=function(t,n,o){return r||e.exports.configure(),r.renderString(t,n,o)},u&&(e.exports.precompile=u.precompile,e.exports.precompileString=u.precompileString)},function(e,t){"use strict";var n=Array.prototype,r=Object.prototype,o={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;"},i=/[&"'<>]/g,a=function(e){return o[e]};(t=e.exports={}).prettifyError=function(e,n,r){if(r.Update||(r=new t.TemplateError(r)),r.Update(e),!n){var o=r;(r=new Error(o.message)).name=o.name}return r},t.TemplateError=function(e,t,n){var r=this;if(e instanceof Error){r=e,e=e.name+": "+e.message;try{r.name=""}catch(e){r=this}}else Error.captureStackTrace&&Error.captureStackTrace(r);return r.name="Template render error",r.message=e,r.lineno=t,r.colno=n,r.firstUpdate=!0,r.Update=function(e){var t="("+(e||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?t+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(t+=" [Line "+this.lineno+"]")),t+="\n ",this.firstUpdate&&(t+=" "),this.message=t+(this.message||""),this.firstUpdate=!1,this},r},t.TemplateError.prototype=Error.prototype,t.escape=function(e){return e.replace(i,a)},t.isFunction=function(e){return"[object Function]"===r.toString.call(e)},t.isArray=Array.isArray||function(e){return"[object Array]"===r.toString.call(e)},t.isString=function(e){return"[object String]"===r.toString.call(e)},t.isObject=function(e){return"[object Object]"===r.toString.call(e)},t.groupBy=function(e,n){for(var r={},o=t.isFunction(n)?n:function(e){return e[n]},i=0;i<e.length;i++){var a=e[i],s=o(a,i);(r[s]||(r[s]=[])).push(a)}return r},t.toArray=function(e){return Array.prototype.slice.call(e)},t.without=function(e){var n=[];if(!e)return n;for(var r=-1,o=e.length,i=t.toArray(arguments).slice(1);++r<o;)-1===t.indexOf(i,e[r])&&n.push(e[r]);return n},t.extend=function(e,t){for(var n in t)e[n]=t[n];return e},t.repeat=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},t.each=function(e,t,r){if(null!=e)if(n.each&&e.each===n.each)e.forEach(t,r);else if(e.length===+e.length)for(var o=0,i=e.length;o<i;o++)t.call(r,e[o],o,e)},t.map=function(e,t){var r=[];if(null==e)return r;if(n.map&&e.map===n.map)return e.map(t);for(var o=0;o<e.length;o++)r[r.length]=t(e[o],o);return e.length===+e.length&&(r.length=e.length),r},t.asyncIter=function(e,t,n){var r=-1;!function o(){++r<e.length?t(e[r],r,o,n):n()}()},t.asyncFor=function(e,n,r){var o=t.keys(e),i=o.length,a=-1;!function t(){var s=o[++a];a<i?n(s,e[s],a,i,t):r()}()},t.indexOf=Array.prototype.indexOf?function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){var r=this.length>>>0;for(n=+n||0,Math.abs(n)===1/0&&(n=0),n<0&&(n+=r)<0&&(n=0);n<r;n++)if(e[n]===t)return n;return-1},Array.prototype.map||(Array.prototype.map=function(){throw new Error("map is unimplemented for this js engine")}),t.keys=function(e){if(Object.prototype.keys)return e.keys();var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},t.inOperator=function(e,n){if(t.isArray(n))return-1!==t.indexOf(n,e);if(t.isObject(n))return e in n;if(t.isString(n))return-1!==n.indexOf(e);throw new Error('Cannot use "in" operator to search for "'+e+'" in unexpected types.')}},function(e,t,n){"use strict";var r,o=n(3),i=n(4),a=n(1),s=n(6),u=n(3),c=n(7),l=n(3),f=n(8),d=n(9),p=n(10),h=f.Frame;function m(e,t,n){i(function(){e(t,n)})}l.PrecompiledLoader=n(14);var b=s.extend({init:function(e,t){for(var n in t=this.opts=t||{},this.opts.dev=!!t.dev,this.opts.autoescape=null==t.autoescape||t.autoescape,this.opts.throwOnUndefined=!!t.throwOnUndefined,this.opts.trimBlocks=!!t.trimBlocks,this.opts.lstripBlocks=!!t.lstripBlocks,this.loaders=[],e?this.loaders=a.isArray(e)?e:[e]:l.FileSystemLoader?this.loaders=[new l.FileSystemLoader("views")]:l.WebLoader&&(this.loaders=[new l.WebLoader("/views")]),window.nunjucksPrecompiled&&this.loaders.unshift(new l.PrecompiledLoader(window.nunjucksPrecompiled)),this.initCache(),this.globals=d(),this.filters={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],c)this.addFilter(n,c[n])},initCache:function(){a.each(this.loaders,function(e){e.cache={},"function"==typeof e.on&&e.on("update",function(t){e.cache[t]=null})})},addExtension:function(e,t){return t._name=e,this.extensions[e]=t,this.extensionsList.push(t),this},removeExtension:function(e){var t=this.getExtension(e);t&&(this.extensionsList=a.without(this.extensionsList,t),delete this.extensions[e])},getExtension:function(e){return this.extensions[e]},hasExtension:function(e){return!!this.extensions[e]},addGlobal:function(e,t){return this.globals[e]=t,this},getGlobal:function(e){if(void 0===this.globals[e])throw new Error("global not found: "+e);return this.globals[e]},addFilter:function(e,t,n){var r=t;return n&&this.asyncFilters.push(e),this.filters[e]=r,this},getFilter:function(e){if(!this.filters[e])throw new Error("filter not found: "+e);return this.filters[e]},resolveTemplate:function(e,t,n){return!(!e.isRelative||!t)&&e.isRelative(n)&&e.resolve?e.resolve(t,n):n},getTemplate:function(e,t,n,o,i){var s=this,u=null;if(e&&e.raw&&(e=e.raw),a.isFunction(n)&&(i=n,n=null,t=t||!1),a.isFunction(t)&&(i=t,t=!1),e instanceof r)u=e;else{if("string"!=typeof e)throw new Error("template names must be a string: "+e);for(var c=0;c<this.loaders.length;c++){var l=this.resolveTemplate(this.loaders[c],n,e);if(u=this.loaders[c].cache[l])break}}if(!u){var f,d=this;return a.asyncIter(this.loaders,function(t,r,o,i){function a(e,n){e?i(e):n?(n.loader=t,i(null,n)):o()}e=s.resolveTemplate(t,n,e),t.async?t.getSource(e,a):a(null,t.getSource(e))},function(n,a){if(a||n||o||(n=new Error("template not found: "+e)),n){if(!i)throw n;i(n)}else{var s;a?(s=new r(a.src,d,a.path,t),a.noCache||(a.loader.cache[e]=s)):s=new r("",d,"",t),i?i(null,s):f=s}}),f}if(t&&u.compile(),!i)return u;i(null,u)},express:function(e){var t=this;function n(e,t){if(this.name=e,this.path=e,this.defaultEngine=t.defaultEngine,this.ext=o.extname(e),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=("."!==this.defaultEngine[0]?".":"")+this.defaultEngine)}return n.prototype.render=function(e,n){t.render(this.name,e,n)},e.set("view",n),e.set("nunjucksEnv",this),this},render:function(e,t,n){a.isFunction(t)&&(n=t,t=null);var r=null;return this.getTemplate(e,function(e,o){if(e&&n)m(n,e);else{if(e)throw e;r=o.render(t,n)}}),r},renderString:function(e,t,n,o){return a.isFunction(n)&&(o=n,n={}),new r(e,this,(n=n||{}).path).render(t,o)},waterfall:p}),v=s.extend({init:function(e,t,n){for(var r in this.env=n||new b,this.ctx={},e)e.hasOwnProperty(r)&&(this.ctx[r]=e[r]);for(var o in this.blocks={},this.exported=[],t)this.addBlock(o,t[o])},lookup:function(e){return e in this.env.globals&&!(e in this.ctx)?this.env.globals[e]:this.ctx[e]},setVariable:function(e,t){this.ctx[e]=t},getVariables:function(){return this.ctx},addBlock:function(e,t){return this.blocks[e]=this.blocks[e]||[],this.blocks[e].push(t),this},getBlock:function(e){if(!this.blocks[e])throw new Error('unknown block "'+e+'"');return this.blocks[e][0]},getSuper:function(e,t,n,r,o,i){var s=a.indexOf(this.blocks[t]||[],n),u=this.blocks[t][s+1];if(-1===s||!u)throw new Error('no super block available for "'+t+'"');u(e,this,r,o,i)},addExport:function(e){this.exported.push(e)},getExported:function(){for(var e={},t=0;t<this.exported.length;t++){var n=this.exported[t];e[n]=this.ctx[n]}return e}});r=s.extend({init:function(e,t,n,r){if(this.env=t||new b,a.isObject(e))switch(e.type){case"code":this.tmplProps=e.obj;break;case"string":this.tmplStr=e.obj}else{if(!a.isString(e))throw new Error("src must be a string or an object describing the source");this.tmplStr=e}if(this.path=n,r){try{this._compile()}catch(e){throw a.prettifyError(this.path,this.env.opts.dev,e)}}else this.compiled=!1},render:function(e,t,n){"function"==typeof e?(n=e,e={}):"function"==typeof t&&(n=t,t=null);var r=!0;t&&(r=!1);var o=this;try{o.compile()}catch(e){var i=a.prettifyError(this.path,this.env.opts.dev,e);if(n)return m(n,i);throw i}var s=new v(e||{},o.blocks,o.env),u=t?t.push(!0):new h;u.topLevel=!0;var c=null;return o.rootRenderFunc(o.env,s,u||new h,f,function(e,t){if(e&&(e=a.prettifyError(o.path,o.env.opts.dev,e)),n)r?m(n,e,t):n(e,t);else{if(e)throw e;c=t}}),c},getExported:function(e,t,n){"function"==typeof e&&(n=e,e={}),"function"==typeof t&&(n=t,t=null);try{this.compile()}catch(e){if(n)return n(e);throw e}var r=t?t.push():new h;r.topLevel=!0;var o=new v(e||{},this.blocks,this.env);this.rootRenderFunc(this.env,o,r,f,function(e){e?n(e,null):n(null,o.getExported())})},compile:function(){this.compiled||this._compile()},_compile:function(){var e;if(this.tmplProps)e=this.tmplProps;else{var t=u.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts);e=new Function(t)()}this.blocks=this._getBlocks(e),this.rootRenderFunc=e.root,this.compiled=!0},_getBlocks:function(e){var t={};for(var n in e)"b_"===n.slice(0,2)&&(t[n.slice(2)]=e[n]);return t}}),e.exports={Environment:b,Template:r}},function(e,t){},function(e,t,n){"use strict";var r=n(5),o=[],i=[],a=r.makeRequestCallFromTimer(function(){if(i.length)throw i.shift()});function s(e){var t;(t=o.length?o.pop():new u).task=e,r(t)}function u(){this.task=null}e.exports=s,u.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(i.push(e),a())}finally{this.task=null,o[o.length]=this}}},function(e,t){(function(t){"use strict";function n(e){o.length||(r(),!0),o[o.length]=e}e.exports=n;var r,o=[],i=0,a=1024;function s(){for(;i<o.length;){var e=i;if(i+=1,o[e].call(),i>a){for(var t=0,n=o.length-i;t<n;t++)o[t]=o[t+i];o.length-=i,i=0}}o.length=0,i=0,!1}var u=void 0!==t?t:self,c=u.MutationObserver||u.WebKitMutationObserver;function l(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}r="function"==typeof c?function(e){var t=1,n=new c(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(s):l(s),n.requestFlush=r,n.makeRequestCallFromTimer=l}).call(t,function(){return this}())},function(e,t){"use strict";e.exports=function e(t,n,r){var o=function(){};o.prototype=t.prototype;var i=new o,a=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/;for(var s in r=r||{}){var u=r[s],c=i[s];"function"==typeof c&&"function"==typeof u&&a.test(u)?i[s]=function(e,t){return function(){var n=this.parent;this.parent=t;var r=e.apply(this,arguments);return this.parent=n,r}}(u,c):i[s]=u}i.typename=n;var l=function(){i.init&&i.init.apply(this,arguments)};return(l.prototype=i).constructor=l,l.extend=function(t,n){return"object"==typeof t&&(n=t,t="anonymous"),e(l,t,n)},l}(Object,"Object",{})},function(e,t,n){"use strict";var r=n(1),o=n(8);function i(e,t){return null===e||void 0===e||!1===e?t:e}var a={abs:Math.abs,batch:function(e,t,n){var r,o=[],i=[];for(r=0;r<e.length;r++)r%t==0&&i.length&&(o.push(i),i=[]),i.push(e[r]);if(i.length){if(n)for(r=i.length;r<t;r++)i.push(n);o.push(i)}return o},capitalize:function(e){var t=(e=i(e,"")).toLowerCase();return o.copySafeness(e,t.charAt(0).toUpperCase()+t.slice(1))},center:function(e,t){if(e=i(e,""),t=t||80,e.length>=t)return e;var n=t-e.length,a=r.repeat(" ",n/2-n%2),s=r.repeat(" ",n/2);return o.copySafeness(e,a+e+s)},default:function(e,t,n){return n?e||t:void 0!==e?e:t},dictsort:function(e,t,n){if(!r.isObject(e))throw new r.TemplateError("dictsort filter: val must be an object");var o,i=[];for(var a in e)i.push([a,e[a]]);if(void 0===n||"key"===n)o=0;else{if("value"!==n)throw new r.TemplateError("dictsort filter: You can only sort by either key or value");o=1}return i.sort(function(e,n){var i=e[o],a=n[o];return t||(r.isString(i)&&(i=i.toUpperCase()),r.isString(a)&&(a=a.toUpperCase())),i>a?1:i===a?0:-1}),i},dump:function(e,t){return JSON.stringify(e,null,t)},escape:function(e){return e instanceof o.SafeString?e:(e=null===e||void 0===e?"":e,o.markSafe(r.escape(e.toString())))},safe:function(e){return e instanceof o.SafeString?e:(e=null===e||void 0===e?"":e,o.markSafe(e.toString()))},first:function(e){return e[0]},groupby:function(e,t){return r.groupBy(e,t)},indent:function(e,t,n){if(""===(e=i(e,"")))return"";t=t||4;for(var a="",s=e.split("\n"),u=r.repeat(" ",t),c=0;c<s.length;c++)a+=0!==c||n?u+s[c]+"\n":s[c]+"\n";return o.copySafeness(e,a)},join:function(e,t,n){return t=t||"",n&&(e=r.map(e,function(e){return e[n]})),e.join(t)},last:function(e){return e[e.length-1]},length:function(e){var t=i(e,"");return void 0!==t?"function"==typeof Map&&t instanceof Map||"function"==typeof Set&&t instanceof Set?t.size:!r.isObject(t)||t instanceof o.SafeString?t.length:Object.keys(t).length:0},list:function(e){if(r.isString(e))return e.split("");if(r.isObject(e)){var t=[];if(Object.keys)t=Object.keys(e);else for(var n in e)t.push(n);return r.map(t,function(t){return{key:t,value:e[t]}})}if(r.isArray(e))return e;throw new r.TemplateError("list filter: type not iterable")},lower:function(e){return(e=i(e,"")).toLowerCase()},nl2br:function(e){return null===e||void 0===e?"":o.copySafeness(e,e.replace(/\r\n|\n/g,"<br />\n"))},random:function(e){return e[Math.floor(Math.random()*e.length)]},rejectattr:function(e,t){return e.filter(function(e){return!e[t]})},selectattr:function(e,t){return e.filter(function(e){return!!e[t]})},replace:function(e,t,n,r){var i=e;if(t instanceof RegExp)return e.replace(t,n);void 0===r&&(r=-1);var a="";if("number"==typeof t)t+="";else if("string"!=typeof t)return e;if("number"==typeof e&&(e+=""),"string"!=typeof e&&!(e instanceof o.SafeString))return e;if(""===t)return a=n+e.split("").join(n)+n,o.copySafeness(e,a);var s=e.indexOf(t);if(0===r||-1===s)return e;for(var u=0,c=0;s>-1&&(-1===r||c<r);)a+=e.substring(u,s)+n,u=s+t.length,c++,s=e.indexOf(t,u);return u<e.length&&(a+=e.substring(u)),o.copySafeness(i,a)},reverse:function(e){var t;return(t=r.isString(e)?a.list(e):r.map(e,function(e){return e})).reverse(),r.isString(e)?o.copySafeness(e,t.join("")):t},round:function(e,t,n){t=t||0;var r=Math.pow(10,t);return("ceil"===n?Math.ceil:"floor"===n?Math.floor:Math.round)(e*r)/r},slice:function(e,t,n){for(var r=Math.floor(e.length/t),o=e.length%t,i=0,a=[],s=0;s<t;s++){var u=i+s*r;s<o&&i++;var c=i+(s+1)*r,l=e.slice(u,c);n&&s>=o&&l.push(n),a.push(l)}return a},sum:function(e,t,n){var o=0;"number"==typeof n&&(o+=n),t&&(e=r.map(e,function(e){return e[t]}));for(var i=0;i<e.length;i++)o+=e[i];return o},sort:o.makeMacro(["value","reverse","case_sensitive","attribute"],[],function(e,t,n,o){return(e=r.map(e,function(e){return e})).sort(function(e,i){var a,s;return o?(a=e[o],s=i[o]):(a=e,s=i),!n&&r.isString(a)&&r.isString(s)&&(a=a.toLowerCase(),s=s.toLowerCase()),a<s?t?1:-1:a>s?t?-1:1:0}),e}),string:function(e){return o.copySafeness(e,e)},striptags:function(e,t){e=i(e,""),t=t||!1;var n=a.trim(e.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,"")),r="";return r=t?n.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,"\n").replace(/\n\n\n+/g,"\n\n"):n.replace(/\s+/gi," "),o.copySafeness(e,r)},title:function(e){for(var t=(e=i(e,"")).split(" "),n=0;n<t.length;n++)t[n]=a.capitalize(t[n]);return o.copySafeness(e,t.join(" "))},trim:function(e){return o.copySafeness(e,e.replace(/^\s*|\s*$/g,""))},truncate:function(e,t,n,r){var a=e;if(e=i(e,""),t=t||255,e.length<=t)return e;if(n)e=e.substring(0,t);else{var s=e.lastIndexOf(" ",t);-1===s&&(s=t),e=e.substring(0,s)}return e+=void 0!==r&&null!==r?r:"...",o.copySafeness(a,e)},upper:function(e){return(e=i(e,"")).toUpperCase()},urlencode:function(e){var t,n=encodeURIComponent;if(r.isString(e))return n(e);if(r.isArray(e))t=e.map(function(e){return n(e[0])+"="+n(e[1])});else for(var o in t=[],e)e.hasOwnProperty(o)&&t.push(n(o)+"="+n(e[o]));return t.join("&")},urlize:function(e,t,n){isNaN(t)&&(t=1/0);var r=!0===n?' rel="nofollow"':"",o=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,a=/^https?:\/\/.*$/,s=/^www\./,u=/\.(?:org|net|com)(?:\:|\/|$)/;return e.split(/(\s+)/).filter(function(e){return e&&e.length}).map(function(e){var n=e.match(o),c=n&&n[1]||e;return a.test(c)?'<a href="'+c+'"'+r+">"+c.substr(0,t)+"</a>":s.test(c)?'<a href="http://'+c+'"'+r+">"+c.substr(0,t)+"</a>":i.test(c)?'<a href="mailto:'+c+'">'+c+"</a>":u.test(c)?'<a href="http://'+c+'"'+r+">"+c.substr(0,t)+"</a>":e}).join("")},wordcount:function(e){var t=(e=i(e,""))?e.match(/\w+/g):null;return t?t.length:null},float:function(e,t){var n=parseFloat(e);return isNaN(n)?t:n},int:function(e,t){var n=parseInt(e,10);return isNaN(n)?t:n}};a.d=a.default,a.e=a.escape,e.exports=a},function(e,t,n){"use strict";var r=n(1),o=n(6).extend({init:function(e,t){this.variables={},this.parent=e,this.topLevel=!1,this.isolateWrites=t},set:function(e,t,n){var r=e.split("."),o=this.variables,i=this;if(n&&(i=this.resolve(r[0],!0)))i.set(e,t);else{for(var a=0;a<r.length-1;a++){var s=r[a];o[s]||(o[s]={}),o=o[s]}o[r[r.length-1]]=t}},get:function(e){var t=this.variables[e];return void 0!==t?t:null},lookup:function(e){var t=this.parent,n=this.variables[e];return void 0!==n?n:t&&t.lookup(e)},resolve:function(e,t){var n=t&&this.isolateWrites?void 0:this.parent;return void 0!==this.variables[e]?this:n&&n.resolve(e)},push:function(e){return new o(this,e)},pop:function(){return this.parent}});function i(e){var t=e.length;if(0===t)return 0;var n=e[t-1];return n&&n.hasOwnProperty("__keywords")?t-1:t}function a(e){if("string"!=typeof e)return e;this.val=e,this.length=e.length}a.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),a.prototype.valueOf=function(){return this.val},a.prototype.toString=function(){return this.val},e.exports={Frame:o,makeMacro:function(e,t,n){return function(){var r,o,a=i(arguments),s=function(e){var t=e.length;if(t){var n=e[t-1];if(n&&n.hasOwnProperty("__keywords"))return n}return{}}(arguments);if(a>e.length){r=Array.prototype.slice.call(arguments,0,e.length);var u=Array.prototype.slice.call(arguments,r.length,a);for(o=0;o<u.length;o++)o<t.length&&(s[t[o]]=u[o]);r.push(s)}else if(a<e.length){for(r=Array.prototype.slice.call(arguments,0,a),o=a;o<e.length;o++){var c=e[o];r.push(s[c]),delete s[c]}r.push(s)}else r=arguments;return n.apply(this,r)}},makeKeywordArgs:function(e){return e.__keywords=!0,e},numArgs:i,suppressValue:function(e,t){return e=void 0!==e&&null!==e?e:"",!t||e instanceof a||(e=r.escape(e.toString())),e},ensureDefined:function(e,t,n){if(null===e||void 0===e)throw new r.TemplateError("attempted to output null or undefined value",t+1,n+1);return e},memberLookup:function(e,t){return"function"==typeof(e=e||{})[t]?function(){return e[t].apply(e,arguments)}:e[t]},contextOrFrameLookup:function(e,t,n){var r=t.lookup(n);return void 0!==r?r:e.lookup(n)},callWrap:function(e,t,n,r){if(!e)throw new Error("Unable to call `"+t+"`, which is undefined or falsey");if("function"!=typeof e)throw new Error("Unable to call `"+t+"`, which is not a function");return e.apply(n,r)},handleError:function(e,t,n){return e.lineno?e:new r.TemplateError(e,t,n)},isArray:r.isArray,keys:r.keys,SafeString:a,copySafeness:function(e,t){return e instanceof a?new a(t):t.toString()},markSafe:function(e){var t=typeof e;return"string"===t?new a(e):"function"!==t?e:function(){var t=e.apply(this,arguments);return"string"==typeof t?new a(t):t}},asyncEach:function(e,t,n,o){if(r.isArray(e)){var i=e.length;r.asyncIter(e,function(e,r,o){switch(t){case 1:n(e,r,i,o);break;case 2:n(e[0],e[1],r,i,o);break;case 3:n(e[0],e[1],e[2],r,i,o);break;default:e.push(r,o),n.apply(this,e)}},o)}else r.asyncFor(e,function(e,t,r,o,i){n(e,t,r,o,i)},o)},asyncAll:function(e,t,n,o){var i,a,s,u=0;function c(e,t){u++,s[e]=t,u===i&&o(null,s.join(""))}if(r.isArray(e))if(i=e.length,s=new Array(i),0===i)o(null,"");else for(a=0;a<e.length;a++){var l=e[a];switch(t){case 1:n(l,a,i,c);break;case 2:n(l[0],l[1],a,i,c);break;case 3:n(l[0],l[1],l[2],a,i,c);break;default:l.push(a,c),n.apply(this,l)}}else{var f=r.keys(e);if(i=f.length,s=new Array(i),0===i)o(null,"");else for(a=0;a<f.length;a++){var d=f[a];n(d,e[d],a,i,c)}}},inOperator:r.inOperator}},function(e,t){"use strict";e.exports=function(){return{range:function(e,t,n){void 0===t?(t=e,e=0,n=1):n||(n=1);var r,o=[];if(n>0)for(r=e;r<t;r+=n)o.push(r);else for(r=e;r>t;r+=n)o.push(r);return o},cycler:function(){return function(e){var t=-1;return{current:null,reset:function(){t=-1,this.current=null},next:function(){return++t>=e.length&&(t=0),this.current=e[t],this.current}}}(Array.prototype.slice.call(arguments))},joiner:function(e){return function(e){e=e||",";var t=!0;return function(){var n=t?"":e;return t=!1,n}}(e)}}}},function(e,t,n){var r;(function(n,o){!function(i){"use strict";var a=function(){var e=Array.prototype.slice.call(arguments);"function"==typeof e[0]&&e[0].apply(null,e.splice(1))},s=function(e){"function"==typeof n?n(e):void 0!==o&&o.nextTick?o.nextTick(e):setTimeout(e,0)},u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e,t,n){var r=n?s:a;if(t=t||function(){},!u(e)){var o=new Error("First argument to waterfall must be an array of functions");return t(o)}if(!e.length)return t();var i=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var o=Array.prototype.slice.call(arguments,1),a=e.next();a?o.push(i(a)):o.push(t),r(function(){e.apply(null,o)})}}};i(function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)}(e))()};void 0===(r=function(){return c}.apply(t,[]))||(e.exports=r)}()}).call(t,n(11).setImmediate,n(13))},function(e,r,o){var i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new a(i.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new a(i.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o(12),r.setImmediate=t,r.clearImmediate=n},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o=1,i={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return i[o]=a,r(o),o++},u.clearImmediate=c}function c(e){delete i[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=i[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,function(){return this}(),n(13))},function(e,t){},function(e,t,n){"use strict";var r=n(15).extend({init:function(e){this.precompiled=e||{}},getSource:function(e){return this.precompiled[e]?{src:{type:"code",obj:this.precompiled[e]},path:e}:null}});e.exports=r},function(e,t,n){"use strict";var r=n(3),o=n(6),i=n(1),a=o.extend({on:function(e,t){this.listeners=this.listeners||{},this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t)},emit:function(e){var t=Array.prototype.slice.call(arguments,1);this.listeners&&this.listeners[e]&&i.each(this.listeners[e],function(e){e.apply(null,t)})},resolve:function(e,t){return r.resolve(r.dirname(e),t)},isRelative:function(e){return 0===e.indexOf("./")||0===e.indexOf("../")}});e.exports=a},function(e,t){e.exports=function(){"use strict";var e=this.runtime,t=this.lib,n=this.compiler.Compiler,r=this.parser.Parser,o=this.nodes,i=this.lexer,a=e.contextOrFrameLookup,s=n.prototype.assertType,u=r.prototype.parseAggregate,c=e.memberLookup;e.contextOrFrameLookup=function(e,t,n){var r=a.apply(this,arguments);if(void 0===r)switch(n){case"True":return!0;case"False":return!1;case"None":return null}return r};var l=o.Node.extend("Slice",{fields:["start","stop","step"],init:function(e,t,n,r,i){n=n||new o.Literal(e,t,null),r=r||new o.Literal(e,t,null),i=i||new o.Literal(e,t,1),this.parent(e,t,n,r,i)}});function f(e){return{index:e.index,lineno:e.lineno,colno:e.colno}}n.prototype.assertType=function(e){if(!(e instanceof l))return s.apply(this,arguments)},n.prototype.compileSlice=function(e,t){this.emit("("),this._compileExpression(e.start,t),this.emit("),("),this._compileExpression(e.stop,t),this.emit("),("),this._compileExpression(e.step,t),this.emit(")")},r.prototype.parseAggregate=function(){var e=this,n=f(this.tokens);n.colno--,n.index--;try{return u.apply(this)}catch(u){var r=f(this.tokens),a=function(){return t.extend(e.tokens,r),u};t.extend(this.tokens,n),this.peeked=!1;var s=this.peekToken();if(s.type!==i.TOKEN_LEFT_BRACKET)throw a();this.nextToken();for(var c=new l(s.lineno,s.colno),d=!1,p=0;p<=c.fields.length&&!this.skip(i.TOKEN_RIGHT_BRACKET);p++){if(p===c.fields.length){if(!d)break;this.fail("parseSlice: too many slice components",s.lineno,s.colno)}this.skip(i.TOKEN_COLON)?d=!0:(c[c.fields[p]]=this.parseExpression(),d=this.skip(i.TOKEN_COLON)||d)}if(!d)throw a();return new o.Array(s.lineno,s.colno,[c])}};var d={pop:function(e){if(void 0===e)return this.pop();if(e>=this.length||e<0)throw new Error("KeyError");return this.splice(e,1)},append:function(e){return this.push(e)},remove:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return this.splice(t,1);throw new Error("ValueError")},count:function(e){for(var t=0,n=0;n<this.length;n++)this[n]===e&&t++;return t},index:function(e){var t;if(-1===(t=this.indexOf(e)))throw new Error("ValueError");return t},find:function(e){return this.indexOf(e)},insert:function(e,t){return this.splice(e,0,t)}},p={items:function(){var e=[];for(var t in this)e.push([t,this[t]]);return e},values:function(){var e=[];for(var t in this)e.push(this[t]);return e},keys:function(){var e=[];for(var t in this)e.push(t);return e},get:function(e,t){var n=this[e];return void 0===n&&(n=t),n},has_key:function(e){return this.hasOwnProperty(e)},pop:function(e,t){var n=this[e];if(void 0===n&&void 0!==t)n=t;else{if(void 0===n)throw new Error("KeyError");delete this[e]}return n},popitem:function(){for(var e in this){var t=this[e];return delete this[e],[e,t]}throw new Error("KeyError")},setdefault:function(e,t){return e in this?this[e]:(void 0===t&&(t=null),this[e]=t)},update:function(e){for(var t in e)this[t]=e[t];return null}};return p.iteritems=p.items,p.itervalues=p.values,p.iterkeys=p.keys,e.memberLookup=function(n,r,o){return 4===arguments.length?function(t,n,r,o){t=t||[],null===n&&(n=o<0?t.length-1:0),null===r?r=o<0?-1:t.length:r<0&&(r+=t.length),n<0&&(n+=t.length);for(var i=[],a=n;!(a<0||a>t.length||o>0&&a>=r||o<0&&a<=r);a+=o)i.push(e.memberLookup(t,a));return i}.apply(this,arguments):(n=n||{},t.isArray(n)&&d.hasOwnProperty(r)?function(){return d[r].apply(n,arguments)}:t.isObject(n)&&p.hasOwnProperty(r)?function(){return p[r].apply(n,arguments)}:c.apply(this,arguments))},function(){e.contextOrFrameLookup=a,n.prototype.assertType=s,r.prototype.parseAggregate=u,e.memberLookup=c}}}])})}).call(this,n(60).setImmediate,n(60).clearImmediate)},13:function(e,t){e.exports=function(e,t,n,r){var o=n.root;n.root=function(e,t,n,i,a,s){var u=e.getTemplate;e.getTemplate=function(e,t,o,i,a){"function"==typeof t&&(a=t=!1);var s=function(e){try{return r[e]}catch(t){if(n.get("_require"))return n.get("_require")(e);console.warn('Could not load template "%s"',e)}},u=s(e);n.set("_require",s),t&&u.compile(),a(null,u)},o(e,t,n,i,a,function(t,n){e.getTemplate=u,s(t,n)})};var i={obj:n,type:"code"};return new e.Template(i,t)}},130:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={}),a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["app/static/components/misc/modal-dialog.html"]={root:function(e,t,n,r,o){var i="";try{i+='<div\n    role="dialog"\n    aria-modal="true"\n    ',r.contextOrFrameLookup(t,n,"label")&&(i+='aria-label="',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"label"),e.opts.autoescape),i+='"'),i+='\n    class="modal__overlay js-modal__overlay\n     modal\n     ',r.contextOrFrameLookup(t,n,"modifier")&&(i+="modal__overlay--",i+=r.suppressValue(r.contextOrFrameLookup(t,n,"modifier"),e.opts.autoescape),i+=" js-modal__overlay--",i+=r.suppressValue(r.contextOrFrameLookup(t,n,"modifier"),e.opts.autoescape)),i+='">\n  <div class="modal__content js-modal__content xs-col-12 ',r.contextOrFrameLookup(t,n,"modifier")&&(i+="modal--",i+=r.suppressValue(r.contextOrFrameLookup(t,n,"modifier"),e.opts.autoescape),i+=" js-modal--",i+=r.suppressValue(r.contextOrFrameLookup(t,n,"modifier"),e.opts.autoescape)),i+='">\n    ',i+='\n    <button class="modal__close js-modal__button-close" type="button">\n      <svg\n        class="modal__button-close__svg modal__close-icon"\n        role="img" aria-labelledby="modal__close-icon-title"\n        viewbox="0 0 512 512"\n      >\n        <title id="modal__close-icon-title">Close</title>\n        <use xlink:href="#close"></use>\n      </svg>\n    </button>\n\n    ',r.contextOrFrameLookup(t,n,"header")&&(i+='\n    <div class="js-modal__header">\n      <h2 class="modal__header__text js-modal__header__text bold xs-mb2">',i+=r.suppressValue(e.getFilter("safe").call(t,r.contextOrFrameLookup(t,n,"header")),e.opts.autoescape),i+="</h2>\n    </div>\n    "),i+="\n\n    ",i+="\n    ",i+=r.suppressValue(e.getFilter("safe").call(t,r.contextOrFrameLookup(t,n,"content")),e.opts.autoescape),o(null,i+="\n  </div>\n</div>\n")}catch(e){o(r.handleError(e,null,null))}}},e.exports=a(o,r,o.nunjucksPrecompiled["app/static/components/misc/modal-dialog.html"],i)},131:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={});i["../subbuzz/_image.html"]=n(262),i["../action-bar/share-button.html"]=n(263);var a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["app/static/components/misc/photo-viewer.html"]={root:function(e,t,n,r,o){var i="";try{i+='\n\n<div class="photo-viewer js-photo-viewer" data-module="photo-viewer">\n  <script type="text/x-config">\n    {\n      ',r.contextOrFrameLookup(t,n,"id")&&(i+='"id": ',i+=r.suppressValue(e.getFilter("safe").call(t,r.contextOrFrameLookup(t,n,"id")),e.opts.autoescape),i+=","),i+="\n      ",r.contextOrFrameLookup(t,n,"chosen")&&(i+='"startWith": ',i+=r.suppressValue(e.getFilter("safe").call(t,r.contextOrFrameLookup(t,n,"chosen")),e.opts.autoescape),i+=","),i+='\n      "enableKeyboard": true,\n      "enableSwipe": true,\n      "enableSlide": true\n    }\n  <\/script>\n\n  <div class="photo-viewer__content js-photo-viewer__content">\n    ',n=n.push();var a=r.contextOrFrameLookup(t,n,"collection");if(a)for(var s=a.length,u=0;u<a.length;u++){var c,l=a[u];n.set("image",l),n.set("loop.index",u+1),n.set("loop.index0",u),n.set("loop.revindex",s-u),n.set("loop.revindex0",s-u-1),n.set("loop.first",0===u),n.set("loop.last",u===s-1),n.set("loop.length",s),i+='\n      <figure class="photo-viewer__item  js-photo-viewer__item">\n        <div class="photo-viewer__media js-photo-viewer__media">\n          ',c=r.memberLookup(l,"images"),n.set("images",c,!0),n.topLevel&&t.setVariable("images",c),n.topLevel&&t.addExport("images",c),i+='\n          <div class="photo-viewer__media-centered js-progressive-image-container"',r.memberLookup(r.contextOrFrameLookup(t,n,"images"),"gif_preview")&&(i+=' data-type="image-gif"'),i+=">\n          ",(h=[]).push(function(t){e.getTemplate("../subbuzz/_image.html",!1,"app/static/components/misc/photo-viewer.html",null,function(e,n){e?o(e):t(null,n)})}),h.push(function(e,r){e.render(t.getVariables(),n,function(e,t){e?o(e):r(null,t)})}),h.push(function(e,t){i+=e,t(null)}),e.waterfall(h,function(){i+='\n          </div>\n        </div>\n        <figcaption class="photo-viewer__caption xs-absolute xs-p2 text-white">\n          <div class="photo-viewer__meta xs-absolute xs-text-4 xs-px2 xs-pb2">\n            ',r.contextOrFrameLookup(t,n,"description")&&(i+='\n            <div class="photo-viewer__description subbuzz__description js-subbuzz__title-text text-white xs-mb1">\n                ',i+=r.suppressValue(e.getFilter("safe").call(t,r.contextOrFrameLookup(t,n,"description")),e.opts.autoescape),i+="\n            </div>\n            "),i+="\n\n            ",r.contextOrFrameLookup(t,n,"attribution")&&(i+='\n            <div class="photo-viewer__attribution subbuzz__attribution js-subbuzz__attribution text-gray-lightest xs-mb1 xs-text-6">\n              ',i+=r.suppressValue(e.getFilter("safe").call(t,r.contextOrFrameLookup(t,n,"attribution")),e.opts.autoescape),i+="\n            </div>\n            "),i+="\n          </div>\n          ",r.contextOrFrameLookup(t,n,"has_external_link")&&(i+='\n          <div class="photo-viewer__external-link xs-absolute xs-mx2 xs-my2 xs-text-5">\n            <a class="button button--white button--secondary photo-viewer__external-link-button"\n                  target="_blank"\n                  href="',i+=r.suppressValue(e.getFilter("safe").call(t,r.contextOrFrameLookup(t,n,"external_link_url")),e.opts.autoescape),i+='"\n                  data-bfa="@l:Subbuzz;@a:click:photoset-external-link;@d:',i+=r.suppressValue(e.getFilter("safe").call(t,r.contextOrFrameLookup(t,n,"external_link_url")),e.opts.autoescape),i+=';">\n                  ',i+=r.suppressValue(e.getFilter("safe").call(t,r.contextOrFrameLookup(t,n,"external_link_text")),e.opts.autoescape),i+="\n            </a>\n          </div>\n          "),i+="\n        </figcaption>\n      </figure>\n    "})}n=n.pop(),i+='\n  </div>\n\n  <div class="xs-hide sm-block xs-absolute xs-col-12 photo-viewer__controls">\n    <button\n        class="js-photo-viewer-previous photo-viewer__toggle photo-viewer__toggle--left xs-p2 xs-float-left"\n        type="button"\n        data-type="photo-viewer-previous">\n      <svg class="photo-viewer__arrow" role="img" aria-labelledby="photo-viewer__previous">\n        <title id="photo-viewer__previous">Previous Photo</title>\n        <use xlink:href="#arrow-left"></use>\n      </svg>\n    </button>\n    <button\n      class="js-photo-viewer-next photo-viewer__toggle photo-viewer__toggle--right xs-p2 xs-float-right"\n      type="button"\n      data-type="photo-viewer-next">\n      <svg class="photo-viewer__arrow" role="img" aria-labelledby="photo-viewer__next">\n        <title id="photo-viewer__next">Next Photo</title>\n        <use xlink:href="#arrow-right"></use>\n      </svg>\n    </button>\n  </div>\n\n  <div class="photo-viewer__footer xs-absolute">\n    <div class="photo-viewer__progress xs-text-4 text-white xs-mx1"><span class="js-photo-viewer__progress"></span><span class="photo-viewer__helper">&nbsp;images</span></div>\n      <ul class="photo-viewer__share js-photo-viewer__share" data-bfa="@l:Subbuzz-Share-Photoset;" aria-label="Share">\n        ',n=n.push();var f=r.contextOrFrameLookup(t,n,"platforms");if(f)for(var d=f.length,p=0;p<f.length;p++){var h,m=f[p];n.set("platform",m),n.set("loop.index",p+1),n.set("loop.index0",p),n.set("loop.revindex",d-p),n.set("loop.revindex0",d-p-1),n.set("loop.first",0===p),n.set("loop.last",p===d-1),n.set("loop.length",d),i+="\n        <li>\n          ",(h=[]).push(function(t){e.getTemplate("../action-bar/share-button.html",!1,"app/static/components/misc/photo-viewer.html",null,function(e,n){e?o(e):t(null,n)})}),h.push(function(e,r){e.render(t.getVariables(),n,function(e,t){e?o(e):r(null,t)})}),h.push(function(e,t){i+=e,t(null)}),e.waterfall(h,function(){i+="\n        </li>\n        "})}n=n.pop(),o(null,i+="\n      </ul>\n  </div>\n</div>\n")}catch(e){o(r.handleError(e,null,null))}}},e.exports=a(o,r,o.nunjucksPrecompiled["app/static/components/misc/photo-viewer.html"],i)},132:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={});i["../../svg/icons/play.html"]=n(264),i["../../svg/icons/pause.html"]=n(265),i["../../svg/icons/mute.html"]=n(266),i["../../svg/icons/unmute.html"]=n(267),i["../../svg/icons/fullscreen.html"]=n(268),i["../../svg/icons/exitfullscreen.html"]=n(269);var a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["node_modules/@buzzfeed/buzzblocks/components/video-player/video-player-skin/video-player-skin.html"]={root:function(e,t,n,r,o){var i="";try{i+='<div data-name="customUI" hidden>\n    <button aria-label="Play" class="video-player-skin__button video-player-skin__play-big-button circle" data-name="playButton">\n        <span class="video-player-skin__icon video-player-skin__play-icon">\n            ';var a=[];a.push(function(t){e.getTemplate("../../svg/icons/play.html",!1,"node_modules/@buzzfeed/buzzblocks/components/video-player/video-player-skin/video-player-skin.html",null,function(e,n){e?o(e):t(null,n)})}),a.push(function(e,r){e.render(t.getVariables(),n,function(e,t){e?o(e):r(null,t)})}),a.push(function(e,t){i+=e,t(null)}),e.waterfall(a,function(){i+='\n        </span>\n    </button>\n    <div class="video-player-skin__loader loader"></div>\n    <div class="video-player-skin__controls xs-px2 xs-flex">\n        <div class="xs-pr2 lg-pr0 xs-flex xs-flex-shrink-0">\n            <button aria-label="Play" class="js-play-button video-player-skin__button video-player-skin__play-button xs-mr1" data-name="playButton">\n                <span class="video-player-skin__icon video-player-skin__play-icon">\n                    ';var r=[];r.push(function(t){e.getTemplate("../../svg/icons/play.html",!1,"node_modules/@buzzfeed/buzzblocks/components/video-player/video-player-skin/video-player-skin.html",null,function(e,n){e?o(e):t(null,n)})}),r.push(function(e,r){e.render(t.getVariables(),n,function(e,t){e?o(e):r(null,t)})}),r.push(function(e,t){i+=e,t(null)}),e.waterfall(r,function(){i+='\n                </span>\n                <span class="video-player-skin__icon video-player-skin__pause-icon">\n                    ';var r=[];r.push(function(t){e.getTemplate("../../svg/icons/pause.html",!1,"node_modules/@buzzfeed/buzzblocks/components/video-player/video-player-skin/video-player-skin.html",null,function(e,n){e?o(e):t(null,n)})}),r.push(function(e,r){e.render(t.getVariables(),n,function(e,t){e?o(e):r(null,t)})}),r.push(function(e,t){i+=e,t(null)}),e.waterfall(r,function(){i+='\n                </span>\n            </button>\n            <div class="video-player-skin__current-time-text text-white xs-ml2 md-ml4" data-name="currentTime">0:00</div>\n        </div>\n        <div class="lg-mx2 xs-flex-grow-1">\n            <div class="video-player-skin__progress rounded">\n                <div class="video-player-skin__progress-play rounded" data-name="progressPlayed"></div>\n                <div class="video-player-skin__progress-handle circle" data-name="progressHandle"></div>\n                <div class="video-player-skin__progress-overlay" data-name="progressBar"></div>\n            </div>\n        </div>\n        <div class="xs-pl2 lg-pl0 xs-flex xs-flex-shrink-0">\n            <div class="video-player-skin__duration-text text-white xs-hide md-block xs-mr2 md-mr4" data-name="duration">-0:00</div>\n            <button aria-label="Mute" class="video-player-skin__button video-player-skin__mute-button xs-ml2 md-ml3" data-name="muteButton">\n                <span class="video-player-skin__icon video-player-skin__mute-icon">\n                    ';var r=[];r.push(function(t){e.getTemplate("../../svg/icons/mute.html",!1,"node_modules/@buzzfeed/buzzblocks/components/video-player/video-player-skin/video-player-skin.html",null,function(e,n){e?o(e):t(null,n)})}),r.push(function(e,r){e.render(t.getVariables(),n,function(e,t){e?o(e):r(null,t)})}),r.push(function(e,t){i+=e,t(null)}),e.waterfall(r,function(){i+='\n                </span>\n                <span class="video-player-skin__icon video-player-skin__unmute-icon">\n                    ';var r=[];r.push(function(t){e.getTemplate("../../svg/icons/unmute.html",!1,"node_modules/@buzzfeed/buzzblocks/components/video-player/video-player-skin/video-player-skin.html",null,function(e,n){e?o(e):t(null,n)})}),r.push(function(e,r){e.render(t.getVariables(),n,function(e,t){e?o(e):r(null,t)})}),r.push(function(e,t){i+=e,t(null)}),e.waterfall(r,function(){i+='\n                 </span>\n            </button>\n            <button aria-label="Fullscreen" class="video-player-skin__button video-player-skin__fullscreen-button xs-ml2 md-ml3" data-name="fullscreenButton">\n                <span class="video-player-skin__icon video-player-skin__fullscreen-icon">\n                    ';var r=[];r.push(function(t){e.getTemplate("../../svg/icons/fullscreen.html",!1,"node_modules/@buzzfeed/buzzblocks/components/video-player/video-player-skin/video-player-skin.html",null,function(e,n){e?o(e):t(null,n)})}),r.push(function(e,r){e.render(t.getVariables(),n,function(e,t){e?o(e):r(null,t)})}),r.push(function(e,t){i+=e,t(null)}),e.waterfall(r,function(){i+='\n                </span>\n                <span class="video-player-skin__icon video-player-skin__exitfullscreen-icon">\n                    ';var r=[];r.push(function(t){e.getTemplate("../../svg/icons/exitfullscreen.html",!1,"node_modules/@buzzfeed/buzzblocks/components/video-player/video-player-skin/video-player-skin.html",null,function(e,n){e?o(e):t(null,n)})}),r.push(function(e,r){e.render(t.getVariables(),n,function(e,t){e?o(e):r(null,t)})}),r.push(function(e,t){i+=e,t(null)}),e.waterfall(r,function(){o(null,i+="\n                </span>\n            </button>\n        </div>\n    </div>\n</div>\n")})})})})})})})}catch(e){o(r.handleError(e,null,null))}}},e.exports=a(o,r,o.nunjucksPrecompiled["node_modules/@buzzfeed/buzzblocks/components/video-player/video-player-skin/video-player-skin.html"],i)},133:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={});i["../../svg/icons/heart-broken.html"]=n(270);var a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["node_modules/@buzzfeed/buzzblocks/components/video-player/video-player-error/video-player-error.html"]={root:function(e,t,n,r,o){var i="";try{i+='<div class="video-player__error\n  xs-flex-align-center xs-flex-justify-center xs-flex-column \n  fill-gray-darker text-white xs-absolute xs-full-height xs-col-12 xs-z1">\n  ';var a=[];a.push(function(t){e.getTemplate("../../svg/icons/heart-broken.html",!1,"node_modules/@buzzfeed/buzzblocks/components/video-player/video-player-error/video-player-error.html",null,function(e,n){e?o(e):t(null,n)})}),a.push(function(e,r){e.render(t.getVariables(),n,function(e,t){e?o(e):r(null,t)})}),a.push(function(e,t){i+=e,t(null)}),e.waterfall(a,function(){o(null,i+="\n  <p>Oops! Something went wrong loading this video<br>Please refresh and try again.</p>\n</div>\n")})}catch(e){o(r.handleError(e,null,null))}}},e.exports=a(o,r,o.nunjucksPrecompiled["node_modules/@buzzfeed/buzzblocks/components/video-player/video-player-error/video-player-error.html"],i)},14:function(e,t,n){"use strict";n(28);var r="track/website/instrumentation";n.d(t,"a",function(){return i});var o=["samplingRate"];function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("function"==typeof window.bfa){o.some(function(e){return n.hasOwnProperty(e)})&&(i=n,n={});var a=i,s=a.samplingRate,u=a.platform,c={data:{target:e,value:t,tags:n}};u&&(c.data.platform=i.platform),s&&(s>1?"dev"===window.BZFD.Config.env&&console.error("Your sampling rate is above 100%."):Object.assign(c,{opts:{samplingRate:s}})),window.bfa(r,c)}else void 0!==window.raven&&window.raven.captureException(new Error("Instrumentation tracking issue: BFA is not available"))}},15:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(37),o=n(2);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["a"]),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(t,[{key:"init",value:function(){Array.from(this.element.querySelectorAll(".js-subbuzz__attribution a")).filter(function(e){return!(e.getAttribute("href")||"").match(/^https?:\/\/.+?\.buzzfeed.com/)}).forEach(function(e){return e.setAttribute("target","_blank")})}}]),t}(),f="sra-attribution-modifier";Object(o.a)(f,function(e){return new l(e)})},16:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2),o=n(1),i=n(24),a="sra-lazy-image";Object(r.a)(a,function(e){var t=e.getElement(),n={},r={};return n[o.c.getUniqueEventName("viewport-active",t)]=function(){i.a.loadAll(t)},r.messages=o.c.getKeys(n),r.onmessage=o.c.getMessageHandler(n),r.destroy=function(){t=null},r})},17:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(2),o=n(0),i=n(14),a=n(4),s=n(1),u=n(43),c=n(21),l=n(24),f="sra-image-gif";Object(r.a)(f,function(e){var t=[],n="load",r=e.getElement(),f=".js-progressive-image-container";function d(e){return a.a.isAny(["xs","sm"])&&e.getAttribute("data-mobile-gif-src")||e.getAttribute("data-gif-src")}function p(e){return o.a.closest(e,f)}var h=r.querySelectorAll(".js-gif-element");function m(e){var t=p(e.target);t&&(t.classList.remove("gif--loading"),function(e){if(e.play)return!1;var t=d(e);return t&&t.split("?")[0]!==e.src.split("?")[0]}(e.target)||t.classList.add("gif--playing"))}function b(r){if(r&&r.src){var i=p(r);n=r.play?"canplay playing":"load",o.a.on(r,n,m),t.indexOf(r)<=-1&&t.push(r),i&&i.classList.add("gif--loading"),r.play?r.play():r.src=c.a.generate(d(r),{width:Object(l.b)(r)}),e.broadcast("gif-played",{element:r})}}function v(e){p(e).classList.remove("gif--loading","gif--playing"),o.a.off(e,n,m),t.indexOf(e)>-1&&t.splice(t.indexOf(e),1),e.pause?e.pause():e.src=c.a.generate(a.a.isAny(["xs","sm"])&&e.getAttribute("data-mobile-src")||e.getAttribute("data-src"),{width:Object(l.b)(e)})}function g(e){var n=e.querySelector(".js-gif-element");n&&(t.indexOf(n)>-1?v(n):b(n))}Array.from(h).forEach(function(e){a.a.isAny(["md","lg"])&&!t.includes(e)&&(t.push(e),p(e).classList.add("gif--playing"))});var y={"image-gif":function(e,t){e.preventDefault(),g(t)}},w={"gif-played":function(e){var n=e.element;t.length&&a.a.isAny(["xs","sm"])&&t.forEach(function(e){e!==n&&v(e)})}},k={"image-gif":function(e){2===e.button&&Object(i.a)("gif","right_click")}};w[s.c.getUniqueEventName(u.a,r)]=function(e){g(e.element)},w["quiz-result-shown"]=function(e){a.a.isAny(["md","lg"])&&Array.from(e.querySelectorAll(".js-gif-element")).forEach(b)};var _={};return _.messages=s.c.getKeys(w),_.onclick=s.c.getEventHandler(y),_.onmousedown=s.c.getEventHandler(k),_.onmessage=s.c.getMessageHandler(w),_})},18:function(e,t,n){"use strict";var r=n(77),o=n.n(r);t.a={renderString:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.a.compile(e,n).render(t)}}},2:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"g",function(){return f}),n.d(t,"d",function(){return d}),n.d(t,"i",function(){return p});var r=n(44),o=function(e){return e(window.BZFD.App)};function i(e,t){return o(function(n){return n.addModule(e,t)})}function a(e,t){return o(function(n){return n.addBehavior(e,t)})}function s(e,t){return o(function(n){return n.broadcast(e,t)})}function u(e){return o(function(t){return t.start(e)})}function c(e){return o(function(t){return t.stop(e)})}function l(e,t){return o(function(n){return n.on(e,t)})}function f(e){return o(function(t){return t.startAll(e)})}function d(e){return o(function(t){return t.getGlobalConfig&&t.getGlobalConfig(e)})}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(function(n){var o=void 0!==n.getGlobalConfig?n.getGlobalConfig("translate"):void 0;return o?o(e,t):r.a.getTranslation(e)})}},20:function(e,t,n){"use strict";function r(e,t){var n=e.match(t);return n&&n.length?n[0]:null}t.a={getBuzzfeedSubdomainOrWildcard:function(e){var t=r(e,"(dev|stage|www).(buzzfeed|buzzfeednews).(com|io)$");return t||r(e,".?[a-z]+.[a-z]+$")},get:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="".concat(e,"="),r=document.cookie.split(";"),o=0;o<r.length;o++){for(var i=r[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(n))return i.substring(n.length,i.length)}return t},set:function(e){var t=e.name,n=e.value,r=e.days,o=e.domain,i="";if(r){var a=new Date;a.setTime(a.getTime()+24*r*60*60*1e3),i="; expires=".concat(a.toGMTString())}var s="";return void 0!==o&&(s="; domain=".concat(o)),document.cookie="".concat(t,"=").concat(n).concat(i).concat(s,"; path=/")},remove:function(e,t){return this.set({name:e,value:"",days:-1,domain:t})}}},21:function(e,t,n){"use strict";var r=n(1),o={span:"1"},i={"output-format":"auto","output-quality":"auto"};t.a={generate:function(e,t){t=r.c.extend({},o,t);var n=r.c.extend({},i,{"output-format":t["output-format"]});return void 0!==e?(t.width&&(e=r.c.removeParams(e,["resize"]),e=r.c.addParams(e,[["downsize",t.width+":*"]])),e+(-1===e.indexOf("?")?"?":"&")+r.c.toQueryString(n)):""}}},22:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r={};r.isMobileApp=function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.CDN_URL?window.CDN_URL:window.location.href).search("[?&]?s=mobile_app([&#]|$)")};r.isNewsApp=function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.CDN_URL?window.CDN_URL:window.location.href).search("[?&]?app=news([&#]|$)")};r.isNews2App=function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.CDN_URL?window.CDN_URL:window.location.href).search("[?&]?app=buzznews([&#]|$)")};r.isIOS=function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.CDN_URL?window.CDN_URL:window.location.href).search("[?&]?os=ios([&#]|$)")};r.isAndroid=function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.CDN_URL?window.CDN_URL:window.location.href).search("[?&]?os=android([&#]|$)")};var o=function(e,t){var n=function(e){"scroll"===e.type&&t.triggerAll(e.data.offset)};if(e.BF){var r=e.BF.notifyWebview;e.BF.notifyWebview=function(e){r(e),n(e)}}else e.BF={notifyWebview:n}};t.b=r},23:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return(e+="").indexOf("#")>-1?e.substr(0,e.indexOf("#")):e}function i(e){if(""===e||void 0===e||null===e)return{};e.indexOf("?")>-1&&(e=e.substr(e.indexOf("?")+1,e.length));var t={};return(e=o(e)).split("&").forEach(function(e){var n=r(e.split("="),2),o=n[0],i=n[1],a=void 0===i?null:i;t[o]=a}),t}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"?",n=[];return Object.keys(e).forEach(function(t){n.push("".concat(t,"=").concat(encodeURIComponent(e[t])))}),(t||"")+n.join("&")}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a})},24:function(e,t,n){"use strict";n.d(t,"b",function(){return m});var r=n(8),o=n(0),i=n(21),a=n(14),s=n(4),u=n(1);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={src:"data-src",mobileSrc:"data-mobile-src",crop:"data-crop",mobileCrop:"data-mobile-crop",fill:"data-fill",span:"data-span",gifSrc:"data-gif-src",mobileGifSrc:"data-mobile-gif-src",mp4Src:"data-desktop-feature-mp4-src",className:"class",forceDesktopWidth:"data-force-desktop-width",hasOverlay:"data-has-overlay",loaded:"data-loaded",pin:"data-pin-media"},f={desktopContentWidth:800},d=r.a.isVideoSupported();function p(){o.a.addClass(this,"img--loaded"),o.a.setAttr(this,c({},l.loaded,1))}function h(e){return e?100*Math.ceil(e/100):e}function m(e){if(s.a.isAny(["xs","sm"]))return h(s.a.getWindowWidth());var t={width:f.desktopContentWidth},n=(e&&e.getBoundingClientRect?e.getBoundingClientRect():t).width;return n<100&&(n=e.parentNode?e.parentNode.getBoundingClientRect().width:t.width),o.a.getAttr(e,l.forceDesktopWidth)||h(n)}function b(e,t){return o.a.getAttr(e,l.loaded)?Promise.resolve():new Promise(function(n,r){var a=o.a.getAttr(e,l.hasOverlay),u=o.a.getAttr(e,l.src);s.a.isAny(["xs","sm"])?u=o.a.getAttr(e,l.mobileSrc)||u:o.a.getAttr(e,l.gifSrc)&&s.a.isAny(["md","lg"])&&!a&&(u=o.a.getAttr(e,l.gifSrc)||u),e.onload=function(){p.call(e),n()},e.onabort=e.onerror=r,e.src=i.a.generate(u,t),function(e){var t;o.a.hasClass(e,"js-gif-element")&&(t=s.a.isAny(["xs","sm"])&&o.a.getAttr(e,l.mobileGifSrc)||o.a.getAttr(e,l.gifSrc)),o.a.setAttr(e,c({},l.pin,t||e.src))}(e)})}function v(e){var t=m(e),n=o.a.getAttr(e,l.mobileCrop),r=o.a.closest(e,".js-progressive-image-container");r&&s.a.isAny(["md","lg"])&&n&&(n=o.a.getAttr(e,l.crop)||n,o.a.setStyle(r,{"padding-top":n+"%"}));var u={crop:n,span:o.a.getAttr(e,l.span),fill:o.a.getAttr(e,l.fill),width:t};return o.a.hasAttr(e,l.mp4Src)&&s.a.isAny(["md","lg"])||o.a.hasAttr(e,l.gifSrc)&&d&&!u.fill?function(e,t){return o.a.getAttr(e,l.loaded)?Promise.resolve():new Promise(function(n,r){var a,u,f,d,p;t["output-format"]="mp4",t["output-quality"]="auto",d={loop:"loop"},s.a.isAny(["xs","sm"])?(u=o.a.getAttr(e,l.mobileSrc)||o.a.getAttr(e,l.src),f=o.a.getAttr(e,l.mobileGifSrc)||o.a.getAttr(e,l.gifSrc),f=i.a.generate(f,t),d.preload="none"):(u=o.a.getAttr(e,l.src)||o.a.getAttr(e,l.mobileSrc),f=o.a.getAttr(e,l.mp4Src)||o.a.getAttr(e,l.gifSrc),d.autoplay="",d.muted=""),d.poster=i.a.generate(u),(p=o.a.createElement("video",d)).onloadstart=n,p.onabort=p.onerror=r,o.a.setAttr(p,(c(a={class:o.a.getAttr(e,l.className)},l.src,o.a.getAttr(e,l.src)),c(a,l.mobileSrc,o.a.getAttr(e,l.mobileSrc)),c(a,l.gifSrc,o.a.getAttr(e,l.gifSrc)),c(a,l.mobileGifSrc,o.a.getAttr(e,l.mobileGifSrc)),c(a,l.mp4Src,o.a.getAttr(e,l.mp4Src)),c(a,l.loaded,!0),a)),e.parentNode.insertBefore(p,e),e.parentNode.removeChild(e),p.src=f})}(e,u):b(e,u).catch(function(){return Object(a.a)("image","error")})}t.a={renderAll:function(e){o.a.find(e,".js-progressive-image").forEach(function(e){return function(e,t){e.onload=p,e.src=i.a.generate(o.a.getAttr(e,l.src),t)}(e,{crop:o.a.getAttr(e,l.crop),span:o.a.getAttr(e,l.span)})})},load:v,loadAll:function(e){var t=o.a.find(e,".js-progressive-image"),n=[];return u.c.each(t,function(e,t){n.push(v(t))}),Promise.all(n)},attr:function(e){return l[e]},reset:function(){d=r.a.isVideoSupported()}}},25:function(e,t,n){"use strict";var r=n(46),o=n.n(r);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=0,s={},u=function(){function e(t){var n=this,r=t.throttleTimeout,i=t.parent,a=t.initialTrigger;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callbacks={},this.add=this.add.bind(this),this.remove=this.remove.bind(this),this.triggerEvents=["scroll","resize"],a&&this.triggerEvents.push("load"),this.target=i||window,this._triggerThrottled=o()(function(){return n.trigger()},r),this.triggerEvents.forEach(function(e){return n.target.addEventListener(e,n._triggerThrottled)})}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"add",value:function(e){return this.callbacks[++a]=e,a}},{key:"remove",value:function(e){delete this.callbacks[e]}},{key:"trigger",value:function(e){if(this.callbacks.hasOwnProperty(e))this.callbacks[e]();else for(var t in this.callbacks)this.callbacks.hasOwnProperty(t)&&this.callbacks[t]()}},{key:"destroy",value:function(){var e=this;this.triggerEvents.forEach(function(t){return e.target.removeEventListener(t,e._triggerThrottled)}),delete this.target,delete this.callbacks,delete this._triggerThrottled,delete this.add,delete this.remove}}]),e}();t.a={add:function(e){var t=e.throttleTimeout,n=void 0===t?350:t,r=e.parent,o=e.callback,i=e.initialTrigger,a=void 0===i||i,c=s[n];c||(c=new u({throttleTimeout:n,parent:r,initialTrigger:a}),s[n]=c);var l=c.add(o);return a&&c.trigger(l),l},remove:function(e){for(var t in s)s.hasOwnProperty(t)&&s[t].remove(e)}}},26:function(e,t,n){"use strict";var r=n(34),o=n(14),i=n(84),a=n.n(i);function s(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!==r&&""!==r&&void 0!==r&&t.push(n+"="+r)}return t.join("&")}function u(e){return new Promise(function(t,n){setTimeout(function(){return n({type:"timeout",msg:"".concat(e,"ms timeout exceeded")})},e)})}function c(e){var t=e.url;return function(e){return Object(o.a)("xhr",e.type||"error",{url:t,status:e.status||0}),Promise.reject(e)}}function l(e){return e.ok?Promise.resolve(e):Promise.reject({type:"error",status:e.status,statusText:e.statusText})}function f(e){return e.json()}function d(e){return e.text()}function p(e){if("dev"!==BZFD.Config.env)return e;return e+(e.indexOf("?")>-1?"&":"?")+"eca385331012a621bc93fcda0a953a97"}t.a={get:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.type,i=void 0===o?"json":o,h=n.data,m=void 0===h?{}:h,b=n.params,v=void 0===b?{}:b,g=n.skipAuth,y=n.timeout;if(!e)return Promise.reject("URL parameter is required");var w=Object.assign({credentials:"same-origin"},v),k=e,_=s(m);switch(_&&(k+=(k.indexOf("?")>-1?"&":"?")+_),g&&(k=p(k)),i){case"json":t=Object(r.a)(k,w).then(l).then(f);break;case"text":t=Object(r.a)(k,w).then(l).then(d);break;case"jsonp":t=function(e){return new Promise(function(t,n){a()(e,function(e,r){return e?n(e):t(r)})})}(k);break;default:t=Promise.reject("Unsupported type ".concat(i))}return(y?Promise.race([u(y),t]):t).catch(c({url:e}))},post:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.data,i=n.type,a=void 0===i?"json":i,h=n.params,m=void 0===h?{}:h,b=n.skipAuth,v=void 0!==b&&b,g=n.raw,y=void 0!==g&&g,w=n.timeout;if(!e)return Promise.reject("URL parameter is required");if(!o)return Promise.reject("Can not send POST request without data");v&&(e=p(e));var k=Object.assign({headers:{"Content-type":"application/x-www-form-urlencoded"},credentials:"same-origin"},m);switch(k.method="POST",k.body=y?o:s(o),a){case"json":t=Object(r.a)(e,k).then(l).then(f);break;case"text":t=Object(r.a)(e,k).then(l).then(d);break;default:t=Promise.reject("Unsupported type ".concat(a))}return(w?Promise.race([u(w),t]):t).catch(c({url:e}))}}},260:function(e,t,n){},262:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={});i["components/subbuzz/_gif-play-button.html"]=n(87);var a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["app/static/components/subbuzz/_image.html"]={root:function(e,t,n,r,o){var i="";try{if(i+="\n\n",i+="\n\n",r.memberLookup(r.contextOrFrameLookup(t,n,"images"),"gif_preview")){i+="\n  ";var a=[];a.push(function(t){e.getTemplate("components/subbuzz/_gif-play-button.html",!1,"app/static/components/subbuzz/_image.html",null,function(e,n){e?o(e):t(null,n)})}),a.push(function(e,r){e.render(t.getVariables(),n,function(e,t){e?o(e):r(null,t)})}),a.push(function(e,t){i+=e,t(null)}),e.waterfall(a,function(){i+="\n"})}i+='\n\n<img class="subbuzz__media-image\n  js-subbuzz__media js-progressive-image js-pinnable\n  ',r.memberLookup(r.contextOrFrameLookup(t,n,"images"),"gif_preview")&&(i+="js-gif-element"),i+='\n  xs-col-12 xs-block"\n  src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"\n  alt="',i+=r.suppressValue(e.getFilter("escape").call(t,e.getFilter("default").call(t,r.contextOrFrameLookup(t,n,"alt_text"),"",!0)),e.opts.autoescape),i+='"\n  data-src="',i+=r.suppressValue(e.getFilter("escape").call(t,r.memberLookup(r.contextOrFrameLookup(t,n,"images"),"image_src")),e.opts.autoescape),i+='"\n  data-mobile-src="',i+=r.suppressValue(e.getFilter("escape").call(t,r.memberLookup(r.contextOrFrameLookup(t,n,"images"),"mobile_image_src")),e.opts.autoescape),i+='"\n  data-crop="',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"aspect_ratio"),e.opts.autoescape),i+='"\n  data-mobile-crop="',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"aspect_ratio_mobile"),e.opts.autoescape),i+='"\n  data-span="',r.contextOrFrameLookup(t,n,"span")?i+=r.suppressValue(r.contextOrFrameLookup(t,n,"span"),e.opts.autoescape):i+="1",i+='"\n  data-bfa="@o:{ignore:[bfaBinder]};"\n  ',r.contextOrFrameLookup(t,n,"force_desktop_width")&&(i+='\n    data-force-desktop-width="',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"force_desktop_width"),e.opts.autoescape),i+='"\n  '),i+="\n  ",r.memberLookup(r.contextOrFrameLookup(t,n,"images"),"gif_preview")&&(i+='\n    data-mobile-gif-src="',i+=r.suppressValue(e.getFilter("escape").call(t,r.memberLookup(r.contextOrFrameLookup(t,n,"images"),"mobile_gif_src")),e.opts.autoescape),i+='"\n    data-gif-src="',i+=r.suppressValue(e.getFilter("escape").call(t,r.memberLookup(r.contextOrFrameLookup(t,n,"images"),"original_src")),e.opts.autoescape),i+='"\n  '),i+="\n  ",r.contextOrFrameLookup(t,n,"blurred_overlay")&&(i+='\n    data-has-overlay="1"\n  '),o(null,i+="\n>\n")}catch(e){o(r.handleError(e,null,null))}}},e.exports=a(o,r,o.nunjucksPrecompiled["app/static/components/subbuzz/_image.html"],i)},263:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={}),a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["app/static/components/action-bar/share-button.html"]={root:function(e,t,n,r,o){var i=null,a=null,s="";try{var u;s+="\n",u=e.getFilter("join").call(t,[r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"name"),r.contextOrFrameLookup(t,n,"position"),e.getFilter("random").call(t,(i=6,a=48,r.callWrap(r.contextOrFrameLookup(t,n,"range"),"range",t,[1e6,9999999])))],"-"),n.set("unique_id",u,!0),n.topLevel&&t.setVariable("unique_id",u),n.topLevel&&t.addExport("unique_id",u),s+='\n<a class="bfa-share-btn xs-text-center xs-relative xs-block sharing-btn sharing-btn--c-',s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"name"),e.opts.autoescape),s+=" analyt-share-",s+=r.suppressValue(r.contextOrFrameLookup(t,n,"position"),e.opts.autoescape),s+="-",s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"name"),e.opts.autoescape),s+=' js-sharing-btn"\n   ',r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"target")&&(s+='target="',s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"target"),e.opts.autoescape),s+='"'),s+='\n   href="',s+=r.suppressValue(e.getFilter("safe").call(t,r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"share_url")),e.opts.autoescape),s+='"\n   title="',s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"title"),e.opts.autoescape),s+='"\n   data-bfa-network="',s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"name"),e.opts.autoescape),s+='"\n   ',r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"bfa")&&(s+='\n   data-bfa="@a:Share; @d:',s+=r.suppressValue(e.getFilter("safe").call(t,r.memberLookup(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"bfa"),"d")),e.opts.autoescape),s+=";",r.memberLookup(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"bfa"),"e")&&(s+=" @e:",s+=r.suppressValue(e.getFilter("safe").call(t,r.memberLookup(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"bfa"),"e")),e.opts.autoescape)),s+='"\n   '),s+='\n   data-type="',r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"type")?s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"type"),e.opts.autoescape):s+="sharing-button",s+='"\n   ',s+=r.suppressValue(e.getFilter("safe").call(t,r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"anchor_attributes")),e.opts.autoescape),s+='>\n\n  <span class="icon icon--primary">\n    <svg role="img" aria-labelledby="',s+=r.suppressValue(r.contextOrFrameLookup(t,n,"unique_id"),e.opts.autoescape),s+='">\n      <title id="',s+=r.suppressValue(r.contextOrFrameLookup(t,n,"unique_id"),e.opts.autoescape),s+='">',s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"title"),e.opts.autoescape),s+="</title>\n      ",s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"title"),e.opts.autoescape),s+=" ",s+='\n      <use xlink:href="#',s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"name"),e.opts.autoescape),s+='"></use>\n    </svg>\n  </span>\n\n  ',s+="\n  ",r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"icon_secondary")&&(s+='\n    <span class="icon icon--secondary">\n      <svg class="xs-mx-auto">\n        <title>',s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"title"),e.opts.autoescape),s+="</title>\n        ",s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"title"),e.opts.autoescape),s+=" ",s+='\n        <use xlink:href="#',s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"icon_secondary"),e.opts.autoescape),s+='"></use>\n      </svg>\n    </span>\n  '),s+="\n\n  ",r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"text")&&(s+='\n      <span class="sharing-btn__text">',s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"platform"),"text"),e.opts.autoescape),s+="</span>\n  "),o(null,s+="\n</a>\n")}catch(e){o(r.handleError(e,i,a))}}},e.exports=a(o,r,o.nunjucksPrecompiled["app/static/components/action-bar/share-button.html"],i)},264:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={}),a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["node_modules/@buzzfeed/buzzblocks/components/svg/icons/play.html"]={root:function(e,t,n,r,o){var i="";try{i+='\n<svg viewBox="0 0 512 512" role="img" aria-labelledby="',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"play_svg_label"),e.opts.autoescape),i+='">\n    <title id="',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"play_svg_label"),e.opts.autoescape),o(null,i+='">Play</title>\n    <path d="M60,6 L60,505.86 L452.747143,255.93 L60,6 L60,6 Z"></path>\n</svg>')}catch(e){o(r.handleError(e,null,null))}}},e.exports=a(o,r,o.nunjucksPrecompiled["node_modules/@buzzfeed/buzzblocks/components/svg/icons/play.html"],i)},265:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={}),a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["node_modules/@buzzfeed/buzzblocks/components/svg/icons/pause.html"]={root:function(e,t,n,r,o){var i="";try{i+='\n<svg viewBox="0 0 512 512" role="img" aria-labelledby="',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"pause_svg_label"),e.opts.autoescape),i+='">\n    <title id="',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"pause_svg_label"),e.opts.autoescape),o(null,i+='">Pause</title>\n    <path d="M177.428571,506 L51.7142857,506 C43.0714286,506 36,498.96875 36,490.375 L36,21.625 C36,13.03125 43.0714286,6 51.7142857,6 L177.428571,6 C186.071429,6 193.142857,13.03125 193.142857,21.625 L193.142857,490.375 C193.142857,498.96875 186.071429,506 177.428571,506"></path>\n    <path d="M460.285714,506 L334.571429,506 C325.928571,506 318.857143,498.96875 318.857143,490.375 L318.857143,21.625 C318.857143,13.03125 325.928571,6 334.571429,6 L460.285714,6 C468.928571,6 476,13.03125 476,21.625 L476,490.375 C476,498.96875 468.928571,506 460.285714,506"></path>\n</svg>')}catch(e){o(r.handleError(e,null,null))}}},e.exports=a(o,r,o.nunjucksPrecompiled["node_modules/@buzzfeed/buzzblocks/components/svg/icons/pause.html"],i)},266:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={}),a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["node_modules/@buzzfeed/buzzblocks/components/svg/icons/mute.html"]={root:function(e,t,n,r,o){var i="";try{i+='\n<svg viewBox="0 0 512 512" role="img" aria-labelledby="',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"mute_svg_label"),e.opts.autoescape),i+='">\n    <title id="',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"mute_svg_label"),e.opts.autoescape),o(null,i+='">Mute</title>\n    <path d="M407.30043,247.012929 L475.393039,176.193197 C482.728015,168.564454 482.728015,156.223074 475.393039,148.594331 C468.058063,140.965588 456.166891,140.965588 448.831915,148.594331 L380.739306,219.388026 L312.671731,148.594331 C305.336755,140.965588 293.445583,140.965588 286.110607,148.594331 C278.775631,156.223074 278.775631,168.564454 286.110607,176.193197 L354.203216,247.012929 L286.110607,317.832661 C278.775631,325.461404 278.775631,337.802783 286.110607,345.431527 C289.790612,349.258917 294.572115,351.159593 299.378652,351.159593 C304.210223,351.159593 308.991726,349.258917 312.671731,345.431527 L380.739306,274.637831 L448.831915,345.431527 C452.51192,349.258917 457.293423,351.159593 462.09996,351.159593 C466.931531,351.159593 471.713034,349.258917 475.393039,345.431527 C482.728015,337.802783 482.728015,325.461404 475.393039,317.832661 L407.30043,247.012929 Z"></path>\n    <path d="M81.1021421,167.146664 L31.0340474,167.146664 C17.2152532,167.146664 6,178.811091 6,193.18333 L6,297.329995 C6,311.702235 17.2152532,323.366661 31.0340474,323.366661 L81.1021421,323.366661 L206.272379,427.513325 L206.272379,63 L81.1021421,167.146664 Z"></path>\n</svg>')}catch(e){o(r.handleError(e,null,null))}}},e.exports=a(o,r,o.nunjucksPrecompiled["node_modules/@buzzfeed/buzzblocks/components/svg/icons/mute.html"],i)},267:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={}),a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["node_modules/@buzzfeed/buzzblocks/components/svg/icons/unmute.html"]={root:function(e,t,n,r,o){var i="";try{i+='\n<svg viewBox="0 0 512 512" role="img" aria-labelledby="',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"unmute_svg_label"),e.opts.autoescape),i+='">\n    <title id="',i+=r.suppressValue(r.contextOrFrameLookup(t,n,"unmute_svg_label"),e.opts.autoescape),o(null,i+='">Unmute</title>\n    <path d="M445.481155,256.883431 C445.481155,343.330623 410.606054,421.089004 355.249938,477.060513 L385.011022,501.830111 C445.356423,439.063173 482.900791,352.641917 482.900791,256.883431 C482.900791,161.124945 445.356423,74.6777529 385.011022,11.9367513 L355.249938,36.7063489 C410.606054,92.6778583 445.481155,170.436239 445.481155,256.883431"></path>\n    <path d="M80.8392725,167.557259 L30.9464242,167.557259 C17.175998,167.557259 6,179.176924 6,193.494011 L6,297.241016 C6,311.558103 17.175998,323.177768 30.9464242,323.177768 L80.8392725,323.177768 L205.571393,426.924773 L205.571393,63.810254 L80.8392725,167.557259 Z"></path>\n    <path d="M255.464242,141.620508 L255.464242,355.780264 C278.689363,326.679229 292.883878,289.511864 292.883878,248.713354 C292.883878,207.914845 278.689363,170.74748 255.464242,141.620508"></path>\n    <path d="M346.892886,250.710484 C346.892886,314.488956 321.297855,372.01667 280.410666,413.282042 L309.647875,437.610714 C355.574242,389.575851 384.312523,323.80025 384.312523,250.710484 C384.312523,177.620719 355.574242,111.845118 309.647875,63.810254 L280.410666,88.1389268 C321.297855,129.378361 346.892886,186.932013 346.892886,250.710484"></path>\n</svg>')}catch(e){o(r.handleError(e,null,null))}}},e.exports=a(o,r,o.nunjucksPrecompiled["node_modules/@buzzfeed/buzzblocks/components/svg/icons/unmute.html"],i)},268:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={}),a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["node_modules/@buzzfeed/buzzblocks/components/svg/icons/fullscreen.html"]={root:function(e,t,n,r,o){var i="";try{o(null,i+='<svg viewBox="0 0 512 512">\n    <path d="M34.3 54H4v161.6h60.6v-101H206V54H34.3zM478.7 54H509v161.6h-60.6v-101H307V54h171.7zM34.3 458H4V296.4h60.6v101H206V458H34.3zM478.7 458H509V296.4h-60.6v101H307V458h171.7z"></path>\n</svg>')}catch(e){o(r.handleError(e,null,null))}}},e.exports=a(o,r,o.nunjucksPrecompiled["node_modules/@buzzfeed/buzzblocks/components/svg/icons/fullscreen.html"],i)},269:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={}),a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["node_modules/@buzzfeed/buzzblocks/components/svg/icons/exitfullscreen.html"]={root:function(e,t,n,r,o){var i="";try{o(null,i+='<svg viewBox="0 0 512 512">\n    <path d="M175.7 215.6H206V54h-60.6v101H4v60.6h171.7zM175.7 296.4H206V458h-60.6V357H4v-60.6h171.7zM337.3 215.6H307V54h60.6v101H509v60.6H337.3zM337.3 296.4H307V458h60.6V357H509v-60.6H337.3z"></path>\n</svg>')}catch(e){o(r.handleError(e,null,null))}}},e.exports=a(o,r,o.nunjucksPrecompiled["node_modules/@buzzfeed/buzzblocks/components/svg/icons/exitfullscreen.html"],i)},27:function(e,t,n){"use strict";var r=n(19),o=n(1);r.Application.addService("util",function(){return o.c}),t.a=o.c},270:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={}),a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["node_modules/@buzzfeed/buzzblocks/components/svg/icons/heart-broken.html"]={root:function(e,t,n,r,o){var i="";try{o(null,i+='<svg class="svg-white xs-mb2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38">\n  <path d="M38 11.3c0-5.8-5-10.2-10.8-10.2-.6 0-1.1.3-1.5.7-.4.4-.6 1-.5 2L27 17l-8 3v10l-8-12 9-5c.8-.5 1-1.2 1-2 0-1.1-.1-4-2-6.1-2.3-2.6-4.3-3.8-8.1-3.8C5.1 1.1 0 5.5 0 11.3c0 1.9-.1 6.6 5.1 11.8L17 35c.4.5 1.2 1 2 1s1.6-.5 2-1l11.9-11.9c5.2-5.2 5.1-9.9 5.1-11.8z"/>\n</svg>\n')}catch(e){o(r.handleError(e,null,null))}}},e.exports=a(o,r,o.nunjucksPrecompiled["node_modules/@buzzfeed/buzzblocks/components/svg/icons/heart-broken.html"],i)},271:function(e,t,n){"use strict";n.r(t);n(260);var r=n(5),o=n(2);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}(this,s(t).call(this,e))).audioEl=n.element.querySelector(".js-audio"),n.onPlay=n.onPlay.bind(u(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["c"]),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(t,[{key:"onAudioStarted",value:function(e){e.audio!==this.audioEl&&this.audioEl.pause()}},{key:"onPlay",value:function(){this.broadcast("audio-started",{audio:this.audioEl})}},{key:"init",value:function(){this.audioEl.addEventListener("play",this.onPlay)}},{key:"onmessage",get:function(){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"audio-started",this.onAudioStarted)}}]),t}();Object(o.b)("subbuzz-audio",function(e){return new l(e)});var f=n(14),d=n(1);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,b(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r["b"]),function(e,t,n){t&&h(e.prototype,t),n&&h(e,n)}(t,[{key:"createRenderKit",value:function(e){var t=e.formatName,n=e.renderKitUrl,r={config:{data:e.data,context:{subbuzzId:e.id,buzzId:e.buzzId}},formatName:t,renderKitUrl:n},i=Object(o.d)("tracking");return i&&(r.config.tracking=i),d.c.createScript(n).then(function(){return r})}},{key:"initContent",value:function(e){var t=e.config,n=e.formatName,r=e.renderKitUrl;try{var o=window["bfp_".concat(n)].init({element:this.element,config:t,broadcast:this.broadcast});o&&o.destroy&&(this.formatDestroy=o.destroy)}catch(e){throw Object(f.a)("script","error",{url:r,type:"bfp"}),e}return{renderKitUrl:r}}},{key:"init",value:function(){return this.createRenderKit(this.getConfig()).then(this.initContent.bind(this)).then(function(e){var t=e.renderKitUrl;Object(f.a)("script","success",{url:t,type:"bfp"})}).catch(function(e){if(e instanceof Error)throw e;console.error(e)})}},{key:"destroy",value:function(){"function"==typeof this.formatDestroy&&this.formatDestroy()}}]),t}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object(o.b)("bfp",function(e){return new g(e)});var z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,k(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r["c"]),t}();Object(o.b)("breaking-update",function(e){return new z(e)});var O=n(7),x=n(6),S=n(15),j=n(9);function E(e){var t=e.querySelector(".subbuzz__media-container"),n=e.querySelector("iframe"),r=t.getAttribute("data-frame-title");n&&r&&(n.setAttribute("title",r),t.removeAttribute("data-frame-title"));var o=e.querySelector(".subbuzz__attribution a");if(o){var i=o.textContent,a=t.getAttribute("data-attribution-title");i&&a&&o.setAttribute("title","".concat(i," - ").concat(a)),a&&t.removeAttribute("data-attribution-title")}}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I(A(n=function(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?A(e):t}(this,L(t).call(this,e))),"behaviors",[j.b,S.a,O.a,x.a].concat(T(n.behaviors))),n.mediaContainer=n.element.querySelector(".subbuzz__media-container"),n.caption=n.element.querySelector(".subbuzz__attribution"),n.onFrameLoaded=n.onFrameLoaded.bind(A(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,r["b"]),function(e,t,n){t&&C(e.prototype,t),n&&C(e,n)}(t,[{key:"onFrameLoaded",value:function(){this.frame.removeEventListener("load",this.onFrameLoaded),this.frame.classList.remove("js-hidden"),this.mediaContainer.classList.add("subbuzz__media-loaded"),this.frame.src&&this.frame.src.includes("player.vimeo.com")&&!this.frame.getAttribute("title")?this.frame.setAttribute("title","Vimeo Video"):this.caption&&this.caption.textContent&&!this.frame.getAttribute("title")&&this.frame.setAttribute("title",this.caption.textContent.trim()),E(this.element)}},{key:"render",value:function(){var e=this.getConfig("embedSource");e&&(this.frame=this.element.querySelector(".js-embed__frame"),this.frame.addEventListener("load",this.onFrameLoaded),this.frame.src=e)}},{key:"init",value:function(){var e=this.element.querySelector("#classify-quiz");e&&(e.setAttribute("data-module","quiz-legacy"),n.e(3).then(n.bind(null,138)).then(function(){return Object(o.f)(e)}).catch(function(){return Object(f.a)("chunk","timeout",{chunk_name:"quiz-legacy"})}))}},{key:"onmessage",get:function(){return I({},d.c.getUniqueEventName(j.a,this.element),this.render)}}]),t}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object(o.b)("embed",function(e){return new D(e)});var N={title:"",id:"",url:"",type:"native",source:"native"},H=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(B(n=function(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?B(e):t}(this,V(t).call(this,e))),"behaviors",[O.a,x.a]),n.trackPlaybacks=[25,50,75],n.video=n.element.querySelector(".js-subbuzz-buzzfeed__video"),n.video.addEventListener("timeupdate",n.onTimeUpdate.bind(B(n))),n.video.addEventListener("play",n.onPlay.bind(B(n))),n.video.addEventListener("pause",n.onPause.bind(B(n))),n.video.addEventListener("ended",n.onEnded.bind(B(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,r["c"]),function(e,t,n){t&&R(e.prototype,t),n&&R(e,n)}(t,[{key:"onTimeUpdate",value:function(){!this.trackPlaybacks.length||100*this.video.currentTime/this.video.duration<this.trackPlaybacks[0]||window.bfa("track/video/playback",{d:"".concat(this.trackPlaybacks.shift(),"%"),data:N})}},{key:"onPlay",value:function(){window.bfa("track/video/play",{data:N})}},{key:"onPause",value:function(){this.video.currentTime!==this.video.duration&&window.bfa("track/video/pause",{data:N})}},{key:"onEnded",value:function(){window.bfa("track/video/playback",{d:"100%",data:N})}}]),t}();Object(o.b)("embed-buzzfeed-video",function(e){return new H(e)});n(20);!function(){try{localStorage.setItem("ls_test",!0),localStorage.removeItem("ls_test")}catch(e){return!1}}();function q(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Z(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function W(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function Y(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var G=Z(function(e,t){return!t||t<2||t>8?e:Y(function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onabort=r.onerror=n,r.src=e})}(e),function(e){var n=e.width,r=e.height,o=document.createElement("canvas"),i=o.getContext("2d");switch(4<t&&t<9?(o.width=r,o.height=n):(o.width=n,o.height=r),t){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(e,0,0),o.toDataURL()})}),Q=Z(function(e){return Y(function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(e){return t(e.target.result)},r.onabort=r.onerror=n,r.readAsArrayBuffer(e)})}(e),function(e){var t=new DataView(e);if(65496!==t.getUint16(0,!1))return-2;for(var n=t.byteLength,r=2;r<n;){if(t.getUint16(r+2,!1)<=8)return-1;var o=t.getUint16(r,!1);if(r+=2,65505===o){if(1165519206!==t.getUint32(r+=2,!1))return-1;var i=18761===t.getUint16(r+=6,!1);r+=t.getUint32(r+4,i);var a=t.getUint16(r,i);r+=2;for(var s=0;s<a;s++)if(274===t.getUint16(r+12*s,i))return t.getUint16(r+12*s+8,i)}else{if(65280!=(65280&o))break;r+=t.getUint16(r,!1)}}return-1})}),K=(Z(function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fixOrientation,r=void 0===n||n;if(!e)throw X;if(!te(e))throw J;return function(e,t){return e&&e.then?e.then(t):t(e)}(W(function(){return Y(K(e),function(e){t=e})},function(){t=ee(e)}),function(){return r?W(function(){return Y(Q(e),function(e){return Y(G(t,e))})},function(){return t}):t})}),Z(function(e){return Y(function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(e){e&&e.target&&e.target.result?t(e.target.result):n($)},r.onabort=r.onerror=function(){return n($)},r.readAsDataURL(e)})}(e),function(e){if(!e||-1===e.indexOf("image"))throw $;return e})})),$="Unable to read file",X="`file` is required",J="Wrong file type";function ee(e){var t=window.URL||window.webkitURL;return e&&t&&t.createObjectURL?t.createObjectURL(e):null}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=["image/jpg","image/jpeg","image/png","image/gif"].concat(q(t));return!(!e||!e.type)&&-1!==n.indexOf(e.type)}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.head,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise(function(r,o){var i=document.createElement("script");i.onload=function(){return r(i)},i.onerror=function(){o("Script at url ".concat(e," failed to load"))},i.src=e,i.async=n,t.appendChild(i)})}n(35);n(51),n(50),n(49);var re=n(23);n(129);function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){return e instanceof ae&&1&e.s}function ae(){}function se(e,t,n){if(!e.s){if(n instanceof ae){if(!n.s)return void(n.o=se.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(se.bind(null,e,t),se.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}function ue(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}ae.prototype.then=function(e,t){var n=new ae,r=this.s;if(r){var o=1&r?e:t;if(o){try{se(n,1,o(this.v))}catch(e){se(n,2,e)}return n}return this}return this.o=function(r){try{var o=r.v;1&r.s?se(n,1,e?e(o):o):t?se(n,1,t(o)):se(n,2,o)}catch(e){se(n,2,e)}},n};function ce(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}"".concat("sticky:","members-update"),new Map,new Map;function le(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var de=n(0),pe=n(8),he=n(33),me=n(11);function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve,ge,ye={loadScript:ne};function we(){if(ge)return ge;if(ve=window.FB)return ge=Promise.resolve(ve);var e=window.fbAsyncInit;return ge=e?new Promise(function(t,n){window.fbAsyncInit=function(){e(),ve=window.FB,t(ve)},window.fbAsyncInit.fail=function(t){e.fail(t),n(t)}}):new Promise(function(e,t){window.fbAsyncInit=function(){(ve=window.FB).init({version:me.a.facebookApiVersion,appId:me.a.facebookApiAppId,status:!0,cookie:!0,xfbml:!0}),e(ve)},window.fbAsyncInit.fail=t,ye.loadScript("//connect.facebook.net/en_US/sdk.js").catch(window.fbAsyncInit.fail)})}var ke={init:we,parse:function(e){return we().then(function(t){return t.XFBML.parse(e)})},subscribe:function(e,t){return we().then(function(n){return n.Event.subscribe(e,t)})},unsubscribe:function(e,t){return we().then(function(n){return n.Event.unsubscribe(e,t)})},ui:function(e,t){"function"!=typeof t&&(t=function(){}),FB.ui(e,t)},getVideoIdFromUrl:function(e){var t=/(?:video\.php\/?\?v=|videos\/)(\d+)/.exec(e);return t?t[1]:null}},_e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){be(e,t,n[t])})}return e}({},ke,{openFeedDialog:function(e){var t=d.c.stripHTML(d.c.extend({},{method:"share",app_id:me.a.facebookApiAppId,href:d.c.addParams(he.a.getUrl(),[["ref","mobile_share"]]),caption:he.a.getCaption(),description:he.a.getDescription("facebook"),name:he.a.getTitle("facebook"),picture:he.a.getPicture("facebook"),ref:"mobile_share",iframe_test:!0},{quote:e.text},e));if(e.shareMetaUpdatedUrl&&d.c.extend(t,{href:e.shareMetaUpdatedUrl,picture:e.media}),t.app_id=me.a.facebookApiAppId,e.redirect_uri=e.redirectUri||e.url,delete t.media,t.href=function(e){var t=e.shareUrl,n=void 0===t?"":t,r=e.platform;if(!r)return n;var o=fe(n.split("?"),2),i=o[0],a=o[1],s=void 0===a?"":a;return i+"?"+["utm_source=dynamic","utm_campaign=bfshare".concat(r)].concat(le(s.split("&"))).filter(function(e){return!!e}).join("&")}({shareUrl:t.href,platform:"facebook"}),window.FB){this.ui(t);var n=de.a.findOne(document,"#fb_dialog_loader_close");n&&de.a.one(n,"click",function(e){return e.preventDefault()})}else d.c.openPopup(d.c.prepareUrl("https://www.facebook.com/dialog/"+t.method+"/?",t))},share:function(e,t){"android"===pe.a.os&&(e.display="popup",e.iframe_test=!1),delete e.title,t&&t.preventDefault(),this.openFeedDialog(e,t)}});function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ee(Se(n=function(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?Se(e):t}(this,xe(t).call(this,e))),"behaviors",[j.b,S.a,O.a,x.a]),n.onRenderFinished=n.onRenderFinished.bind(Se(n)),n.postContainer=n.element.querySelector(".js-fb-post"),n.mediaContainer=n.element.querySelector(".subbuzz__media-container"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,r["c"]),function(e,t,n){t&&Oe(e.prototype,t),n&&Oe(e,n)}(t,[{key:"onRenderFinished",value:function(){var e=this;this.isRendered||"rendered"!==this.postContainer.getAttribute("fb-xfbml-state")||(this.isRendered=!0,this.postContainer.classList.remove("js-hidden"),this.element.querySelector(".js-placeholder").classList.add("js-hidden"),this.mediaContainer.classList.add("subbuzz__media-loaded"),_e.unsubscribe("xfbml.render",this.onRenderFinished),window.requestAnimationFrame(function(){return E(e.element)}))}},{key:"render",value:function(){var e=this;_e.init().then(function(){_e.subscribe("xfbml.render",e.onRenderFinished),_e.parse(e.element)})}},{key:"onmessage",get:function(){return Ee({},d.c.getUniqueEventName(j.a,this.element),this.render)}}]),t}();Object(o.b)("embed-facebook",function(e){return new Pe(e)});var Te=n(19),Ce={},Le={span:"1",width:"720"},Ae={"output-format":"auto","output-quality":"auto"};Ce.generate=function(e,t){t=Object.assign({},Le,t);var n=Object.assign({},Ae,{crop:t.crop,resize:t.resize,fit:t.fit,fill:t.fill,downsize:t.downsize});return t.quality&&(n["output-quality"]=t.quality),t.fit&&(n.fit=t.fit),void 0!==e&&(e+=e.indexOf("?")>=0?"&":"?",e+=Object.keys(n).filter(function(e){return null!==n[e]&&""!==n[e]&&void 0!==n[e]}).map(function(e){return e+"="+n[e]}).join("&"))};var Fe=Ce;Te.Application.addBehavior("lazy-image",function(e){var t=e.getElement(),n=window.Modernizr||{},r={},o="data-src",i="data-crop",a="data-span",s="data-quality",u="data-fit",c="data-fill",l="data-downsize",p=0,h={};function m(){e.broadcast(d.c.getUniqueEventName("lazy-image-loaded",t),{imageEl:this}),de.a.addClass(this,"img--loaded")}function b(){Object(f.a)("image","error")}return r[d.c.getUniqueEventName("viewport-active",t)]=function e(){var r=de.a.find(t,".js-progressive-image");if(!r.length)return p<4?(p++,void setTimeout(e,250)):void 0;r.forEach(function(e){var t={};if(e.hasAttribute("data-mp4-src")&&n.video&&n.android){var r=document.createElement("video");r.setAttribute("class",e.getAttribute("class")),r.setAttribute("src",e.getAttribute("data-mp4-src")),r.setAttribute("loop",!0),r.setAttribute("preload","none"),r.setAttribute("poster",Fe.generate(e.getAttribute(o),t)),e.parentNode.insertBefore(r,e),de.a.remove(e)}else e.hasAttribute(o)&&(e.hasAttribute(i)&&(t.crop=e.getAttribute(i)),e.hasAttribute(a)&&(t.span=e.getAttribute(a)),e.hasAttribute(s)&&(t.quality=e.getAttribute(s)),e.hasAttribute(u)&&(t.fit=e.getAttribute(u)),e.hasAttribute(c)&&(t.fill=e.getAttribute(c)),e.hasAttribute(l)&&(t.downsize=e.getAttribute(l)),e.onload=m,e.onabort=e.onerror=b,e.src=Fe.generate(e.getAttribute(o),t))})},h.messages=d.c.getKeys(r),h.onmessage=function(e,t){var n=r[e];"function"==typeof n&&n.call(this,t)},h.init=function(){},h.destroy=function(){t=null},h});var Ie="lazy-image",De=n(45),Me="viewable";Te.Application.addBehavior(Me,function(e){return new De.a(e)});De.a;function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Be={autoplay:!1,allowfullscreen:!0},Ue=Object(d.f)(),Ne=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.getElement(),this.config=t.getConfig()||{},this.config.playerSettings=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Re(e,t,n[t])})}return e}({},Be,this.config.playerSettings),this.playerContainer=this.element.querySelector(this.playerContainerSelector),this.onRenderFinished=this.onRenderFinished.bind(this),this.behaviors=[Ie,Me],this.onmessage=(Re(n={},Object(d.e)("viewport-active",this.element),this.renderPlayer),Re(n,Object(d.e)("viewport-inactive",this.element),this.pausePlayback),n)}return function(e,t,n){t&&Ve(e.prototype,t),n&&Ve(e,n)}(e,[{key:"onRenderFinished",value:function(e){var t=e.id,n=e.instance,r=e.type;this.isRendered||t!==this.playerContainer.id||"video"!==r||(this.isRendered=!0,this.player=n,ke.unsubscribe("xfbml.ready",this.onRenderFinished),this.element.classList.add("media-embed--loaded"),this._playerReady.resolve())}},{key:"renderPlayer",value:function(){var e=this;return this.isRendered?this._playerReady:(this._playerReady=new d.a,this.playerContainer.id||(this.playerContainer.id="fb-video-".concat(Ue())),this.playerContainer.setAttribute("data-href",this.config.videoUrl||this.playerContainer.getAttribute("data-video-url")),Object.keys(this.config.playerSettings).forEach(function(t){var n="data-".concat(t);e.playerContainer.hasAttribute(n)||e.playerContainer.setAttribute(n,e.config.playerSettings[t])}),ke.init().then(function(){ke.subscribe("xfbml.ready",e.onRenderFinished),ke.parse(e.element)}),this._playerReady)}},{key:"pausePlayback",value:function(){this.player&&this.player.pause()}},{key:"playerContainerSelector",get:function(){return".js-media-player"}}]),e}();function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e,t,n){return(Ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ge(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Te.Application.addModule("facebook-video",function(e){return new Ne(e)});var Ke=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?We(e):t}(this,Ge(t).call(this,e))).behaviors=[].concat(qe(n.behaviors),[S.a,x.a,O.a,j.b]),n.resizeFinished=n.resizeFinished.bind(We(n));var r=n.element.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight;return(r.top>0&&r.top<=3*o||r.bottom<0&&r.bottom>=-3*o)&&n.renderPlayer(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,Ne),function(e,t,n){t&&Ze(e.prototype,t),n&&Ze(e,n)}(t,[{key:"updateLoadingClasses",value:function(){var e=this;this.element.querySelector(".js-placeholder").classList.add("js-hidden"),this.element.querySelector(".subbuzz__media-container").classList.add("subbuzz__media-loaded"),window.requestAnimationFrame(function(){return E(e.element)})}},{key:"resizeFinished",value:function(){_e.unsubscribe("xfbml.ready",this.resizeFinished),this.updateLoadingClasses()}},{key:"onRenderFinished",value:function(e){var n=e.id,r=e.instance,o=e.type;Ye(Ge(t.prototype),"onRenderFinished",this).call(this,{id:n,instance:r,type:o}),this.updateLoadingClasses()}},{key:"renderPlayer",value:function(){var e=this;Ye(Ge(t.prototype),"renderPlayer",this).call(this).then(function(){if(e.playerContainer){var t=Math.floor(.8*window.innerHeight),n=e.playerContainer.getBoundingClientRect();n.height&&n.height>t?(e.playerContainer.setAttribute("data-height",t),_e.subscribe("xfbml.ready",e.resizeFinished),_e.parse(e.element)):e.updateLoadingClasses()}else e.updateLoadingClasses()})}},{key:"playerContainerSelector",get:function(){return".js-fb-video"}}]),t}();Object(o.b)("sra-embed-facebook-video",function(e){return new Ke(e)});var $e=function(e){de.a.addClass(e.elem,"imgur-embed-pub"),e.elem.setAttribute("data-id",e.id),d.c.createScript("https://s.imgur.com/min/embed.js")};function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot,it=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rt(tt(n=function(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?tt(e):t}(this,et(t).call(this,e))),"behaviors",[j.b,S.a,O.a,x.a]),n.mediaContainer=n.element.querySelector(".subbuzz__media-container"),n.imgurContainer=n.element.querySelector(".js-imgur__container"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(t,r["c"]),function(e,t,n){t&&Je(e.prototype,t),n&&Je(e,n)}(t,[{key:"render",value:function(){this.mediaContainer.classList.add("subbuzz__media-loaded"),$e({elem:this.imgurContainer,id:this.getConfig("id")})}},{key:"onmessage",get:function(){return rt({},d.c.getUniqueEventName(j.a,this.element),this.render)}}]),t}();Object(o.b)("embed-imgur",function(e){return new it(e)});var at="instagram-media",st={"data-instgrm-version":4},ut=function(e){return(ot||(ot=d.c.createScript("https://www.instagram.com/embed.js")),ot).then(function(){de.a.addClass(e,at),d.c.each(st,function(t,n){e.setAttribute(t,n)}),window.instgrm.Embeds.process()})};function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(e,t,n){return(pt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ht(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bt(dt(n=function(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?dt(e):t}(this,ht(t).call(this,e))),"behaviors",[j.b,S.a,O.a,x.a].concat(lt(n.behaviors))),n.mediaContainer=n.element.querySelector(".subbuzz__media-container"),n.instagramContainer=n.element.querySelector(".js-instagram__container"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(t,r["b"]),function(e,t,n){t&&ft(e.prototype,t),n&&ft(e,n)}(t,[{key:"render",value:function(){var e=this;if(ut(this.instagramContainer),this.mediaContainer.classList.add("subbuzz__media-loaded"),E(this.element),"function"==typeof MutationObserver){new MutationObserver(function(t,n){t.forEach(function(t){if("attributes"===t.type&&"height"===t.attributeName){n.disconnect();var r=t.target.height,o=e.mediaContainer.getBoundingClientRect(),i=Math.floor(.8*window.innerHeight)+200;if(t.target.getAttribute("title")||t.target.setAttribute("title","Instagram"),r>i){var a=i*(o.width/r);e.mediaContainer.style.width="".concat(a,"px"),e.mediaContainer.style.maxWidth="100%"}}})}).observe(this.mediaContainer,{childList:!0,attributes:!0,subtree:!0})}}},{key:"onmessage",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){bt(e,t,n[t])})}return e}(bt({},d.c.getUniqueEventName(j.a,this.element),this.render),pt(ht(t.prototype),"onmessage",this))}}]),t}();Object(o.b)("embed-instagram",function(e){return new vt(e)});var gt,yt,wt=n(26),kt=n(54),_t="tumblr-post",zt="https://embed.tumblr.com/embed/post",Ot="https://secure.assets.tumblr.com/post.js";var xt=function(e){de.a.addClass(e.elem,_t),e.elem.setAttribute("data-href","".concat(zt,"/").concat(e.eid,"/").concat(e.id)),e.elem.setAttribute("data-did",e.did),function(){if("function"!=typeof gt){var e=kt.a.get(Ot);e?(gt=Function(e))():yt||(yt=wt.a.get(Ot,{type:"text"}).then(function(e){(gt=Function(e))(),kt.a.set({key:Ot,value:e,expires:6048e5})}))}else gt()}()};function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ct(Pt(n=function(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?Pt(e):t}(this,Et(t).call(this,e))),"behaviors",[j.b,S.a,O.a,x.a]),n.mediaContainer=n.element.querySelector(".subbuzz__media-container"),n.tumblrContainer=n.element.querySelector(".js-tumblr__container"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(t,r["c"]),function(e,t,n){t&&jt(e.prototype,t),n&&jt(e,n)}(t,[{key:"render",value:function(){this.mediaContainer.classList.add("subbuzz__media-loaded"),xt({elem:this.tumblrContainer,id:this.getConfig("id"),eid:this.getConfig("eid"),did:this.getConfig("did")})}},{key:"onmessage",get:function(){return Ct({},d.c.getUniqueEventName(j.a,this.element),this.render)}}]),t}();Object(o.b)("embed-tumblr",function(e){return new Lt(e)});var At=n(43),Ft=n(38);function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mt(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?Vt(e):t}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ht=function(e){function t(){var e,n;Dt(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Nt(Vt(n=Mt(this,(e=Rt(t)).call.apply(e,[this].concat(o)))),"behaviors",[O.a,x.a,Ft.a]),n}return Bt(t,r["c"]),t}(),qt=function(e){function t(){var e,n;Dt(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Nt(Vt(n=Mt(this,(e=Rt(t)).call.apply(e,[this].concat(o)))),"behaviors",[O.a,x.a]),n}return Bt(t,r["c"]),t}();function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object(o.b)("subbuzz-image-group__title",function(e){return new Ht(e)}),Object(o.b)("subbuzz-image-group__description",function(e){return new qt(e)});var Qt=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Yt(n=function(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?Yt(e):t}(this,(e=Wt(t)).call.apply(e,[this].concat(o)))),"behaviors",[O.a,x.a]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(t,r["c"]),t}();Object(o.b)("subbuzz-link",function(e){return new Qt(e)});var Kt,$t,Xt,Jt,en,tn,nn={TAB:9,ESCAPE:27,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,ENTER:13},rn={getKeyCode:function(e){return nn.hasOwnProperty(e)?nn[e]:-1},checkKeyCode:function(e,t){return nn.hasOwnProperty(e)?nn[e]===t:null}},on=n(130),an=n.n(on),sn=!1,un=["button","[href]","input","select","textarea",'[tabindex]:not([tabindex="-1"])'].join(","),cn={show:function(e){e=e||{},this.render(e.data||{}),e.content&&function(e){e.html&&de.a.setHTML($t,e.html);e.onclick&&de.a.on($t,"click",e.onclick)}(e.content),e.header&&function(e){e.html&&de.a.setHTML(Jt,e.html);e.onclick&&de.a.on(Xt,"click",e.onclick)}(e.header),"function"==typeof e.callback&&e.callback.call(this,Kt),de.a.addClass(document.body,"js-show-modal"),sn=!0,Object(o.c)("modal-opened"),ln()},hide:function(){Kt&&(de.a.removeClass(document.body,"js-show-modal"),sn=!1,document.removeEventListener("focus",fn,!0),Object(o.c)("modal-closed"))},isVisible:function(){return sn},render:function(e){Kt&&Kt.parentNode.removeChild(Kt),Kt=de.a.stringToHTML(an.a.render(e))[0],$t=de.a.find(Kt,".js-modal__content")[0],Xt=de.a.find(Kt,".js-modal__header")[0],Jt=de.a.find(Kt,".js-modal__header__text")[0],en=de.a.findOne(Kt,".js-modal__button-close"),de.a.on(en,"click",this.hide),document.addEventListener("focus",fn,!0),document.body.appendChild(Kt)}};function ln(){en&&en.focus()}function fn(e){if(e&&cn.isVisible())if($t.contains(e.target))tn=document.activeElement;else{if(tn===en)return tn=document.activeElement,void function(){var e=$t.querySelectorAll(un);e.length&&"function"==typeof e[e.length-1].focus&&e[e.length-1].focus()}();ln(),tn=document.activeElement}}var dn=cn,pn=n(131),hn=n.n(pn),mn=n(24),bn=n(17);Object(o.b)("photo-viewer",function(e){var t,n,r,o={},i=e.getElement(),a={},s={},u={},c=0,l=0,f={},d=!1,p=!1,h=!1,m=!1,b=[],v={touchstart:{x:-1,y:-1},touchmove:{x:-1,y:-1},touchend:!1,direction:"undetermined"};function g(){m=!1}function y(e){switch(e.type){case"click":return"tap";case"keyup":return"keyboard";case"touchend":return"swipe"}return""}function w(e,t){window.bfa("track/click/"+e,{a:e,d:t,l:"Subbuzz"})}function k(e){h?(f.style.right&&(m=!0),de.a.setStyle(f,{transform:"translateX("+-100*e+"%)","-webkit-transform":"translateX("+-100*e+"%)"})):(de.a.removeClass(u[c],"photo-viewer__item--show"),de.a.addClass(u[e],"photo-viewer__item--show")),a=u[e].querySelector(".js-photo-viewer__media"),b.includes(e)||(mn.a.renderAll(u[e]),b.push(e)),e>0&&!b.includes(e-1)&&(mn.a.renderAll(u[e-1]),b.push(e-1)),e<l-1&&!b.includes(e+1)&&(mn.a.renderAll(u[e+1]),b.push(e+1)),0===(c=e)?(de.a.addClass(t,"js-hidden"),de.a.removeClass(n,"js-hidden")):c===l-1?(de.a.removeClass(t,"js-hidden"),de.a.addClass(n,"js-hidden")):(de.a.removeClass(t,"js-hidden"),de.a.removeClass(n,"js-hidden")),r.innerHTML=c+1+" / "+l}function _(e){var t=c+1;t>=l||m||(k(t),w("click:photoset-next",y(e)))}function z(e){var t=c-1;t<0||m||(k(t),w("click:photoset-previous",y(e)))}function S(e){var t=e.keyCode;rn.getKeyCode("LEFT_ARROW")===t?z(e):rn.getKeyCode("RIGHT_ARROW")===t&&_(e)}function j(e){var t,n;if(void 0!==e&&void 0!==e.target){if(n=e.target,!a.contains(n)&&a!==n)return;if(void 0!==e.touches)switch(t=e.touches[0],e.type){case"touchstart":case"touchmove":v[e.type].x=t.pageX,v[e.type].y=t.pageY;break;case"touchend":if(v[e.type]=!0,v.touchstart.x>-1&&v.touchmove.x>-1)switch(v.direction=v.touchstart.x<v.touchmove.x?"right":"left",v.direction){case"left":_(e);break;case"right":z(e)}}}}var E={};return E.behaviors=[x.a,O.a,bn.a],s["photo-viewer-next"]=_,s["photo-viewer-previous"]=z,E.onclick=function(e,t,n){var r=s[n];"function"==typeof r&&r.call(this,e,t)},E.init=function(){o=e.getConfig()||{},u=de.a.find(i,".js-photo-viewer__item"),l=u.length,c=o.startWith||0,d=o.enableKeyboard||!1,p=o.enableSwipe||!1,h=o.enableSlide||!1,t=de.a.find(i,".js-photo-viewer-previous"),n=de.a.find(i,".js-photo-viewer-next"),r=de.a.find(i,".js-photo-viewer__progress")[0],f=de.a.find(i,".js-photo-viewer__content")[0],h&&de.a.addClass(f,"photo-viewer__content--slide"),k(c),d&&de.a.on(window,"keyup",S),p&&(window.addEventListener("touchstart",j,{passive:!1}),window.addEventListener("touchmove",j,{passive:!1}),window.addEventListener("touchend",j,{passive:!1})),h&&de.a.on(f,"transitionend",g)},E.destroy=function(){d&&de.a.off(window,"keyup",S),p&&(window.removeEventListener("touchstart",j,{passive:!1}),window.removeEventListener("touchmove",j,{passive:!1}),window.removeEventListener("touchend",j,{passive:!1})),h&&de.a.off(f,"transitionend",g),o=null,i=null,s=null,a=null},E});var vn,gn,yn=["facebook","twitter","pinterest","email"];function wn(e){var t=e.keyCode;rn.getKeyCode("ESCAPE")===t&&dn.isVisible()&&dn.hide()}function kn(){vn&&(de.a.on(window,"keyup",wn),Object(o.f)(vn))}function _n(){vn&&(de.a.off(window,"keyup",wn),gn&&gn.focus&&window.requestAnimationFrame(function(){gn.focus()}),Object(o.h)(vn))}Object(o.e)("message",function(e){"modal-closed"===e.data.message&&_n()});var zn=function(e){!function(e){var t=e,n=BZFD.Config.platforms,r=void 0===n?[]:n;t.platforms=r.filter(function(e){return-1!==yn.indexOf(e.name)}),d.c.each(t.platforms,function(e,n){n.type="sharing-button-photoviewer",d.c.extend(n.bfa,t.bfa)});var o=hn.a.render(t);dn.show({data:{modifier:"photo-viewer",content:o,label:"Image Gallery Modal"},callback:function(t){vn=de.a.find(t,".js-photo-viewer")[0],gn=e.trigger,kn()}})}(e)};function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var En=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Sn(n=function(e,t){return!t||"object"!==On(t)&&"function"!=typeof t?Sn(e):t}(this,(e=xn(t)).call.apply(e,[this].concat(o)))),"behaviors",[O.a,x.a,Ft.a]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(t,r["c"]),t}();Object(o.b)("subbuzz-photoset__title",function(e){return new En(e)});var Pn=n(16);function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function In(e,t){return(In=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dn=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Fn(n=function(e,t){return!t||"object"!==Tn(t)&&"function"!=typeof t?Fn(e):t}(this,An(t).call(this,e))),"behaviors",[Pn.a,j.b,bn.a,S.a,O.a,x.a].concat(Cn(n.behaviors)));var r=n.element.querySelectorAll(".js-progressive-image-container");return r.length&&Cn(r).forEach(function(e){return e.classList.remove("xs-hide")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&In(e,t)}(t,r["b"]),function(e,t,n){t&&Ln(e.prototype,t),n&&Ln(e,n)}(t,[{key:"onViewSingleItem",value:function(e){var t=String(e.getAttribute("data-photosetid")),n=e.querySelector(".js-subbuzz__media-link"),r=0,o=this.getConfig("collection").map(function(e,n){return e.id===t&&(r=n),e.images.image_src=e.images.gif_preview?e.images.gif_preview.url:e.images.image_src,{description:e.description,attribution:e.attribution,image_src:e.original_src,has_external_link:e.has_external_link,external_link_url:e.external_link_url,external_link_text:e.external_link_text?e.external_link_text:e.external_link,id:e.id,images:e.images,display:n===r,index:n.toString(),aspect_ratio:e.images.original.height/e.images.original.width*100}});zn({chosen:r,collection:o,position:"photo-viewer",id:this.getConfig("id"),bfa:this.getConfig("bfa"),trigger:n})}},{key:"onclick",value:function(e,t,n){var r=e.target.classList.contains("gif-play-button")?e.target:de.a.parent(e.target,".gif-play-button");if("click-photoset-item"!==n||r){if(r){e.preventDefault(),t.querySelector(".js-gif-element")&&this.broadcast(d.c.getUniqueEventName(At.a,this.element),{element:t})}}else this.onViewSingleItem(t),e.preventDefault()}}]),t}();function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object(o.b)("subbuzz-photoset",function(e){return new Dn(e)});var Hn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Un(n=function(e,t){return!t||"object"!==Mn(t)&&"function"!=typeof t?Un(e):t}(this,Bn(t).call(this,e))),"behaviors",[Pn.a,j.b,x.a,O.a].concat(Rn(n.behaviors))),n.sliding=!1,n.focused=!1,n.isMessageHidden=!1,n.currentPosition=.5,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}(t,r["b"]),function(e,t,n){t&&Vn(e.prototype,t),n&&Vn(e,n)}(t,[{key:"hideMessage",value:function(){var e=this;this.isMessageHidden||(de.a.one(this.message,"transitionend webkitTransitionEnd oTransitionEnd otransitionend",function(){de.a.addClass(e.message,"js-hidden")}),de.a.setStyle(this.message,{opacity:0}),this.isMessageHidden=!0)}},{key:"moveBorder",value:function(){var e=this.rect.width*this.currentPosition,t=e-this.borderWidth/2,n=Math.round(e/this.rect.width*100);de.a.setStyle(this.leftPanel,{clip:"rect(0px "+e+"px auto 0px)"}),de.a.setStyle(this.border,{transform:"translateX("+t+"px)"}),this.slider.setAttribute("aria-valuenow",n),this.slider.setAttribute("aria-valuetext","".concat(n,"%")),this.slider.value=n}},{key:"slide",value:function(e){var t=e-this.rect.left;t>this.rect.width||t<0||(this.currentPosition=t/this.rect.width,this.moveBorder(),this.hideMessage())}},{key:"getPageX",value:function(e){return!!e&&(e.touches&&e.touches[0]?e.touches[0].pageX:e.pageX)}},{key:"getPageY",value:function(e){return!!e&&(e.touches&&e.touches[0]?e.touches[0].pageY:e.pageY)}},{key:"onStart",value:function(e){if(!this.focused){var t=this.getPageX(e),n=this.getPageY(e);void 0!==t&&void 0!==n&&(this.startEvent={x:t,y:n},this.sliding=!0,this.rect=this.container.getBoundingClientRect(),this.slide(t))}}},{key:"isVerticalSlide",value:function(e){if(!pe.a.hasTouch)return!1;var t=this.startEvent.x-this.getPageX(e),n=this.startEvent.y-this.getPageY(e);return Math.abs(t)<=Math.abs(n/2)}},{key:"onMove",value:function(e){e&&this.sliding&&!this.isVerticalSlide(e)&&(e.preventDefault(),this.slide(this.getPageX(e)))}},{key:"onEnd",value:function(){this.sliding=!1,this.startEvent={}}},{key:"onResize",value:function(){this.rect=this.container.getBoundingClientRect(),this.borderWidth=this.border.getBoundingClientRect().width,this.moveBorder()}},{key:"init",value:function(){var e=this;this.leftPanel=this.element.querySelector(".js-photoslider__left"),this.container=this.element.querySelector(".js-photoslider__container"),this.message=this.element.querySelector(".js-photoslider__message"),this.border=this.element.querySelector(".js-photoslider__border"),this.slider=this.element.querySelector(".js-photoslider__slider input"),this.onStart=this.onStart.bind(this),this.onMove=this.onMove.bind(this),this.onEnd=this.onEnd.bind(this),pe.a.hasTouch?(this.container.addEventListener("touchstart",this.onStart),window.addEventListener("touchmove",this.onMove,{passive:!1}),window.addEventListener("touchend",this.onEnd)):(this.container.addEventListener("mouseover",this.onStart),this.container.addEventListener("mousemove",this.onMove),this.container.addEventListener("mouseout",this.onEnd)),this.slider.addEventListener("focus",function(){e.border.classList.add("focused"),e.focused=!0}),this.slider.addEventListener("blur",function(){e.border.classList.remove("focused"),e.focused=!1}),this.slider.addEventListener("change",function(t){var n=t.target.value,r=e.rect.width*(n/100)+e.rect.left;e.slide(r)}),this.onResize()}}]),t}();function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object(o.b)("photoslider",function(e){return new Hn(e)});var Qn=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Yn(n=function(e,t){return!t||"object"!==qn(t)&&"function"!=typeof t?Yn(e):t}(this,(e=Wn(t)).call.apply(e,[this].concat(o)))),"behaviors",[O.a,x.a].concat(Zn(n.behaviors))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(t,r["b"]),t}();Object(o.b)("subbuzz-text",function(e){return new Qn(e)});var Kn=n(18),$n=n(44),Xn={getFormattedDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(1e3*e),r=$n.a.getDateFormatTemplate(),o=t?"MONTH_SHORT_":"MONTH_";return Kn.a.renderString(r,{MM:$n.a.getTranslation(o+n.getMonth()),M:d.c.padLeft(n.getMonth()+1,"0",2),D:n.getDate(),DD:d.c.padLeft(n.getDate(),"0",2),Y:n.getFullYear(),H:d.c.padLeft(n.getHours(),"0",2),h:n.getHours()%12||12,m:d.c.padLeft(n.getMinutes(),"0",2),a:n.getHours()>=12?"p.m.":"a.m."})}};function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var or,ir=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=tr(this,nr(t).call(this,e))).formatDate=e.getGlobalConfig("formatDate")||Xn.getFormattedDate,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(t,r["c"]),function(e,t,n){t&&er(e.prototype,t),n&&er(e,n)}(t,[{key:"init",value:function(){var e=this;Array.from(this.element.querySelectorAll(".js-timestamp__time")).forEach(function(t){t.innerHTML=e.formatDate(t.getAttribute("data-unix"),!1)}),this.element.classList.remove("js-unsupported-fallback")}}]),t}();function ar(){return or||(or=d.c.createScript("https://platform.twitter.com/widgets.js")),or}Object(o.b)("sra-timestamp",function(e){return new ir(e)});var sr=function(e,t,n){return ar().then(function(){return window.twttr.widgets.createTweet(e,t,n)})};function ur(e){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e,t){return(dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pr(fr(n=function(e,t){return!t||"object"!==ur(t)&&"function"!=typeof t?fr(e):t}(this,lr(t).call(this,e))),"behaviors",[j.b,S.a]),n.tweetContainer=n.element.querySelector(".js-tweet__container"),n.theme=e.getGlobalConfig("theme","light"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dr(e,t)}(t,r["c"]),function(e,t,n){t&&cr(e.prototype,t),n&&cr(e,n)}(t,[{key:"render",value:function(){var e=this;sr(this.getConfig("id"),this.tweetContainer,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pr(e,t,n[t])})}return e}({},this.getConfig("params"),{theme:this.theme})).then(function(t){t&&e.tweetContainer.removeChild(e.tweetContainer.querySelector(".js-tweet__placeholder"))})}},{key:"onmessage",get:function(){return pr({},d.c.getUniqueEventName(j.a,this.element),this.render)}}]),t}();Object(o.b)("tweet",function(e){return new hr(e)});var mr=localStorage,br="lastHlsLevel";function vr(e){var t,r=this,o=e.video,i=e.source,a=e.preload,s=void 0===a||a,u=Number.parseInt(mr.getItem(br),10),c={capLevelToPlayerSize:!0,startLevel:Number.isInteger(u)?u:-1};if(!s){c.autoStartLoad=!1,o.addEventListener("play",function e(){t.startLoad(),o.removeEventListener("play",e)})}return n.e(0).then(n.t.bind(null,273,7)).then(function(e){return e=e.default?e.default:e,new Promise(function(n,a){(t=new e(c)).on(e.Events.MANIFEST_PARSED,n.bind(r,t)),t.on(e.Events.ERROR,a),t.on(e.Events.LEVEL_SWITCHED,function(e,t){return function(e){mr.setItem(br,e)}(t.level)}),t.loadSource(i),t.attachMedia(o)})})}var gr=["application/vnd.apple.mpegurl","video/mp4"],yr={dev:"https://video-player.dev.buzzfeed.io",stage:"https://video-player-stage.buzzfeed.com",prod:"https://video-player.buzzfeed.com"};var wr=n(52),kr=n.n(wr),_r=n(25);function zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Or={currentLevel:-1,streamController:{stats:{bwEstimate:"unknown"}}},xr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.video=t,this.config=n,this.sessionVars={},this.defaultToBFA(),this.initVideoAttributes(t),this.initSessionVars(),this.addListeners(),this.hls=this.config.hls||Or,this.bufferStartTime=0,this.bufferTotalTime=0,this.bufferCounter=0,this.scrollListenerId=_r.a.add({callback:this.verifyImpression.bind(this)})}return function(e,t,n){t&&zr(e.prototype,t),n&&zr(e,n)}(e,[{key:"initVideoAttributes",value:function(){this.videoIsMuted=this.video.muted,this.videoCurrentTime=this.video.currentTime}},{key:"initSessionVars",value:function(){this.sessionVars=Object.assign(this.sessionVars,{source:"buzz_web",page_url:this.location,player:"vps",target:"video_player",platform:this.platform,player_location:this.playerLocation,video_type:this.currentSrcType,video_title:this.config.videoTitle||"unknown",position:this.position,dimensions:this.dimensions,play_start_type:""===this.video.dataset.autoplay?"autoplay":"click_to_play",length:this.config.videoDuration||"unknown",author:"Buzzfeed Video",releasedAt:this.config.releasedAt},this.resourcePair),this.video.addEventListener("loadedmetadata",this.initSessionVars.bind(this))}},{key:"defaultToBFA",value:function(){this.config.track||(this.config.track=function(e){return Object(d.b)("track/videoplayer/".concat(e.type),{data:e})},this.config.flush=function(){return Object(d.b)("track/videoplayer/flush",{})})}},{key:"addCustomAttributes",value:function(e){this.sessionVars=Object.assign({},this.sessionVars,e)}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config.track(Object.assign({},this.sessionVars,{type:e,value:e,video_ts:Math.round(1e3*this.video.currentTime),audio_volume:this.videoIsMuted?"muted":"unmuted",orientation:Object(d.d)(),buffer_count:this.bufferCounter,buffer_duration:this.bufferTotalTime,bandwidth:this.bandwidth,hls_level:this.hls.currentLevel},t))}},{key:"flush",value:function(){this.config.flush()}},{key:"startNewViewSegment",value:function(){void 0!==this.segmentStartTime&&this.track("video_view_segment",{video_ts:Math.round(1e3*this.segmentStartTime),duration:Math.round(1e3*(this.video.currentTime-this.segmentStartTime))}),this.segmentStartTime=this.video.currentTime}},{key:"updateBuffer",value:function(){if(this.bufferStartTime){var e=new Date;this.bufferTotalTime+=Math.round(e-this.bufferStartTime),this.bufferStartTime=null}}},{key:"onFirstPlay",value:function(){this.startNewViewSegment(),this.initSessionVars(),this.track("video_view"),this.video.removeEventListener("play",this.listeners.play),this.listeners.play=this.onResume.bind(this),this.video.addEventListener("play",this.listeners.play)}},{key:"onSeeked",value:function(){Math.abs(this.video.currentTime-this.videoCurrentTime)>=1&&(this.startNewViewSegment(),this.videoCurrentTime=this.video.currentTime,this.track("scrub"))}},{key:"onPause",value:function(){this.updateBuffer(),this.viewSegmentTimeout=setTimeout(this.startNewViewSegment.bind(this),1e3),this.track("pause")}},{key:"onResume",value:function(){clearTimeout(this.viewSegmentTimeout),this.track("resume")}},{key:"onWaiting",value:function(){var e=new Date;this.bufferStartTime=e,this.bufferCounter+=1}},{key:"onPlaying",value:function(){this.updateBuffer()}},{key:"onVolumeChange",value:function(){this.video.muted!==this.videoIsMuted&&(this.video.hasAttribute("data-automuted")?this.videoIsMuted=!this.videoIsMuted:(this.startNewViewSegment(),this.videoIsMuted=!this.videoIsMuted,this.track("mute")))}},{key:"verifyImpression",value:function(){var e=this.video.getBoundingClientRect(),t=window.innerHeight-.75*e.height;e.top>=0&&e.top<t&&(this.track("impression"),_r.a.remove(this.scrollListenerId),this.scrollListenerId=null)}},{key:"onUnload",value:function(){this.startNewViewSegment(),this.flush()}},{key:"addListeners",value:function(){var e=this;this.listeners={},this.handlerMap={volumechange:this.onVolumeChange,seeked:kr()(this.onSeeked,1e3),pause:this.onPause,play:this.onFirstPlay,playing:this.onPlaying,waiting:this.onWaiting},Object.keys(this.handlerMap).forEach(function(t){e.listeners[t]=e.handlerMap[t].bind(e),e.video.addEventListener(t,e.listeners[t])}),window.addEventListener("beforeunload",this.onUnload.bind(this))}},{key:"resourcePair",get:function(){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.config.videoId?"video_id":"transcoder_path",(this.config.videoId?this.config.videoId:this.config.transcoderPath)||"unknown")}},{key:"playerLocation",get:function(){return this.config.playerLocation}},{key:"platform",get:function(){return this.config.platform||"buzzblocks"}},{key:"location",get:function(){return this.config.origin||window.location.origin+window.location.pathname}},{key:"position",get:function(){return Array.prototype.slice.call(document.querySelectorAll(".video-player")).indexOf(this.video)+1}},{key:"bandwidth",get:function(){return this.hls&&this.hls.streamController&&this.hls.streamController.stats?this.hls.streamController.stats.bwEstimate:"unknown"}},{key:"currentSrcType",get:function(){var e=this.video.currentSrc;return e?e.match(/^blob/)?"hls-polyfilled":e.match(/m3u8$/)?"hls":"mp4":null}},{key:"dimensions",get:function(){if("mp4"===this.currentSrcType&&this.video.videoWidth&&this.video.videoHeight)return this.video.videoWidth+"x"+this.video.videoHeight}}]),e}();function Sr(e,t){return new xr(e,t)}function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pr(e,t){return!t||"object"!==jr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tr(e){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cr(e,t){return(Cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lr=3e3,Ar=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Pr(this,Tr(t).call(this,e,n))).videoViewTimer=null,r.hasBeenViewed=!1,r.timerRemaining=Lr,_r.a.remove(r.scrollListenerId),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cr(e,t)}(t,xr),function(e,t,n){t&&Er(e.prototype,t),n&&Er(e,n)}(t,[{key:"initSessionVars",value:function(){this.sessionVars=Object.assign(this.sessionVars,{source:"buzz_web",page_url:this.location,player:"vps",target:"video_player",platform:this.platform,player_location:this.playerLocation,video_type:this.currentSrcType,video_title:this.config.videoTitle||"unknown",position:this.position,video_id:this.config.videoId}),this.video.addEventListener("loadedmetadata",this.initSessionVars.bind(this))}},{key:"onPause",value:function(){this.videoViewTimer&&(this.timerRemaining-=Date.now()-this.timerStart,clearTimeout(this.videoViewTimer),this.videoViewTimer=null)}},{key:"onPlaying",value:function(){var e=this;this.hasBeenViewed||this.videoViewTimer||(this.timerStart=Date.now(),this.videoViewTimer=setTimeout(function(){e.track("video_view"),e.hasBeenViewed=!0},this.timerRemaining))}},{key:"addListeners",value:function(){var e=this;this.listeners={},this.handlerMap={pause:this.onPause,playing:this.onPlaying},Object.keys(this.handlerMap).forEach(function(t){e.listeners[t]=e.handlerMap[t].bind(e),e.video.addEventListener(t,e.listeners[t])})}},{key:"verifyImpression",value:function(){}}]),t}();function Fr(e,t){return new Ar(e,t)}var Ir=n(46),Dr=n.n(Ir);function Mr(e){for(var t=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],n=0;n<t.length;n++)if(e[t[n]])return void e[t[n]]()}function Rr(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}var Vr=n(132),Br=n.n(Vr);function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Nr=["muteButton","currentTime","duration","fullscreenButton","playButton","progressBar","progressHandle","progressPlayed"],Hr=function(){function e(t){var n=t.video,r=t.container;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.video=n,this.controls={},this.container=r;try{this.container.insertAdjacentHTML("beforeend",Br.a.render()),this.setElementReferences(),this.initUIState(),this.show()}catch(e){return}this.video.controls=!1,this.addListeners()}return function(e,t,n){t&&Ur(e.prototype,t),n&&Ur(e,n)}(e,[{key:"setElementReferences",value:function(){var e=this,t={muteButton:{clickHandler:this.onMuteToggle},fullscreenButton:{clickHandler:this.onFullscreenButtonClick},progressBar:{clickHandler:this.onManualProgressUpdate,mousedownHandler:this.onProgressMouseDown,touchstartHandler:this.onProgressMouseDown},playButton:{clickHandler:this.onPlayToggle}};if(!this.container)throw new Error("VPS Custom UI - Did not find container");Nr.forEach(function(n){var r=e.container.querySelector('[data-name="'.concat(n,'"]'));if(!r)throw new Error("VPS Custom UI - Did not find ".concat(n));e.controls[n]=Object.assign({element:r},t[n])})}},{key:"initUIState",value:function(){this.video.muted&&(this.container.dataset.muted=""),this.container.dataset.autohide=""}},{key:"show",value:function(){var e=this.container.querySelector('[data-name="customUI"]');if(!e)throw new Error('VPS Custom UI - Did not find element with [data-name="customUI"]');e.removeAttribute("hidden")}},{key:"onMuteToggle",value:function(){this.video.muted=!this.video.muted,this.onSetMuteData()}},{key:"onSetMuteData",value:function(){this.video.muted?this.container.dataset.muted="":this.container.removeAttribute("data-muted")}},{key:"onPlayToggle",value:function(){this.video.paused?this.video.play():(this.video.dataset.userPaused="",this.video.pause())}},{key:"updateProgressUI",value:function(e){var t=isNaN(this.video.duration)?0:this.video.duration,n=e/t*100;this.controls.currentTime.element.textContent=this.secondsToTimeStamp(e),this.controls.duration.element.textContent="-".concat(this.secondsToTimeStamp(t-e)),this.controls.progressHandle.element.style.left="".concat(n,"%"),this.controls.progressPlayed.element.style.width="".concat(n,"%")}},{key:"onAutoProgressUpdate",value:function(){this.adjustingProgress||isNaN(this.video.currentTime)||this.updateProgressUI(this.video.currentTime)}},{key:"onManualProgressUpdate",value:function(e){if(this.adjustingProgress){var t=((e.changedTouches&&e.changedTouches[0].clientX||e.clientX)-this.controls.progressBar.element.getBoundingClientRect().left)/this.controls.progressBar.element.clientWidth,n=Math.max(Math.min(t,1),0),r=this.video.duration*n;this.updateProgressUI(r),this.video.currentTime=r}}},{key:"onProgressMouseDown",value:function(){this.adjustingProgress=!0}},{key:"onMouseUp",value:function(e){this.onManualProgressUpdate(e),this.adjustingProgress=!1}},{key:"addControlsAutoHideListener",value:function(){var e=this,t=kr()(function(){e.container.dataset.autohide=""},2e3);this.container.addEventListener("mousemove",function(){e.container.removeAttribute("data-autohide"),t()})}},{key:"updateStateAttribute",value:function(e){this.container.dataset.state=e}},{key:"onFullscreenButtonClick",value:function(){Rr()?function(){for(var e=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],t=0;t<e.length;t++)if(document[e[t]])return void document[e[t]]()}():Mr(this.container)}},{key:"onFullscreenChange",value:function(){Rr()?this.container.dataset.fullscreen="":this.container.removeAttribute("data-fullscreen")}},{key:"delegate",value:function(e){var t=this.controls[e.target.dataset.name];return t&&t["".concat(e.type,"Handler")]?t["".concat(e.type,"Handler")].call(this,e):"click"===e.type&&e.target===this.video?this.onPlayToggle():null}},{key:"secondsToTimeStamp",value:function(e){e=Math.max(e,0);var t=new Date(1e3*e).toISOString().substr(11,8);return e<3600&&(t=t.substr(3,5)),t.replace(/^0+(\d:)/,"$1")}},{key:"addListeners",value:function(){var e=this;this.container.addEventListener("click",this.delegate.bind(this)),this.container.addEventListener("mousedown",this.delegate.bind(this)),this.container.addEventListener("touchstart",this.delegate.bind(this)),this.video.addEventListener("waiting",this.updateStateAttribute.bind(this,"loading")),this.video.addEventListener("playing",this.updateStateAttribute.bind(this,"playing")),this.video.addEventListener("pause",this.updateStateAttribute.bind(this,"paused")),this.video.addEventListener("timeupdate",Dr()(this.onAutoProgressUpdate.bind(this),50)),this.video.addEventListener("volumechange",this.onSetMuteData.bind(this)),this.video.addEventListener("seeking",function(){"init"!==e.container.dataset.state&&e.updateStateAttribute("loading")}),this.video.addEventListener("seeked",function(){"init"!==e.container.dataset.state&&e.updateStateAttribute(e.video.paused?"paused":"playing")}),this.addControlsAutoHideListener(),document.addEventListener("mouseup",this.onMouseUp.bind(this)),document.addEventListener("touchend",this.onMouseUp.bind(this)),document.addEventListener("mousemove",this.onManualProgressUpdate.bind(this)),document.addEventListener("touchmove",this.onManualProgressUpdate.bind(this)),function(e){["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(function(t){return document.addEventListener(t,e)})}(this.onFullscreenChange.bind(this))}}]),e}();var qr=.04;function Zr(e){e.element.addEventListener("click",function(){e.container.classList.remove("video-player-skin--keyboard"),e.container.querySelector(".js-play-button").focus()}),e.container.addEventListener("keydown",function(t){return function(e,t){switch(e.keyCode){case 9:return t.container.classList.add("video-player-skin--keyboard"),!1;case 75:t.element.paused?t.element.play():t.element.pause();break;case 189:t.element.volume=t.element.volume-.05;break;case 187:t.element.volume=t.element.volume+.05;break;case 77:t.element.muted=!t.element.muted;break;case 70:Mr(t.element);break;case 35:t.element.pause(),t.element.currentTime=t.element.duration-1;break;case 36:t.element.currentTime=0;break;case 186:t.element.playbackRate>=.1&&(t.element.playbackRate=t.element.playbackRate-.5);break;case 222:t.element.playbackRate<10&&(t.element.playbackRate=t.element.playbackRate+.5);break;case 74:t.element.currentTime=t.element.currentTime-10;break;case 76:t.element.currentTime=t.element.currentTime+10;break;case 188:t.element.pause(),t.element.currentTime=t.element.currentTime-qr;break;case 190:t.element.pause(),t.element.currentTime=t.element.currentTime+qr;break;default:return!1}return e.preventDefault(),!1}(t,e)})}var Wr=[],Yr=null,Gr=function(){return window},Qr=function(e){return e.currentTime===e.duration};function Kr(e){var t=Gr().innerHeight/2;return e.reduce(function(e,n){var r=n.getBoundingClientRect();if(function(e){var t=Gr().innerHeight-.75*e.height;return e.top>=0&&e.top<t}(r)){var o=t>r.top?t-r.bottom:r.top-t;if(o<e.minDistanceY)return{minDistanceY:o,bestVideo:n}}return e},{minDistanceY:Number.MAX_VALUE,bestVideo:void 0}).bestVideo}function $r(e){var t=function(e){var t=Kr(e);t&&t.paused&&""!==t.dataset.userPaused&&!Qr(t)&&t.play(),e.forEach(function(e){e!==t&&e.pause()})}.bind(null,Wr);Yr||(_r.a.add({callback:t}),Yr=!0),Wr.push(e),Gr().requestAnimationFrame&&Gr().requestAnimationFrame(t)}var Xr=[],Jr=null;function eo(e){var t=e.target;Jr!==t.muted&&(Jr=t.muted,t.removeAttribute("data-automuted"),Xr.forEach(to))}function to(e){e.muted!==Jr&&(e.dataset.automuted="",e.muted=Jr)}var no=n(133),ro=n.n(no);function oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var io=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.config,r=t.container,o=t.tracking,i=t.broadcast,a=void 0===i?function(){}:i;if(this.config=n,!n.videoId&&!n.transcoderPath)throw new Error("VideoPlayer - You must supply either a videoId or transcoderPath");this.container=r.appendChild(this.wrapper),this.tracking=o,this.broadcast=a,this.setPlatformSpecificConfig(),this.shouldPreload=!1!==this.config.preload,this.element=this.basicVideoElement}return function(e,t,n){t&&oo(e.prototype,t),n&&oo(e,n)}(e,[{key:"setPlatformSpecificConfig",value:function(){var e=navigator.userAgent.match(/android/i),t=navigator.userAgent.match(/iphone|ipad|ipod/i),n={};(e||t)&&!this.config.loop&&(n.autoplay=!1),t&&(n.skin=!1),this.config=Object.assign({},this.config,n)}},{key:"prepareVideo",value:function(e){var t=function(e){return e.getBoundingClientRect().width}(this.container),n=e.title,r=void 0===n?"unknown":n,o=e.duration,i=e.renditions,a=e.thumbnail_url;this.videoInfo=e,this.title=r,this.duration=o,this.renditions=function(e,t){return gr.reduce(function(n,r){var o=function(e,t){var n=t.sort(function(e,t){return e.width-t.width||e.height-t.height});return n.filter(function(t){return t.width>=e})[0]||n[n.length-1]}(e,t.filter(function(e){return e.content_type===r}));return o?n.concat([o]):n},[])}(t,i),this.hasHLSRendition="application/vnd.apple.mpegurl"===this.renditions[0].content_type,this.config.show_id=e.show_id;var s=a&&!this.config.autoplay?a:this.renditions[0].poster_url;this.element.poster=function(e,t){var n={};if(!e)return"";if(t){var r=100*Math.ceil(t/100);n.downsize="".concat(r,":*")}return Fe.generate(e,n)}(s,t),this.config.skin&&function(e){var t=e.video,n=e.container;new Hr({video:t,container:n})}({video:this.element,container:this.container})}},{key:"prepareKeyboardControls",value:function(){var e=this;this.element.addEventListener("click",function(){e.container.classList.remove("video-player-skin--keyboard"),document.querySelector(".js-play-button").focus()}),this.container.addEventListener("keydown",Zr.bind(this))}},{key:"loadHlsPolyfillIfNeeded",value:function(){return this.hasHLSRendition&&!function(){var e=document.createElement("video").canPlayType("application/vnd.apple.mpegURL");return"probably"===e||"maybe"===e}()&&(window.MediaSource=window.MediaSource||window.WebKitMediaSource,window.MediaSource&&"function"==typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'))?vr({video:this.element,source:this.renditions[0].url,preload:this.shouldPreload}):Promise.resolve()}},{key:"append",value:function(){var e=this;this.renditions.forEach(function(t){var n=document.createElement("source");n.src=t.url,n.type=t.content_type,e.element.appendChild(n)}),this.container.appendChild(this.element)}},{key:"broadcastNewVideoLoaded",value:function(e){return this.broadcast("video-player-loaded-video",e),e}},{key:"loadMessageError",value:function(){this.container.insertAdjacentHTML("beforeend",ro.a.render())}},{key:"init",value:function(){var e=this;return(this.config.videoInfo?Promise.resolve(this.config.videoInfo):function(e){var t=e.env,n=void 0===t?window.BZFD.Config.env:t,r=e.videoId,o=e.transcoderPath,i=yr[n],a=r?"video_id":"transcoder_path",s=r||o;return wt.a.get("".concat(i,"/v1/data?").concat(a,"=").concat(s))}({videoId:this.config.videoId,transcoderPath:this.config.transcoderPath,env:this.config.env||window.BZFD.Config.env})).then(this.broadcastNewVideoLoaded.bind(this)).then(this.prepareVideo.bind(this)).then(this.append.bind(this)).then(function(){return Zr(e)}).then(this.loadHlsPolyfillIfNeeded.bind(this)).then(function(t){(e.config.autoplay&&("simple"===e.config.autoplay?e.element.play():$r(e.element),e.element.dataset.autoplay=""),e.config.automute&&function(e,t){null===Jr&&(Jr=t),Xr.push(e),to(e),e.addEventListener("volumechange",eo)}(e.element,e.config.muted),e.config.analytics)&&(e.tracking&&e.tracking.trackVideoEvents?Fr:Sr)(e.element,{videoId:e.config.videoId,transcoderPath:e.config.transcoderPath,videoDuration:e.duration,releasedAt:e.videoInfo.released_at,videoTitle:e.title,platform:e.config.platform,playerLocation:e.config.playerLocation,origin:e.config.origin,track:e.tracking&&e.tracking.trackVideoEvents?e.tracking.trackVideoEvents:e.config.track,flush:e.config.flush,hls:t})}).catch(this.loadMessageError.bind(this))}},{key:"basicVideoElement",get:function(){var e=document.createElement("video");return e.controls=!this.config.hideControls,e.preload=this.shouldPreload?"auto":"metadata",e.muted=!!this.config.muted,e.loop=!!this.config.loop,e.className="video-player",e.setAttribute("playsinline",""),e}},{key:"wrapper",get:function(){var e=document.createElement("div");return e.className="video-player__wrapper video-player-skin",e.dataset.state="init",e}}]),e}();Object(o.b)("video-player",function(e){return new io({config:e.getConfig(),tracking:e.getGlobalConfig("tracking"),container:e.getElement(),broadcast:e.application.broadcast.bind(e.application)})});var ao=n(10),so=n(22);function uo(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var co,lo={isSafari:d.g,loadScript:ne,queryStringToObject:re.b},fo=window.location.hostname,po="https://quantcast.mgr.consensu.org/choice",ho="".concat(po,"/3aud4J6uA4Z6Y/").concat(fo,"/choice.js"),mo="".concat(po,".js"),bo=so.b.isMobileApp(),vo={get gdprQueryParam(){return Object(re.b)(window.location.search).gdpr||""},get consentQueryParam(){return Object(re.b)(window.location.search)["display-consent"]||""},get ccpaOptedOut(){var e=ao.a.get("usprivacy");return!!(e&&e.length>=3)&&"Y"===e.charAt(2)},get needsConsent(){var e="quantcast"===this.gdprQueryParam||"display-consent"===this.gdprQueryParam;if(bo||me.a.isDev&&!e)return!1;var t=ao.a.get("gdpr");return"string"==typeof t&&(t=!!t),e||t||!1},get publisherPurposeIds(){return[1,2,3,4]},get vendorIds(){return[]},init:function(){var e="display-consent"===this.gdprQueryParam,t="ccpa"===this.consentQueryParam,n="gdpr"===this.consentQueryParam;return co||(co=lo.loadScript("".concat(ho,"?timestamp=").concat(Date.now())).catch(function(){return lo.loadScript(mo)}).then(function(){(e||n)&&window.__cmp("displayConsentUi"),t&&window.__cmp("displayUspUi"),vo.getCCPAInformation()}))},cmpCall:function(e){var t=arguments;return new Promise(function(n,r){var o;(o=window).__cmp.apply(o,uo(t).concat([function(t,o){return o?n({success:o,data:t}):r({success:o,data:t,error:new Error('"'.concat(e,'" failed'))})}]))})},getVendorConsents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vo.vendorIds;return vo.cmpCall("getVendorConsents",e)},getPublisherConsents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vo.publisherPurposeIds;return vo.cmpCall("getPublisherConsents",e)},getGooglePersonalization:function(){return vo.cmpCall("getGooglePersonalization")},getCCPAInformation:function(){vo.cmpCall("uspPing",null).then(function(e){var t=2===e.data.mode?2:3,n="US"===e.data.location?"US":"CA";return!(!e.success||(e.data.mode&t)!==t||e.data.location.toUpperCase()!==n)}).then(function(e){e&&document.querySelector("Html").classList.add("show-ccpa")})},handleCmpMsg:function(e){var t,n="string"==typeof e.data;if((t=n?-1!==e.data.indexOf("__cmpCall")?JSON.parse(e.data):{}:e.data).__cmpCall){var r=t.__cmpCall;window.__cmp(r.command,r.parameter,function(t,o){var i={__cmpReturn:{returnValue:t,success:o,callId:r.callId}};e.source.postMessage(n?JSON.stringify(i):i,"*")})}}},go=vo,yo=n(4);function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ko=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=n,this.player=t,this.element=t.getIframe(),this.impressionTrackedYet=!1,this.initSessionVars(),this.defaultToBFA(),this.scrollListenerId=_r.a.add({callback:this.verifyImpression.bind(this)})}return function(e,t,n){t&&wo(e.prototype,t),n&&wo(e,n)}(e,[{key:"defaultToBFA",value:function(){this.config.track||(this.config.track=function(e){return Object(d.b)("track/videoplayer/".concat(e.type),{data:e})})}},{key:"initSessionVars",value:function(){this.sessionVars={source:"buzz_web",page_url:this.location,player:"youtube_player",target:"youtube_player",platform:this.platform,player_location:this.playerLocation,video_type:"youtube",play_start_type:this.config.autoplay?"autoplay":"click_to_play"}}},{key:"onPlayerStateChange",value:function(e){switch(e.data){case YT.PlayerState.UNSTARTED:break;case YT.PlayerState.ENDED:this.end();break;case YT.PlayerState.PLAYING:this.hasPlayedOnce?this.onResume():(this.onFirstPlay(),this.hasPlayedOnce=!0);break;case YT.PlayerState.PAUSED:this.onPause();break;case YT.PlayerState.BUFFERING:case YT.PlayerState.CUED:break;default:return}}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config.track(Object.assign({},this.sessionVars,{type:e,value:e,video_ts:Math.round(1e3*this.player.getCurrentTime()),audio_volume:this.player.isMuted()?"muted":"unmuted",orientation:Object(d.d)(),youtube_id:this.config.youtubeId,video_title:this.player.getVideoData().title||"unknown"},t))}},{key:"onFirstPlay",value:function(){this.startNewViewSegment(),this.track("video_view")}},{key:"onResume",value:function(){clearTimeout(this.viewSegmentTimeout),this.track("resume")}},{key:"startNewViewSegment",value:function(){void 0!==this.segmentStartTime&&this.track("video_view_segment",{video_ts:Math.round(1e3*this.segmentStartTime),duration:Math.round(1e3*(this.player.getCurrentTime()-this.segmentStartTime))}),this.segmentStartTime=this.player.getCurrentTime()}},{key:"onPause",value:function(){this.viewSegmentTimeout=setTimeout(this.startNewViewSegment.bind(this),1e3),this.track("pause")}},{key:"verifyImpression",value:function(){var e=this.element.getBoundingClientRect(),t=window.innerHeight-.75*e.height;e.top>=0&&e.top<t&&!this.impressionTrackedYet&&(this.track("impression"),this.impressionTrackedYet=!0,_r.a.remove(this.scrollListenerId))}},{key:"end",value:function(){this.track("video_view_segment",{video_ts:Math.round(1e3*this.segmentStartTime),duration:Math.round(1e3*(this.player.getDuration()-this.segmentStartTime))}),this.track("video_finish")}},{key:"platform",get:function(){return this.config.platform||"buzzblocks"}},{key:"location",get:function(){return this.config.origin||window.location.origin+window.location.pathname}}]),e}();function _o(e,t){return new ko(e,t)}function zo(e){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xo(e,t){return!t||"object"!==zo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function So(e){return(So=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jo(e,t){return(jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Eo=3e3,Po=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=xo(this,So(t).call(this,e,r))).videoViewTimer=null,n.hasBeenViewed=!1,n.timerRemaining=Eo,_r.a.remove(n.scrollListenerId),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jo(e,t)}(t,ko),function(e,t,n){t&&Oo(e.prototype,t),n&&Oo(e,n)}(t,[{key:"onPlayerStateChange",value:function(e){switch(e.data){case YT.PlayerState.UNSTARTED:case YT.PlayerState.PAUSED:this.pauseTimer();break;case YT.PlayerState.PLAYING:this.hasBeenViewed||this.onFirstPlay();break;default:return}}},{key:"onFirstPlay",value:function(){var e=this;this.videoViewTimer||(this.timerStart=Date.now(),this.videoViewTimer=setTimeout(function(){e.track("video_view"),e.hasBeenViewed=!0},this.timerRemaining))}},{key:"pauseTimer",value:function(){this.videoViewTimer&&(this.timerRemaining-=Date.now()-this.timerStart,clearTimeout(this.videoViewTimer),this.videoViewTimer=null)}},{key:"verifyImpression",value:function(){}}]),t}();function To(e,t){return new Po(e,t)}var Co,Lo={loadScript:ne},Ao={init:function(){if(Co)return Co;if(window.YT)return Co=Promise.resolve(window.YT);var e=window.onYouTubePlayerAPIReady;return Co=e?new Promise(function(t,n){window.onYouTubePlayerAPIReady=function(){e(),t(window.YT)},window.onYouTubePlayerAPIReady.fail=function(t){e.fail(t),n(t)}}):new Promise(function(e,t){window.onYouTubePlayerAPIReady=e,window.onYouTubePlayerAPIReady.fail=t,Lo.loadScript("https://www.youtube.com/iframe_api").catch(window.onYouTubePlayerAPIReady.fail)})},getYouTubeInstance:function(){return Ao.init().then(function(){return window.YT})},getIdFromUrl:function(e){var t=e.match(/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/);return t&&11===t[1].length?t[1]:null}},Fo=Ao;function Io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Do(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ro={autoplay:0,cc_load_policy:0,controls:1,disablekb:0,enablejsapi:1,fs:1,hl:"en",iv_load_policy:1,loop:0,playsinline:0},Vo=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.getElement(),this.config=t.getConfig(),this.tracking="function"==typeof t.getGlobalConfig?t.getGlobalConfig("tracking"):void 0,this.playerContainer=this.element.querySelector(this.playerContainerSelector),this.behaviors=[Ie,Me],this.onmessage=(Do(n={},Object(d.e)("viewport-active",this.element),this.renderPlayer),Do(n,Object(d.e)("viewport-inactive",this.element),this.pausePlayback),n)}return function(e,t,n){t&&Mo(e.prototype,t),n&&Mo(e,n)}(e,[{key:"renderPlayer",value:function(){var e=this,t=yo.a.getBreakPoint(),n="xs"===t,r="sm"===t;return Promise.all([Fo.getYouTubeInstance(),this.hasConsentedForAds]).then(function(t){var o=Io(t,2),i=o[0],a=o[1];e.player=new i.Player(e.playerContainer,{playerVars:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Do(e,t,n[t])})}return e}({},Ro,e.config.playerSettings,{modestbranding:n|r,showinfo:n|r}),videoId:e.config.videoId,events:{onReady:e.onPlayerReady.bind(e),onStateChange:e.onPlayerStateChange.bind(e)},embedConfig:{adsConfig:{nonPersonalizedAd:!a}}}),e.element.classList.add("media-embed--loaded")})}},{key:"pausePlayback",value:function(){var e=this;this.player&&("function"==typeof this.player.pauseVideo?this.player.pauseVideo():this.player.addEventListener("onReady",function(){return e.player.pauseVideo()}))}},{key:"onPlayerReady",value:function(e){this.player=e.target;var t=this.getTrackMethod(),n=this.tracking&&this.tracking.trackVideoEvents?To:_o;this.analytics=n(this.player,{autoplay:!1,youtubeId:this.config.videoId,track:t})}},{key:"onPlayerStateChange",value:function(e){this.analytics&&this.analytics.onPlayerStateChange&&this.analytics.onPlayerStateChange(e)}},{key:"getTrackMethod",value:function(){return this.tracking&&this.tracking.trackVideoEvents?this.tracking.trackVideoEvents:void 0}},{key:"playerContainerSelector",get:function(){return'[data-type="thumbnail"]'}},{key:"hasConsentedForAds",get:function(){return go.needsConsent?go.init().then(function(){return go.getPublisherConsents([3])}).then(function(e){return e.data.standardPurposeConsents[3]}).catch(function(){return!1}):Promise.resolve(!0)}}]),e}();function Bo(e){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function No(e,t){return!t||"object"!==Bo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ho(e,t,n){return(Ho="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qo(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zo(e,t){return(Zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Te.Application.addModule("youtube-video",function(e){return new Vo(e)});var Wo=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=No(this,qo(t).call(this,e))).behaviors=[Pn.a,j.b,S.a,x.a,O.a];var r=n.element.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight;return(r.top>0&&r.top<=3*o||r.bottom<0&&r.bottom>=-3*o)&&setTimeout(function(){n.renderPlayer()},1e3),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zo(e,t)}(t,Vo),function(e,t,n){t&&Uo(e.prototype,t),n&&Uo(e,n)}(t,[{key:"renderPlayer",value:function(){var e=this;Ho(qo(t.prototype),"renderPlayer",this).call(this).then(function(){e.element.querySelector(".js-placeholder-link").classList.add("js-hidden"),e.element.querySelector(".subbuzz__media-container").classList.add("subbuzz__media-loaded")})}}]),t}();Object(o.b)("sra-youtube-video",function(e){return new Wo(e)});var Yo=n(39);Object(so.a)(window,Yo.a)},33:function(e,t,n){"use strict";var r=n(0),o=n(1),i=n(18),a=n(4),s=function(){var e=o.c.getQueryParams().sub;return e?parseInt(e.split("_")[1],10):null}();t.a={getUrl:function(){var e;"canonical_path"in BZFD.Context.page?e=BZFD.Context.page.canonical_path:BZFD.Context.buzz&&(e=BZFD.Context.buzz.canonical_path),e=e||"";var t=location.origin+e,n=function(e){if(""===e)return{};for(var t={},n=0;n<e.length;++n){var r=e[n].split("=",2);1===r.length?t[r[0]]="":t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return t}(window.location.search.substr(1).split("&"));if(n.bfsource){var r="?";t.includes("?")&&(r="&"),t="".concat(t).concat(r,"bfsource=").concat(n.bfsource)}return t},getCanonicalUrl:function(){var e=document.querySelector('link[rel="canonical"]');return e?e.href:this.getUrl()},getAuthor:function(){return function(e){var t,n="",o=r.a.find(document.head,'meta[property="'.concat(e,'"]'));return o.length>0&&(t=r.a.getAttr(o[0],"content"))&&(n=t),n}("author").replace(/,$/g,"")},getTitle:function(e){var t=BZFD.Context.page.title||document.title;return e&&BZFD.Context.page.promotions[e]&&BZFD.Context.page.promotions[e].title||t},getDescription:function(e){var t=BZFD.Context.page.description;return e&&BZFD.Context.page.promotions[e]&&BZFD.Context.page.promotions[e].description||t},getCaption:function(){var e=document.domain,t=this.getAuthor();return t&&(e+=" | By ".concat(t)),e},getPicture:function(e){var t=BZFD.Context.page.picture;return e&&BZFD.Context.page.promotions[e]&&BZFD.Context.page.promotions[e].picture||t},getAll:function(){return{url:this.getUrl(),author:this.getAuthor(),title:this.getTitle(),description:this.getDescription(),caption:this.getCaption(),picture:this.getPicture()}},renderString:function(e,t,n){var r=o.c.extend({},this.getAll(),t||{});return i.a.renderString(e,r,n)},isLinkedSubbuzz:function(e){return null!==s&&s===e},getSubbuzzShareData:function(e,t){var n=o.c.removeHash(this.getUrl()),i=o.c.addQueryParam(n,"sub","0_"+t)+"#"+t,a=r.a.getText(e,".js-subbuzz__title-text").trim();return{text:a||this.getTitle().trim(),url:n+"#"+t,shareMetaUpdatedUrl:i,fbUrl:i,media:this.getSubbuzzMedia(e)||this.getPicture(),subbuzzTitle:a}},getQuizResultShareData:function(e,t){var n=o.c.removeHash(this.getUrl()),r=o.c.addQueryParam(n,"quiz_result",e+"_"+t)+"#"+e;return{url:n+"#"+e,shareMetaUpdatedUrl:r,fbUrl:r}},getSubbuzzMedia:function(e){var t=r.a.findOne(e,".js-subbuzz__media");if(!t)return"";var n=r.a.getAttr(t,"data-src"),o=r.a.getAttr(t,"data-gif-src");return a.a.isAny(["xs","sm"])&&(n=r.a.getAttr(t,"data-mobile-src")||n,o=r.a.getAttr(t,"data-mobile-gif-src")||o),o||n||r.a.getAttr(t,"src")}}},35:function(e,t,n){"use strict";var r=n(49),o=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.hostname,t=e.split(".")[0];return t&&"stage"!==t&&-1===["buzzfeed","buzzfeednews","tasty"].indexOf(t)&&e.split(".").length>=3&&(e=e.substring(t.length+1)),e},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dev";return"dev"===e?"dev.buzzfeed.io":"prod"===e||"app-west"===e?"buzzfeed.com":"stage.buzzfeed.com"};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return s});var s=function(){function e(t){var n=t.cookieName,a=t.daysExpiry,s=t.env,u=t.namespace,c=t.sourceOfTruthDomain,l=t.throttleTimer,f=void 0===l?null:l,d=t.secureOnly,p=void 0===d||d,h=t.localDomain,m=void 0===h?o():h;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s="live"===s?"prod":s,this.xDomainCookies=new r.a({sourceOfTruthDomain:c||i(s),namespace:u,localDomain:m,env:s}),this.cookieName=n,this.daysExpiry=a,this.secureOnly=p,this.throttleTimer=f,this.inMemoryValue=null}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"get",value:function(){var e=this;return this.throttle?Promise.resolve(this.inMemoryValue):this.xDomainCookies.get(this.cookieName).then(function(t){return e.inMemoryValue=t,e.resetThrottle(),t})}},{key:"set",value:function(e){return this.inMemoryValue=e,this.xDomainCookies.set({name:this.cookieName,value:e,days:this.daysExpiry,secureOnly:this.secureOnly})}},{key:"resetThrottle",value:function(){var e=this;this.throttleTimer&&(this.throttle=setTimeout(function(){e.throttle=null},this.throttleTimer))}}]),e}()},37:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return o});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.getElement(),this.broadcast=t.broadcast.bind(t),this.getConfig=t.getConfig.bind(t)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),e}()},38:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2),o=n(1),i="sra-scroll-to-subbuzz";Object(r.a)(i,function(e){var t=e.getElement(),n={},r={};var i={};return n["scroll-to-subbuzz"]=function(e){var n;r.id===e.subBuzzId&&(n=window.pageYOffset||document.documentElement.scrollTop,window.scrollTo(0,t.getBoundingClientRect().top+n-60))},i.messages=o.c.getKeys(n),i.onmessage=o.c.getMessageHandler(n),i.init=function(){r=e.getConfig()},i.destroy=function(){t=null},i})},39:function(e,t,n){"use strict";var r=n(0),o=n(25);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a={getViewPosition:r.b},s={},u=0,c=function(){function e(t){var n=t.throttleTimeout;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watching={},this.fireCallback=this.fireCallback.bind(this),this.trigger=this.trigger.bind(this),this.add=this.add.bind(this),this.remove=this.remove.bind(this),o.a.add({throttleTimeout:n,callback:this.trigger})}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"fireCallback",value:function(e,t){var n=a.getViewPosition(e.target,e.renderLookahead,t);n.isHidden()||(n.isPartiallyInViewport()||n.isPartiallyInLookahead()||n.isWithinLookahead()?(e.callback(),e.inViewport=!0,e.watchOnce&&this.remove(e.target)):e.exitCallback&&e.inViewport&&(e.inViewport=!1,e.exitCallback()))}},{key:"trigger",value:function(e){for(var t in this.watching)this.watching.hasOwnProperty(t)&&this.fireCallback(this.watching[t],e)}},{key:"add",value:function(e){this.watching[u++]=e,this.fireCallback(e)}},{key:"remove",value:function(e){if(e instanceof Element)for(var t in this.watching)if(this.watching.hasOwnProperty(t)&&this.watching[t].target===e){delete this.watching[t];break}}}]),e}();t.a={create:function(e){var t=e.throttleTimeout,n=s[t];return n||(n=s[t]=new c({throttleTimeout:t})),n},triggerAll:function(e){for(var t in s)s.hasOwnProperty(t)&&s[t].trigger(e)}}},4:function(e,t,n){"use strict";var r,o=n(78),i=n.n(o),a=window,s={xs:"(max-width:39.9rem)",sm:"(min-width:40rem) and (max-width:51.9rem)",md:"(min-width:52rem) and (max-width:63.9rem)",lg:"(min-width:64rem)"};function u(e){return"screen and ".concat(s[e])}var c={observers:new Set,init:function(){var e=this;Object.keys(s).forEach(function(t){var n=a.matchMedia(u(t));n.addListener(function(n){n.matches&&e.observers.forEach(function(e){e.fire(t),e.fire("match",{breakpoint:t})})}),e[t]=n})}};c.init(),r={_getWindowWidth:function(){return Number(a.innerWidth)},_isRetinaDevice:function(){return a.matchMedia("(-webkit-min-device-pixel-ratio: 2)").matches},_makeSizeMediaQuery:u,_mediaMatches:function(e){return e in s&&c[e].matches},isBreakpoint:function(e){return r._mediaMatches(e)},isXsmall:function(){return r._mediaMatches("xs")},isSmall:function(){return r._mediaMatches("sm")},isMedium:function(){return r._mediaMatches("md")},isLarge:function(){return r._mediaMatches("lg")},isAny:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i()(e,r._mediaMatches)},isSmallerThan:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).inclusive,n=void 0===t||t;return"xs"===e?!!n&&r.isXsmall():"sm"===e?n?r.isAny(["xs","sm"]):r.isXsmall():"md"===e?n?r.isAny(["xs","sm","md"]):r.isAny(["xs","sm"]):"lg"===e&&(!!n||r.isAny(["xs","sm","md"]))},isLargerThan:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).inclusive,n=void 0===t||t;return"xs"===e?!!n||r.isAny(["sm","md","lg"]):"sm"===e?n?r.isAny(["sm","md","lg"]):r.isAny(["md","lg"]):"md"===e?n?r.isAny(["md","lg"]):r.isLarge():"lg"===e&&(!!n&&r.isLarge())},breakPoint:function(e){return r._mediaMatches(e)},getBreakPoint:function(){var e;for(var t in s)if(r.breakPoint(t)){e=t;break}return e},getWindowWidth:function(){return r._isRetinaDevice()?2*r._getWindowWidth():r._getWindowWidth()},get cssBreakpoints(){return{xs:null,sm:"40rem",md:"52rem",lg:"64rem"}},breakpointObserver:{subscribe:function(e){return c.observers.add(e)},unsubscribe:function(e){return c.observers.delete(e)}}},t.a=r},40:function(e,t,n){"use strict";var r=n(11),o=n(1),i=n(8),a=n(4),s=n(82),u=n.n(s),c=n(62);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f={},d=[{name:"shopping_package_all_bpager",variations:["control","on"],storeResponse:!0,isEligible:function(){var e=r.a.isBPage,t=u()(r.a.allPageEditions,"US"),n=r.a.buzzFlags.sensitive||!1,o=r.a.isAd;return e&&t&&!o&&!n}},{name:"SITE-6717-affiliate-image",variations:["control","link"],storeResponse:!0,isEligible:function(){return!0}}].map(function(e){return e.name});f.addTestName=function(e){d.includes(e)||d.push(e)},f.getTestValues=function(){var e=c.a.getExperimentMetaData(d),t=[];return e&&o.c.each(e,function(e,n){"object"===l(n)&&null!==n&&"undefined"!==n.variant_id&&"undefined"!==n.id&&t.push({variantid:n.variant_id,experimentid:n.id})}),t};var p=f,h={buzzfeedsteven:"348",buzzfeedphilippines:"128",buzzfeedhealth:"170",buzzfeedfirstofall123:"410",buzzfeedsara:"96",buzzfeedcocoabutter:"159",buzzfeedshayan:"19873",buzzfeedtbh123:"375",phautomationdev:"19740",buzzfeedkenny:"354",buzzfeedsf:"168",bff:"144",buzzfeedworld:"135",buzzfeedfrance:"107",buzzfeedgeeky:"134",officialplayfull:"15458",buzzfeedirl:"98",buzzfeedgaming:"289",buzzfeedjapannews:"362","fb live test":"408",buzzfeedniki:"386",buzzfeedniftyoutdoors:"415",buzzfeedsalvaje:"18557",buzzfeedmates:"469",buzzfeedrachel:"396",buzzfeedvideo:"87",tryguys:"131",thatonecoworker:"126",quintab:"111",buzzfeedopenmic:"152",buzzfeednow:"291",buzzfeedlivequizzes:"370",buzzfeedviolet:"125",hereandmeow:"172",buzzfeedwords:"164",gadieldelorbe:"19871",buzzfeedsorelatable:"290",homesickcandles:"19878",buzzfeedjazzmyne:"379",buzzfeedjeremy:"401",buzzfeedniftyhome:"123",buzzfeedbringme:"409",buzzfeednewsmexico:"453",tastyweeknight:"418",buzzfeedbiz:"139",ladiesmakingthings:"413",niftyitalia:"470",buzzfeedukpolitics:"157",buzzfeedtravel:"112",buzzfeednifty:"318",buzzfeedaustin:"447",buzzfeedkevin:"345",buzzfeedpuzzles:"292",buzzfeedrobin:"360",buzzfeedhillary:"102",buzzfeedeugene:"162",buzzfeedindia:"163",whenyoureboredaf:"141",buzzfeedunsolvedsports:"19722",worthitcities123:"19821",buzzfeedsrishti:"19781",buzzfeedfirstofall:"121",mayainthemoment:"19814",relationshippedshow:"18881",buzzfeedx:"176",buzzfeedmeufs:"18052",buzzfeedreader:"106",puppyprepshow:"19533",buzzfeedadam:"88",glamspinner:"19858",buzzfeedobsessed:"364",buzzfeedbecky:"171",buzzfeedmexico:"85",buzzfeedryan:"446",buzzfeedbrasil:"89",buzzfeednewsbr:"380",buzzfeedtastygrill:"422","buzzfeed blue":"174",buzzfeeduk:"150",buzzfeedlola:"382",buzzfeedscotland:"117",buzzfeedali:"338",buzzfeedpartner:"116",thelindsaywebster:"19874",buzzfeedcheeky:"91",buzzfeedasis:"19859",buzzfeedbenc:"359",buzzfeedtania:"346",tastymiam:"322",buzzfeednick:"333",buzzfeedcommunity:"137",buzzfeedbuymethat:"312",buzzfeedjazmin:"349",buzzfeedworthit:"463",buzzfeedmichelle:"356",buzzfeedbrews:"122",buzzfeedmuynifty:"468",thechantelhouston:"19882",buzzfeedapop:"19876",buzzedfeed:"373",nightinnightoutshow:"19435",worthitcities:"19820",buzzfeedreasonstosmile:"411",thegoodadvicecupcake:"19870",buzzfeedjordans:"352",buzzfeedricky:"355",buzzfeedcurly:"334",buzzfeedladylike:"311",buzzfeedgals:"19875",buzzfeedkane:"339",buzzfeedbranden:"357",buzzfeedoznews:"372",tastypresents:"19884",buzzfeedjordani:"361",buzzfeedjustin:"340",openlab:"314",buzzfeedcollege:"143",wordywine:"19857",cuteornot:"161",tastyjunior:"320",buzzfeednews:"154",socialsabotage:"19856",buzzfeedmusic:"127",buzzfeedideas:"146",buzzfeedclaudia:"336",buzzfeedespana:"287",buzzfeedallison:"97",buzzfeedanimals:"133",buzzfeedjenny:"350",buzzfeedschwester:"19836",dialoguebybuzzfeed:"458",buzzfeeddenews:"457",soml:"149",buzzfeedtasty:"108",buzzfeedniftyscience:"414",buzzfeedfootball:"104",buzzfeedzach:"94",buzzfeedzack:"353",buzzfeedpropertasty:"288",buzzfeedrewind:"119",buzzfeedsafiya:"332",iexplorer:"130",noms:"95",buzzfeedcomics:"153",buzzfeedlgbt:"114",lajulissacalderon:"19872",buzzfeedtech:"100",bfpubhubdev:"454",buzzfeedquizzes:"421",buzzfeedpink:"449",whineaboutitofficial:"173",buzzfeedchrisl:"347",buzzfeedfreddie:"337",buzzfeedpol:"129",buzzfeeduknews:"138",buzzfeedunsolved:"448",buzzfeedquinta:"109",buzzfeedarmand:"400",jenruggirello:"19883",tees:"177",bientasty:"324",buzzfeedoz:"90",pubhubstage:"331",testfriends:"308",buzzfeedchloe:"351",buzzfeed:"113",buzzfeedshane:"445",itsandrewilnyckyj:"151",buzzreads:"160",buzzfeedniftypets:"416",theofficialshopbuzzfeed:"19869",buzzfeedgreenscreen:"451",buzzfeedfuture:"378",buzzfeedceleb:"120",buzzfeedgaby:"165",officialgoodful:"377","buzzfeed comedy":"103",watchasis:"118",buzzfeedopenmic123:"376",buzzfeedozpol:"371",buzzfeeddeutschland:"158",buzzfeeddevin:"19881",tastydemais:"310",buzzfeedkristin:"101",perolike:"313",buzzfeedfood:"142",tododiaumtestediferentedobuzzfeed:"461",buzzfeedkelsey:"343",buzzfeedespanol:"145",buzzfeedniftybrasil:"369",fackshetshop:"19877",buzzfeedfrancenews:"319",buzzfeedfellows:"136",buzzfeedparents:"115",buzzfeedella:"169",jazzmynejay:"19880",buzzfeedomgyaaa:"424",buzzfeedcanada:"92",buzzfeedquiz:"147",buzzfeedthisisyou:"381",buzzfeedchris:"155",quintavseverything:"19386",buzzfeedjennyb:"397",buzzfeedkeith:"167","ph automation on stage":"19723",einfachtasty:"323","lazy girl life":"175",buzzfeedniftyfaidate:"16002",tastyvegetarian:"420",gamechangers:"110",buzzfeedjapan:"309",buzzfeedjapanmedical:"467",buzzfeedsweaty:"132",buzzfeedstevenl:"335",buzzfeedentertainment:"140",tastyhappyhour:"317",buzzfeedbooks:"124",buzzfeedgarrett:"344",buzzfeedjared:"341","ph automation on prod":"19741",anotherround:"156",urgreatasis:"178",buzzfeedmike:"358",buzzfeedtruefacts123:"18882",buzzfeedtastyjapan:"368","buzzfeed life":"93","pup, pup, and away":"105",buzzfeedashly:"166",buzzfeedscience:"148",buzzfeedkevinn:"395",ohgreatmorepolitics:"419",seesomethingpodcast:"407",buzzfeedtbh:"86","pubhub on stage two":"330",buzzfeedned:"99"},m=n(22),b=window,v=document,g={buzzId:0,subbuzzPos:1,subbuzzCount:2,platform:3,module:4,rank:5,origin:6,experiment:7};t.a={_debug:function(){return document.location.search.indexOf("affiliatedebug=true")>-1},_modifySkimlinksURL:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this._escapeStrRegex(t),r=n+"/?\\?id=(.*)&site=(.*)&xs=(.*)&url=(http.*)",i=n+"/?\\?id=(.*)&sref=(.*)&url=(http.*)&xs=(.*)",a=new RegExp("^//"),s=new RegExp(r),u=new RegExp(i),c="",l={},f=[];return e.match(a)&&(e="https:"+e),(s.test(e)||u.test(e))&&(c=o.c.getQueryString(e),l=o.c.queryStringToObject(c.substr(1,c.length)),(f=decodeURIComponent(l.xcust).split("|")||"")[1]=this._getSource(),f[2]=this._getReferrer(),f[3]=this._getExperiments(),this._debug()&&console.log("Skimlinks Debug: ",f),l.xcust=encodeURIComponent(f.join("|")),e=t+o.c.objectToQueryString(l)),e},_modifyAmazonURL:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(/(https?:\/\/www\.amazon\..*\?)(.*?tag=.*)/),i={},a="",s=e;if(n&&n.length>2&&n[2].length){if("ascsubtag"in(i=o.c.queryStringToObject(n[2]))&&i.ascsubtag.trim().length){var u=Object.assign(t.subtags||{},{platform:this._getSource(),origin:this._getReferrer(t),experiment:this._getExperiments()}),c=g.buzzId,l=this._decodeAmazonSubtags(i.ascsubtag);l.length>c&&"buzzid"===l[c]&&(u.buzzId=r.a.buzzId),i.ascsubtag=this._updateAmazonSubtags(i.ascsubtag,u)}a=o.c.objectToQueryString(i),s=o.c.getBaseUrl(e)+a}return s},_getReferrer:function(e){var t=v.referrer,n=b.location.search,r=!!n.length&&o.c.queryStringToObject(n.substr(1,n.length)),a="0";if(e&&e.origin&&void 0!==e.origin&&e.origin.length)a=e.origin;else if(r&&"origin"in r&&r.origin.length)a="bf-"+r.origin;else if(r&&"ref"in r&&r.ref.length&&!r.ref.match(/^bffb/i))a=r.ref;else if((t.match(/(facebook.com)|(fb.me)/i)||i.a.referrer.match(/^facebook/i))&&r.ref.match(/^bffb/i)){var s=r.ref.substr(4);a="bffb_"+(h[s]?h[s]:"99999")}else i.a.referrer.length?a="tweet"===i.a.referrer?"twitter":i.a.referrer:t.match(/buzzfeed.com/i)?a="bf":t&&(a=(a=t.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:/\n]+)/))&&a[1]&&a[1].length?a[1].slice(0,10):a);return a.trim()},_getExperiments:function(){var e="0:0",t=p.getTestValues();Array.isArray(t)&&t.length&&(e=t.map(function(e){return e.experimentid+":"+e.variantid}).join(";"));return e},_getSource:function(){var e=a.a.isAny(["xs","sm"])?"m":"d";return m.b.isIOS()?e="ios":m.b.isAndroid()&&(e="andr"),e},_escapeStrRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},_updateAmazonSubtags:function(e,t){if(!e||!e.trim().length||!t)return e;var n=this._decodeAmazonSubtags(e);o.c.each(t,function(e,t){var r=g[e];if(void 0!==r){for(;n.length<r;)n.push(0);n[r]=t}});var r=this._encodeAmazonSubtags(n);return this._debug()&&console.log("Amazon Debug: ",r),r},_decodeAmazonSubtags:function(e){return e&&e.trim().length?decodeURIComponent(e).split(","):[]},_encodeAmazonSubtags:function(e){return e&&e.length?encodeURIComponent(e.join(",")):""}}},43:function(e,t,n){"use strict";var r=n(5),o=n(27),i=n(2),a=n(37);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,l(t).call(this,e))).context=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a["a"]),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"linkAffiliateImage",value:function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}(function(){var e=this;return function(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}(e.isBehaviorEnabled,function(t){if(t){var n=e.element.querySelector(".subbuzz__media picture, .subbuzz__media img"),r=e.element.querySelector('.subbuzz__title a[data-affiliate="true"][href]');if(r&&n&&n.parentNode){var o=r.cloneNode(!1);n.parentNode.appendChild(o),o.appendChild(n)}}})})},{key:"init",value:function(){this.linkAffiliateImage()}},{key:"isBehaviorEnabled",get:function(){var e=this.context.getGlobalConfig("abeagle");return e?e.getExperimentVariant("SITE-6717-affiliate-image",{rejectErrors:!1}).then(function(e){return e&&"control"!==e}):Promise.resolve(!1)}}]),t}(),p="affiliate-image";Object(i.a)(p,function(e){return new d(e)});var h=n(7),m=n(6),b=n(15),v=n(17),g=n(16),y=n(38),w=n(9);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return j});var j="overlay-clicked",E=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(x(n=function(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?x(e):t}(this,O(t).call(this,e))),"behaviors",[p,g.a,w.b,v.a,b.a,h.a,m.a,y.a].concat(_(n.behaviors))),n.tapToRevealEl=n.element.querySelector("[data-type='tap-to-reveal']"),n.imageContainer=n.element.querySelector(".js-subbuzz__media-container"),n.fullSizeImage=n.element.querySelector(".js-full-size-image");var r=n.element.querySelectorAll(".js-progressive-image-container");return r.length&&_(r).forEach(function(e){return e.classList.remove("xs-hide")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,r["b"]),function(e,t,n){t&&z(e.prototype,t),n&&z(e,n)}(t,[{key:"onclick",value:function(e,t){t&&t===this.tapToRevealEl&&(this.broadcast(o.a.getUniqueEventName(j,this.element),{element:this.imageContainer}),t.classList.add("js-hidden"),this.element.classList.remove("blurred-overlay"),e.preventDefault())}}]),t}();Object(i.b)("subbuzz-image",function(e){return new E(e)})},44:function(e,t,n){"use strict";var r=n(63),o=n.n(r),i=n(10),a=n(18);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u=function(){try{return window.BZFD.Context.page.localization}catch(e){return{}}},c=function(){return u().translations||{}},l={de:["de"],en:["au","ca","in","uk","us"],es:["es","mx"],fr:["fr"],ja:["jp"],pt:["br"]};t.a={getEdition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(e)&&(e="feedpager"===e?{useCountryCookie:!1}:{}),e=Object.assign({},{useCountryCookie:!0},e);var t=s(u().country.split("-"),2),n=t[0],r=t[1],a=void 0===r?"":r;if("en"===u().language&&e.useCountryCookie){var c=i.a.get("country");c||(c=a||"us");var f=s(c.split("-"),2);n=f[0],(a=f[1])||"es"===n||(a=n,n=Object.keys(l).filter(function(e){return-1!==l[e].indexOf(n)})[0])}return l[n]&&-1!==l[n].indexOf(a)?"".concat(n,"-").concat(a):"es"===n?"es":"en-us"},getRawPageLanguage:function(){return-1!==Object.keys(l).indexOf(u().language)?u().language:"en"},getPageLocale:function(){return u().locale},getUserCountry:function(){return i.a.get("country")||"us"},getTranslation:function(e,t,n){if(!c()[e])throw new Error("Missing translation "+e+" for "+this.getRawPageLanguage());var r=n?{delimiters:n}:{};return a.a.renderString(c()[e],t,r)},getTranslationStr:function(e){return c()[e]||""},getDateFormatTemplate:function(){switch(u().language){case"de":return"{{D}}. {{MM}} {{Y}}, {{H}}:{{m}} Uhr";case"es":return"{{D}} de {{MM}} de {{Y}}, {{h}}:{{m}} {{a}}";case"fr":return"{{D}} {{MM}}, {{Y}} &agrave; {{H}} h {{m}}";case"ja":return"{{Y}}/{{M}}/{{DD}} {{H}}:{{m}}";case"pt":return"{{D}} de {{MM}} de {{Y}}, {{h}}:{{m}} {{a}}";default:return"{{MM}} {{D}}, {{Y}}, at {{h}}:{{m}} {{a}}"}}}},45:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(8),o=n(1),i=n(4),a=n(39);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(){return{renderLookahead:2*r.a.getViewportHeight(),throttleTimeout:300}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.getElement(),this.config=t.getConfig()||{},this.broadcast=t.broadcast.bind(t),this._notifySelf=this._notifySelf.bind(this),this._notifySelfExit=this._notifySelfExit.bind(this)}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"_notifySelf",value:function(){this.broadcast(this.viewportActiveEvent||Object(o.e)("viewport-active",this.element))}},{key:"_notifySelfExit",value:function(){this.broadcast(this.viewportInactiveEvent||Object(o.e)("viewport-inactive",this.element))}},{key:"createMonitor",value:function(){this.monitor=a.a.create({throttleTimeout:void 0!==this.config.throttleTimeout?this.config.throttleTimeout:u().throttleTimeout})}},{key:"getRenderLookahead",value:function(){return function(e,t){if(e&&e.renderLookahead&&e.renderLookahead.toString().match(/^x/)){var n=parseFloat(e.renderLookahead.slice(1));return r.a.getViewportHeight()*n}return e&&e.renderLookahead?e.renderLookahead:function(e){return e.classList.contains("js-subbuzz-image--gif")}(t)?i.a.isAny(["xs","sm"])?500:1400:u().renderLookahead}(this.config,this.element)}},{key:"watch",value:function(){var e=this;this.watching||(this.watching=window.setTimeout(function(){e.monitor.add({target:e.element,renderLookahead:e.getRenderLookahead(),callback:e._notifySelf,exitCallback:e.config.animated?e._notifySelfExit:null,watchOnce:!e.config.animated&&(void 0===e.config.watchOnce||e.config.watchOnce)})},0))}},{key:"init",value:function(){this.createMonitor(),this.watch()}},{key:"destroy",value:function(){this.watching&&window.clearTimeout(this.watching),this.monitor.remove(this.element),this.element=null,this.config=null}}]),e}()},49:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(20);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(e){return e.match(/^stage\./)?"https://".concat(e):"https://www.".concat(e)},a=function(){function e(t){var n=this,r=t.sourceOfTruthDomain,o=t.localDomain,i=t.namespace,a=t.env,s=void 0===a?"dev":a,u=t.updateInterval,c=void 0===u?3e5:u,l=t.iframeTimeout,f=void 0===l?3e3:l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceOfTruthDomain=r,this.localDomain=o,this.env=s,this.namespace=i,this.iframeTimeout=f,this.cookies={},r!==o&&this.initIframe().then(function(){setInterval(n.updateFromIframe.bind(n),c)}).catch(function(){})}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"get",value:function(e){var t=this;return this.sourceOfTruthDomain===this.localDomain?Promise.resolve(r.a.get(e)):this.initIframe().then(function(){return t.cookies[e]||r.a.get(e)}).catch(function(){return r.a.get(e)})}},{key:"set",value:function(e){var t=this,n=e.name,o=e.value,a=e.days,s=e.secureOnly,u=void 0===s||s;this.sourceOfTruthDomain!==this.localDomain?this.initIframe().then(function(){var e={namespace:t.namespace,msgType:"destination-sync-write",cookieName:n,cookieVal:o,expiresDays:a,secureOnly:u},r=i(t.sourceOfTruthDomain);t.iframe.contentWindow.postMessage(JSON.stringify(e),r)}).catch(function(){return r.a.set({name:n,value:o,days:a,localDomain:t.localDomain})}):r.a.set({name:n,value:o,days:a,localDomain:this.localDomain})}},{key:"cleanup",value:function(){if(this.boundOnMessage&&window.removeEventListener("message",this.boundOnMessage),this.iframe){var e=new ErrorEvent({message:"XDomainCookies were cleaned up before ready"});this.iframe.dispatchEvent(e),this.iframe.remove()}this.iframeReady=null}},{key:"initIframe",value:function(){var e=this;if(this.iframeReady)return this.iframeReady;var t=new Promise(function(t,n){e.boundOnMessage=function(n){e.onMessage(n,t)},window.addEventListener("message",e.boundOnMessage),e.createIframe(n)});return this.iframeReady=Promise.race([function(e){return new Promise(function(t,n){var r={type:"timeout",msg:"".concat(e,"ms timeout exceeded")};setTimeout(function(){return n(r)},e)})}(this.iframeTimeout),t]).catch(function(t){throw"prod"===e.env&&window.raven&&window.raven.captureException("timeout"===t.type?new Error("Destination Sync: ".concat(t.msg)):t),console.error(t),t}),this.iframeReady}},{key:"createIframe",value:function(e){var t="xdomaincookies-".concat(this.namespace),n=document.getElementById(t);if(n)return n.addEventListener("error",function(t){e(t)}),this.iframe=n,void(this.iframe.dataset.loaded&&this.updateFromIframe());var r=JSON.stringify({namespace:this.namespace,windowOrigin:window.location.origin}),o=document.createElement("iframe");o.style.display="none",o.addEventListener("error",function(t){e(t)}),o.id=t,o.src=function(e,t){return"".concat(i(e),"/").concat("destination-sync.html","#").concat(encodeURIComponent(t))}(this.sourceOfTruthDomain,r),this.iframe=o,document.body.appendChild(o)}},{key:"updateFromIframe",value:function(){var e={namespace:this.namespace,msgType:"destination-sync-read"},t=i(this.sourceOfTruthDomain);this.iframe.contentWindow.postMessage(JSON.stringify(e),t)}},{key:"onMessage",value:function(e,t){var n={};try{n=JSON.parse(e.data)}catch(e){}n.namespace===this.namespace&&("destination-sync-init"===n.msgType&&(this.iframe.dataset.loaded=!0),"destination-sync-init"!==n.msgType&&"destination-sync-read"!==n.msgType||(this.cookies=n.cookies),t())}}]),e}()},5:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"c",function(){return m}),n.d(t,"b",function(){return b});var r=n(2);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var h=function(){function e(t){f(this,e),this.element=t.getElement(),this.broadcast=t.broadcast.bind(t),this.getConfig=t.getConfig.bind(t)}return p(e,[{key:"init",value:function(){}},{key:"destroy",value:function(){this.element=null}}]),e}(),m=function(e){function t(){return f(this,t),a(this,u(t).apply(this,arguments))}return c(t,h),t}(),b=function(e){function t(e){var n;f(this,t),i(s(n=a(this,u(t).call(this,e))),"behaviors",[]),i(s(n),"SHARE_SLOTS",[{type:"inline",selector:".js-inline-share-bar"},{type:"update",selector:".js-updates-share-bar"}]);var r=e.getGlobalConfig("shareBehavior");return r&&n.behaviors.push(r),n}return c(t,m),p(t,[{key:"insertShareBars",value:function(e){var t=this;(0,e.render)({slots:this.SHARE_SLOTS.reduce(function(e,n){return e[n.type]=Array.from(t.element.querySelectorAll(n.selector)),e},{}),config:this.getConfig()}),Object(r.g)(this.element)}},{key:"onmessage",get:function(){return{"sra-insert-share-bars":this.insertShareBars}}}]),t}()},50:function(e,t,n){"use strict";t.a=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^function(){try{return crypto.getRandomValues(new Uint8Array(1))[0]}catch(e){return 255*Math.random()}}()&15>>e/4).toString(16)})}},51:function(e,t,n){"use strict";var r=n(35);function o(e,t,n){var r,o,i,a,s,u,c;for(this.version="1.0.1",this.minAlphabetLength=16,this.sepDiv=3.5,this.guardDiv=12,this.errorAlphabetLength="error: alphabet must contain at least X unique characters",this.errorAlphabetSpace="error: alphabet cannot contain spaces",this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",this.seps="cfhistuCFHISTU",this.minHashLength=parseInt(t,10)>0?t:0,this.salt="string"==typeof e?e:"","string"==typeof n&&(this.alphabet=n),r="",o=0,a=this.alphabet.length;o!==a;o++)-1===r.indexOf(this.alphabet[o])&&(r+=this.alphabet[o]);if(this.alphabet=r,this.alphabet.length<this.minAlphabetLength)throw this.errorAlphabetLength.replace("X",this.minAlphabetLength);if(-1!==this.alphabet.search(" "))throw this.errorAlphabetSpace;for(o=0,a=this.seps.length;o!==a;o++)-1===(i=this.alphabet.indexOf(this.seps[o]))?this.seps=this.seps.substr(0,o)+" "+this.seps.substr(o+1):this.alphabet=this.alphabet.substr(0,i)+" "+this.alphabet.substr(i+1);this.alphabet=this.alphabet.replace(/ /g,""),this.seps=this.seps.replace(/ /g,""),this.seps=this.consistentShuffle(this.seps,this.salt),(!this.seps.length||this.alphabet.length/this.seps.length>this.sepDiv)&&(1===(s=Math.ceil(this.alphabet.length/this.sepDiv))&&s++,s>this.seps.length?(u=s-this.seps.length,this.seps+=this.alphabet.substr(0,u),this.alphabet=this.alphabet.substr(u)):this.seps=this.seps.substr(0,s)),this.alphabet=this.consistentShuffle(this.alphabet,this.salt),c=Math.ceil(this.alphabet.length/this.guardDiv),this.alphabet.length<3?(this.guards=this.seps.substr(0,c),this.seps=this.seps.substr(c)):(this.guards=this.alphabet.substr(0,c),this.alphabet=this.alphabet.substr(c))}o.prototype.encode=function(){var e,t,n=Array.prototype.slice.call(arguments);if(!n.length)return"";for(n[0]instanceof Array&&(n=n[0]),e=0,t=n.length;e!==t;e++)if("number"!=typeof n[e]||n[e]%1!=0||n[e]<0)return"";return this._encode(n)},o.prototype.decode=function(e){return e.length&&"string"==typeof e?this._decode(e,this.alphabet):[]},o.prototype.encodeHex=function(e){var t,n,r;if(e=e.toString(),!/^[0-9a-fA-F]+$/.test(e))return"";for(t=0,n=(r=e.match(/[\w\W]{1,12}/g)).length;t!==n;t++)r[t]=parseInt("1"+r[t],16);return this.encode.apply(this,r)},o.prototype.decodeHex=function(e){var t,n,r=[],o=this.decode(e);for(t=0,n=o.length;t!==n;t++)r+=o[t].toString(16).substr(1);return r},o.prototype._encode=function(e){var t,n,r,o,i,a,s,u,c,l,f,d=this.alphabet,p=e.length,h=0;for(r=0,o=e.length;r!==o;r++)h+=e[r]%(r+100);for(n=t=d[h%d.length],r=0,o=e.length;r!==o;r++)i=e[r],a=n+this.salt+d,d=this.consistentShuffle(d,a.substr(0,d.length)),t+=s=this.hash(i,d),r+1<p&&(u=(i%=s.charCodeAt(0)+r)%this.seps.length,t+=this.seps[u]);for(t.length<this.minHashLength&&(c=(h+t[0].charCodeAt(0))%this.guards.length,(t=this.guards[c]+t).length<this.minHashLength&&(c=(h+t[2].charCodeAt(0))%this.guards.length,t+=this.guards[c])),l=parseInt(d.length/2,10);t.length<this.minHashLength;)(f=(t=(d=this.consistentShuffle(d,d)).substr(l)+t+d.substr(0,l)).length-this.minHashLength)>0&&(t=t.substr(f/2,this.minHashLength));return t},o.prototype._decode=function(e,t){var n,r,o,i,a=[],s=0,u=new RegExp("["+this.guards+"]","g"),c=e.replace(u," "),l=c.split(" ");if(3!==l.length&&2!==l.length||(s=1),void 0!==(c=l[s])[0]){for(n=c[0],c=c.substr(1),u=new RegExp("["+this.seps+"]","g"),s=0,r=(l=(c=c.replace(u," ")).split(" ")).length;s!==r;s++)o=l[s],i=n+this.salt+t,t=this.consistentShuffle(t,i.substr(0,t.length)),a.push(this.unhash(o,t));this._encode(a)!==e&&(a=[])}return a},o.prototype.consistentShuffle=function(e,t){var n,r,o,i,a,s;if(!t.length)return e;for(i=e.length-1,a=0,s=0;i>0;i--,a++)s+=n=t[a%=t.length].charCodeAt(0),o=e[r=(n+a+s)%i],e=(e=e.substr(0,r)+e[i]+e.substr(r+1)).substr(0,i)+o+e.substr(i+1);return e},o.prototype.hash=function(e,t){var n="",r=t.length;do{n=t[e%r]+n,e=parseInt(e/r,10)}while(e);return n},o.prototype.unhash=function(e,t){var n,r=0;for(n=0;n<e.length;n++)r+=t.indexOf(e[n])*Math.pow(t.length,e.length-n-1);return r};var i=n(50);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",function(){return p});var u=parseInt(1e10*Math.random(),10),c=Object(i.a)(),l=function(e){if(0!==e.indexOf(".")){var t=/[0-9A-Za-z]+/.exec(e);return null!==t&&t[0]===e&&parseInt(e,36)}var n=e.substr(1,2);return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).salt;return new o(void 0===t?null:t).decode(e)[0]}(e.substr(3),{salt:n})},f=function(e){var t=parseInt(25*Math.random()+10,10).toString(36)+parseInt(25*Math.random()+10,10).toString(36);return".".concat(t).concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.salt,r=void 0===n?null:n,i=t.length;return new o(r,void 0===i?32:i).encode(e)}(e,{salt:t,length:0}))},d=function(e){var t=decodeURIComponent(e).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n=s(t,2);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}({},e,a({},n[0],n[1]))},{}),n=t.u,r=t.uuid;return{legacyIdentifier:l(n||""),identifier:r}},p=function(e){var t=e.env,n=e.legacy,o=void 0===n||n,i=new r.a({namespace:"bf-xdomain-tracking",cookieName:"bf_visit",daysExpiry:1e4,env:t});return i.get().then(function(e){var t=d(e),n=t.legacyIdentifier,r=t.identifier,a=f(u);return o?n||(i.set(encodeURIComponent("u=".concat(a,"&uuid=").concat(r||c,"&v=2"))),u):r||n?r||String(n):(i.set(encodeURIComponent("u=".concat(a,"&uuid=").concat(c,"&v=2"))),c)})}},54:function(e,t,n){"use strict";var r=n(8);function o(e){return e+"|expiration"}t.a={set:function(e){r.a.supportsLocalStorage&&void 0!==e&&(localStorage.setItem(e.key,e.value),e.expires&&localStorage.setItem(o(e.key),Date.now()+e.expires))},get:function(e){return r.a.supportsLocalStorage?function(e){var t=localStorage.getItem(o(e));return t&&t<=Date.now()}(e)?(this.remove(e),null):localStorage.getItem(e):null},sessionSet:function(e){r.a.supportsLocalStorage&&void 0!==e&&sessionStorage.setItem(e.key,e.value)},sessionGet:function(e){return r.a.supportsLocalStorage?sessionStorage.getItem(e):null},remove:function(e){r.a.supportsLocalStorage&&(localStorage.removeItem(o(e)),localStorage.removeItem(e))},clear:function(){r.a.supportsLocalStorage&&localStorage.clear()}}},55:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},6:function(e,t,n){"use strict";var r=n(2),o=n(19),i=n(0),a=n(40);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this._globalConfig=window.BZFD.Config}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"_modifyHREF",value:function(e){if(this._globalConfig&&this._globalConfig.linkConversion){var t=i.a.getAttr(e,"href");!i.a.hasClass(e,"js-skimlink-subtag-modified")&&t&&(t=a.a._modifySkimlinksURL(t,this._globalConfig.linkConversion.skimlinks.url),i.a.setAttr(e,{href:t}),i.a.addClass(e,"js-skimlink-subtag-modified"))}}},{key:"onclick",value:function(e){var t=!1;e&&e.target&&(t=i.a.closest(e.target,"a"))&&this._modifyHREF(t)}},{key:"destroy",value:function(){}}]),e}();o.Application.addBehavior("skimlinks-xcust-modifier",function(e){return new u(e)});var c=u;n.d(t,"a",function(){return"skimlinks-xcust-modifier"}),Object(r.a)("skimlinks-xcust-modifier",function(e){return new c(e)})},60:function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(99),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(55))},62:function(e,t,n){"use strict";var r=n(23),o=n(83),i=n.n(o),a=n(51),s="track/abtest",u="track/abeagle/request";var c=n(26),l=n(10);function f(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function d(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var p,h=f(function(e,t){if(e.asyncIsEligible)return d(e.asyncIsEligible(),function(n){n&&k(e.name,t)})}),m=[],b={},v={},g={},y=l.a.getBuzzfeedSubdomainOrWildcard(window.location.hostname),w=null;function k(e,t){v[e]=t,b[e]&&b[e].forEach(function(e){return e.resolve(t)})}function _(){m.forEach(function(e){e.asyncIsEligible?h(e,w):e.isEligible()&&k(e.name,w)})}function z(e,t){var n=window.location.hostname.replace("www","");l.a.remove(e,".".concat(n));var r=y==="www.".concat(n)?14:1;l.a.set({name:e,value:t,days:r,domain:y})}function O(e,t){window.bfa(e,{data:t})}function x(e){Object.keys(e).forEach(function(t){var n="".concat(t,"_version"),r=e[t],o=r.value,i=r.version,a=r.error,u=r.resolved;if(a){var c={type:"ExperimentServerError",name:t,error:a};return g[t]=c,void(b[t]&&b[t].forEach(function(e){return e.resolve(w)}))}if(u&&(o=o||"control"),k(t,o),null===o)return l.a.remove(t,y),void l.a.remove(n,y);var f=l.a.get(t)===String(o),d=l.a.get(n)===String(i);f&&d||(z(t,o),z(n,i),O("".concat(s,"/").concat(t),{experiment:t,variation:r}))})}function S(e,t){var n=[];m.forEach(function(e){"boolean"==typeof e.storeResponse&&e.storeResponse&&n.push(e.name)}),0!==n.length&&e.forEach(function(e){if(-1!==n.indexOf(e)){var r=t[e];if(!r||r.error||null===r.value)k(e,w);else{var o=e+"_metadata",i=r;i=JSON.stringify(i),i=escape(i),l.a.get(o)!==i&&z(o,i)}}})}var j={registerExperiments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m=e,p=null},getExperimentMetaData:function(e){var t={};return e.forEach(function(e){var n=l.a.get(e+"_metadata");try{n=unescape(n),n=JSON.parse(n),t[e]=n}catch(e){return}}),t},getExperimentVariant:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.rejectErrors,o=void 0===n||n,i=t.defaultVariantIfUnbucketed,a=void 0===i?"control":i,s=t.errorVariant,u=void 0===s?w:s,c=function(e){return Object(r.b)(window.location.search)["abeagle_".concat(e)]}(e);if(c)return Promise.resolve(c);var l,f=m.filter(function(t){return t.name===e})[0],d=g[e];return f?f.isEligible()||f.asyncIsEligible||(d={type:"ExperimentNotEligible",name:e}):d={type:"ExperimentNotFound",name:e},d?!1===o?(this.defaultErrorHandler(d),l=Promise.resolve(u)):l=Promise.reject(d):l=e in v?Promise.resolve(v[e]):new Promise(function(t,n){b[e]?b[e].push({resolve:t,reject:n}):b[e]=[{resolve:t,reject:n}]}),a!==w&&(l=l.then(function(e){return e===w?a:e})),l},isOn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"on";return i()(t)?Promise.reject("onValue cannot be null or undefined"):this.getExperimentVariant(e,{rejectErrors:!1}).then(function(e){return e===t})},defaultErrorHandler:function(e){if(e instanceof Error)throw e;if("prod"!==window.BZFD.Config.env)switch(e.type){case"ExperimentNotFound":console.log('Experiment "'.concat(e.name,'" is not registered'));break;case"ExperimentNotEligible":console.log('Experiment "'.concat(e.name,'" is not eligible'));break;case"ExperimentServerError":console.log("Experiment ".concat(e.name," error: ").concat(e.error))}},getVariants:function(e){if(e)return m.forEach(function(e){var t=l.a.get(e.name);e.asyncIsEligible?h(e,t):e.isEligible()&&k(e.name,t)}),Promise.resolve();if(p)return Promise.resolve();var t=m.filter(function(e){return e.isEligible()}).map(function(e){return e.name});return t.length?this.requestVariants(t):Promise.resolve()},requestVariants:function(e){var t=(new Date).getTime();return Object(a.a)({env:BZFD.Config.env}).then(function(n){return p=c.a.get("".concat(window.BZFD.Config.abeagle.url,"/public/v2/experiment_variants"),{data:{experiment_names:e.join(";"),user_id:n,client_id:"buzz_web"},timeout:1500}).then(function(n){O(u,{responseTime:Date.now()-t}),x(n),S(e,n)}).catch(_)})},requestVariantsAsync:f(function(e){var t=this;if(e.asyncIsEligible)return d(e.asyncIsEligible(),function(n){if(delete e.asyncIsEligible,n){e.isEligible=function(){return!0};var r=l.a.get(e.name);r?k(e.name,r):t.requestVariants([e.name])}else k(e.name,w)})}),saveExperiments:function(e){void 0!==e.experimentsMap&&void 0!==e.experimentNames&&(x(e.experimentsMap),S(e.experimentNames,e.experimentsMap))},start:function(e){var t=this;this.getVariants(e),e?e.start(m):m.forEach(function(e){if(e.asyncIsEligible)t.requestVariantsAsync(e);else if(e.isEligible()){var n=l.a.get(e.name);n&&k(e.name,n)}else k(e.name,w)})},reset:function(){m=[],b={},g={},v={},p=null}};function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=null;(function(){var e=Object(r.b)(window.location.search);return e.abflags||e.abdebug})()&&(P={start:function(e){return n.e(6).then(n.bind(null,275)).then(function(t){t.start(e)})}});t.a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){E(e,t,n[t])})}return e}({},j,{start:function(){return j.start(P)}})},7:function(e,t,n){"use strict";var r=n(2),o=n(19),i=n(40),a=n(11),s=n(0),u=n(27),c=n(14);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=["/bpage-preview/"],d=["advertiser","aunews","business","canadanews","community","francenews","japannews","lgbt","politics","quickpost","science","uknews","usnews","ukpolitics","world"],p=new RegExp(/com\.au|com\.br|com\.mx|co\.uk|co\.jp|com|ca|in/),h=new RegExp(/\b(?:https?:\/\/)?(?:www\.)?amazon\./),m=new RegExp("(".concat(h.source,")(").concat(p.source,")(?:\\/.*)?(?:&|\\?)(tag=[^&]*).*")),b=3,v=new RegExp("(".concat(h.source,")(").concat(p.source,")(?:\\/|\\?|$)")),g=/\b(?:https?:\/\/)?(?:www\.)?amzn\./,y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"onmouseup",function(e){(1===e.button||e.ctrlKey)&&this.onclick(e)}),this.context=t,this._element=t.getElement(),this._id=t.getConfig("id"),this.onauxclick=this.onclick,this.oncontextmenu=this.onclick}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(e,[{key:"_getHref",value:function(e){return(e instanceof Element?s.a.getAttr(e,"href"):"")||""}},{key:"_isAmazonDomain",value:function(e){return!!e&&"string"==typeof e&&!!e.match(v)}},{key:"_isShortenedUrl",value:function(e){return!!e&&"string"==typeof e&&!!e.match(g)}},{key:"_isConvertedLink",value:function(e){if(!e||"string"!=typeof e)return!1;var t=e.match(m),n=b;return!!(t&&t.length>n&&t[n].length)}},{key:"_updateDataOriginAttr",value:function(e){var t=this;if(void 0!==e.origin&&e.origin&&(this._id===e.subBuzzId||"all"===e.subBuzzId)){var n=s.a.find(this._element,"a");u.a.each(n,function(n,r){var o=t._getHref(r);t._isConvertedLink(o)&&s.a.setAttr(r,{"data-origin":e.origin})})}}},{key:"_getSubtagAttributes",value:function(e){if(!e||!e.attributes)return{};var t={};return u.a.each(e.attributes,function(e,n){n.nodeName.match(/^data-subtag/)&&(t[n.nodeName.replace(/^data-subtag-/,"")]=n.nodeValue)}),t}},{key:"_modifyHREF",value:function(e){var t,n=this._getHref(e),r=this._isShortenedUrl(n),o=this._isConvertedLink(n),u=this.isEnabled&&this._isAmazonDomain(n);if(r?t="short":o&&a.a.isCommunity?t="community":o&&!u?t="converted":!o&&u?t="broken":o||this.isEnabled||!this._isAmazonDomain(n)||(t="unmonetized"),t)this.logError(t,n);else if(u){var c=i.a._modifyAmazonURL(n,{origin:s.a.getAttr(e,"data-origin"),subtags:this._getSubtagAttributes(e)});s.a.setAttr(e,{href:c}),s.a.addClass(e,"js-amazon-subtag-modified")}}},{key:"logError",value:function(e,t){e||(e="undefined"),"broken"===e?u.a.bfaTrack("track/click/affiliate-link",{n:t,l:"affiliate-error-link",d:this._id}):Object(c.a)("affiliate_link","error.".concat(e))}},{key:"onmessage",value:function(e,t){"amazon-update-origin"===e&&this._updateDataOriginAttr(t)}},{key:"onclick",value:function(e){if(e&&e.target){var t=s.a.closest(e.target,"a");t&&this._modifyHREF(t)}}},{key:"destroy",value:function(){this.context=null,this._element=null,this._id=null,this.onclick=this.onmouseup=null}},{key:"isEnabled",get:function(){var e=this.context.getGlobal("window").location.pathname;return a.a.isCommerce&&!a.a.isCommunity&&!(e.length&&f.some(function(t){return 0===e[0].indexOf(t)})||d.includes((a.a.category||"").toLowerCase()))}}]),e}();o.Application.addBehavior("amazon-subtag-modifier",function(e){return new y(e)});var w=y;n.d(t,"a",function(){return"amazon-subtag-modifier"}),Object(r.a)("amazon-subtag-modifier",function(e){return new w(e)})},73:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},75:function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},8:function(e,t,n){"use strict";var r=document.documentElement,o=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i=function(){try{return localStorage.setItem("ls_test",!0),localStorage.removeItem("ls_test"),!0}catch(e){return!1}}();o||r.classList.add("no-svg"),(navigator.userAgent.match(/Pinterest/i)||document.referrer.match(/pinterest.com/i))&&r.classList.add("pinterest"),t.a={hasTouch:function(){var e="ontouchstart"in window;return e&&r.classList.add("has-touch"),e}(),os:navigator.userAgent.match(/android/i)?(r.classList.add("is-android"),"android"):navigator.userAgent.match(/iphone|ipad|ipod/i)?(r.classList.add("is-ios"),"ios"):"",referrer:function(){var e=document.referrer,t=window.location.search,n=navigator.userAgent.match(/fban|twitter|pinterest/i),r=n?n[0]:"";return t.match("referrer=pinterest")||e.match("pinterest")||"pinterest"===r?"pinterest":t.match("referrer=twitter")||e.match("t.co")||"twitter"===r?"tweet":t.match("referrer=facebook")||e.match("m.facebook")||"fban"===r?"facebook":""}(),supportsLocalStorage:i,isVideoSupported:function(){return"android"===this.os},autoplaysVideo:function(){return!1},getViewportHeight:function(){return window.innerHeight||r.clientHeight},getViewportWidth:function(){return window.innerWidth||r.clientWidth}}},87:function(e,t,n){var r,o=n(12);r=o.currentEnv?o.currentEnv:o.currentEnv=new o.Environment([],void 0);var i=o.webpackDependencies||(o.webpackDependencies={});i["@buzzfeed/buzzblocks/components/gif-play-button/gif-play-button.html"]=n(100);var a=n(13);(o.nunjucksPrecompiled=o.nunjucksPrecompiled||{})["app/static/components/subbuzz/_gif-play-button.html"]={root:function(e,t,n,r,o){var i="";try{var a,s;i+="\n",a=r.contextOrFrameLookup(t,n,"id"),n.set("gif_button_id",a,!0),n.topLevel&&t.setVariable("gif_button_id",a),n.topLevel&&t.addExport("gif_button_id",a),i+="\n",s=r.memberLookup(r.contextOrFrameLookup(t,n,"i18n"),"TAP_TO_PLAY_GIF"),n.set("gif_button_tap_to_play_text",s,!0),n.topLevel&&t.setVariable("gif_button_tap_to_play_text",s),n.topLevel&&t.addExport("gif_button_tap_to_play_text",s),i+="\n";var u=[];u.push(function(t){e.getTemplate("@buzzfeed/buzzblocks/components/gif-play-button/gif-play-button.html",!1,"app/static/components/subbuzz/_gif-play-button.html",null,function(e,n){e?o(e):t(null,n)})}),u.push(function(e,r){e.render(t.getVariables(),n,function(e,t){e?o(e):r(null,t)})}),u.push(function(e,t){i+=e,t(null)}),e.waterfall(u,function(){o(null,i+="\n")})}catch(e){o(r.handleError(e,null,null))}}},e.exports=a(o,r,o.nunjucksPrecompiled["app/static/components/subbuzz/_gif-play-button.html"],i)},9:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(2),o=n(45),i="sra-viewable",a="viewport-active";Object(r.a)(i,function(e){return new o.a(e)})},99:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o=1,i={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return i[o]=a,r(o),o++},u.clearImmediate=c}function c(e){delete i[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=i[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(55),n(75))}},[[271,1,0]]]);
//# sourceMappingURL=subbuzzes.6f2e50f9f2fb5d3393c4.js.map